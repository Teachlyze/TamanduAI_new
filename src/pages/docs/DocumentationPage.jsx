import React, { useState, useMemo } from 'react';
import Seo from '@/components/Seo';
import { useNavigate } from 'react-router-dom';
import { motion, AnimatePresence } from 'framer-motion';
import { 
  BookOpen, Search, ChevronRight, Home, Users, GraduationCap, Video, 
  MessageSquare, Settings, BarChart3, Shield, Zap, CheckCircle2, Code, 
  Lightbulb, FileText, Clock, Award, Brain, Database, Lock, Globe,
  Smartphone, Gamepad2, ChartBar, Bell, Calendar, Download, Upload,
  Eye, Edit, Trash2, Plus, Check, X, AlertCircle, Info, HelpCircle,
  ArrowRight, ExternalLink, Copy, PlayCircle, Sparkles, Target, TrendingUp,
  Trophy,
  Building2
} from 'lucide-react';
import { Input } from '@/components/ui/input';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';

const DocumentationPagePremium = () => {
  const navigate = useNavigate();
  const [searchQuery, setSearchQuery] = useState('');
  const [selectedSection, setSelectedSection] = useState('intro');
  const [selectedCategory, setSelectedCategory] = useState('all');
  const [searchHistory, setSearchHistory] = useState([]);
  const [showFeedback, setShowFeedback] = useState(false);
  const [feedbackType, setFeedbackType] = useState(null);

  // Se√ß√µes da documenta√ß√£o
  const sections = [
    {
      id: 'intro',
      title: 'Introdu√ß√£o',
      icon: Home,
      category: 'In√≠cio',
      content: {
        title: 'üëã Bem-vindo ao TamanduAI',
        description: 'A plataforma educacional mais completa e moderna do Brasil',
        items: [
          {
            title: 'O que √© TamanduAI?',
            content: 'TamanduAI √© a primeira plataforma educacional brasileira que combina IA avan√ßada (RAG, ML, NLP), gamifica√ß√£o completa, gest√£o de turmas, cria√ß√£o de atividades com corre√ß√£o autom√°tica, sistema anti-pl√°gio, videoconfer√™ncias, chatbot inteligente que aprende com seus materiais, banco de quest√µes colaborativo e analytics com 4 modelos de Machine Learning. Tudo em uma √∫nica solu√ß√£o integrada e 100% em portugu√™s.',
            list: [
              'IA Propriet√°ria: RAG v2.0 + GPT-4o fine-tuned para educa√ß√£o',
              'Gamifica√ß√£o: XP, 16 n√≠veis, 50+ badges, miss√µes customizadas',
              'Anti-Pl√°gio: Winston AI com 100 verifica√ß√µes/hora',
              'Analytics ML: K-Means, PCA, An√°lise de Sentimento, Predi√ß√£o',
              'Banco Colaborativo: 10.000+ quest√µes + descontos at√© 30%',
              'Videoconfer√™ncias: Agora.io + grava√ß√£o autom√°tica',
              'Seguran√ßa: 100% LGPD compliant + criptografia end-to-end'
            ]
          },
          {
            title: 'üéØ Diferenciais √önicos (N√£o Existem em Nenhum Concorrente)',
            list: [
              'Chatbot RAG: IA que aprende com SEU material did√°tico (PDFs, slides, links)',
              'Programa de Descontos: Ganhe at√© 30% off contribuindo quest√µes',
              'ML Avan√ßado: 4 modelos de IA para insights que ningu√©m mais oferece',
              'Gamifica√ß√£o Completa: Sistema de XP mais robusto do mercado educacional',
              'Anti-Pl√°gio Duplo: Detecta pl√°gio de internet E conte√∫do gerado por IA',
              'Analytics Preditivo: Prev√™ risco de reprova√ß√£o com 85% de precis√£o',
              'Flywheel de Valor: Quanto mais professores usam, melhor fica para todos',
              'Suporte Brasileiro: Time local, em portugu√™s, que entende sua realidade'
            ]
          },
          {
            title: 'üë• Para Quem √© o TamanduAI?',
            list: [
              'üë®‚Äçüè´ Professores Independentes: De qualquer mat√©ria, ensino fundamental ao superior',
              'üë©‚Äçüéì Professores de Escolas: Integrado com gest√£o escolar completa',
              'üè´ Escolas Pequenas: 50-200 alunos, gest√£o simples e eficiente',
              'üèõÔ∏è Escolas M√©dias/Grandes: 200-2000+ alunos, relat√≥rios executivos',
              'üéì Institui√ß√µes de Ensino Superior: Cursos livres, EAD, gradua√ß√£o',
              'üìö Cursos Preparat√≥rios: ENEM, vestibulares, concursos',
              'üåê Ensino EAD: 100% online ou h√≠brido',
              'üßë‚Äçüíº Coordenadores e Diretores: Dashboard administrativo completo'
            ]
          },
          {
            title: 'üîí Seguran√ßa e Privacidade (Prioridade #1)',
            content: 'Levamos MUITO a s√©rio a prote√ß√£o dos seus dados e dos seus alunos. Somos 100% compat√≠veis com LGPD e seguimos as melhores pr√°ticas internacionais de seguran√ßa.',
            list: [
              'Criptografia AES-256 em repouso e TLS 1.3 em tr√¢nsito',
              'Servidores no Brasil (AWS S√£o Paulo) para conformidade LGPD',
              'Backups autom√°ticos di√°rios + reten√ß√£o de 30 dias',
              'Autentica√ß√£o de 2 fatores (2FA) obrigat√≥ria para admins',
              'Logs de auditoria completos (quem acessou o qu√™ e quando)',
              'Professores t√™m controle 100% dos dados de seus alunos',
              'Dados NUNCA compartilhados com terceiros (zero ads)',
              'Certifica√ß√µes: ISO 27001, SOC 2 Type II (em processo)',
              'DPO dedicado: dpo@tamanduai.com',
              'Direito de portabilidade: exporte seus dados a qualquer momento'
            ]
          },
          {
            title: 'üí∞ Modelo de Pre√ßos Transparente',
            content: 'Programa Beta ativo: 3 meses GR√ÅTIS com acesso completo. Depois, a partir de R$ 49/m√™s. Sem surpresas, sem taxas ocultas.',
            list: [
              'Beta (3 meses): R$ 0 - Acesso completo a tudo',
              'Pro: R$ 49/m√™s - Ideal para professores independentes',
              'Escola Pequena: R$ 199/m√™s - At√© 200 alunos',
              'Escola M√©dia: R$ 499/m√™s - At√© 1000 alunos',
              'Enterprise: Custom - Ilimitado + personaliza√ß√£o',
              'Desconto Anual: 2 meses gr√°tis (pague 10, use 12)',
              'Desconto Colaborativo: At√© 30% contribuindo quest√µes',
              'Garantia: 30 dias para cancelar e receber reembolso total'
            ]
          }
        ]
      }
    },
    {
      id: 'getting-started',
      title: 'Primeiros Passos',
      icon: Zap,
      category: 'In√≠cio',
      content: {
        title: 'üöÄ Come√ßando com TamanduAI',
        description: 'Guia completo passo-a-passo para come√ßar em 15 minutos',
        items: [
          {
            title: 'Passo 1: Criar uma Conta (2 min)',
            content: 'Acesse tamanduai.com/register. Preencha: nome completo, email v√°lido (ser√° usado para login), senha forte (m√≠nimo 8 caracteres, letras + n√∫meros). Escolha seu perfil: Professor (cria turmas e atividades), Aluno (participa de turmas), Escola (gerencia professores e turmas).',
            code: `// Endpoint de registro
POST https://api.tamanduai.com/auth/register
{
  "name": "Jo√£o Silva",
  "email": "joao@escola.com",
  "password": "senha123",
  "role": "teacher" // ou "student", "school"
}`,
            list: [
              'Email √∫nico (n√£o pode ter 2 contas com mesmo email)',
              'Senha segura (mix de mai√∫sculas, min√∫sculas, n√∫meros)',
              'Role correto (n√£o pode mudar depois)',
              'Termos de uso e privacidade (leia!)'
            ]
          },
          {
            title: 'Passo 2: Confirmar Email (1 min)',
            content: 'Verifique sua caixa de entrada (e pasta de spam). Clique no link de confirma√ß√£o que enviamos. IMPORTANTE: Sem confirma√ß√£o, voc√™ n√£o pode criar turmas ou atividades (seguran√ßa LGPD).',
            list: [
              'Email chega em at√© 2 minutos',
              'Link v√°lido por 24 horas',
              'N√£o recebeu? Clique em "Reenviar Confirma√ß√£o"',
              'Verifique spam/lixo eletr√¥nico',
              'Adicione noreply@tamanduai.com aos contatos'
            ]
          },
          {
            title: 'Passo 3: Completar Perfil (3 min)',
            content: 'V√° em Configura√ß√µes > Editar Perfil. Adicione: foto de perfil (jpg/png at√© 5MB), institui√ß√£o de ensino, mat√©rias que leciona (pode selecionar m√∫ltiplas), bio curta (at√© 200 caracteres), telefone opcional. Quanto mais completo, melhor a personaliza√ß√£o da IA.',
            list: [
              'Foto: Aparece em chats, atividades, ranking',
              'Institui√ß√£o: Conecta voc√™ com outros da mesma escola',
              'Mat√©rias: IA sugere quest√µes relevantes',
              'Bio: Alunos veem no seu perfil',
              'Telefone: Opcional, para suporte emergencial'
            ]
          },
          {
            title: 'Passo 4: Criar Primeira Turma (3 min) - PROFESSOR',
            content: 'Menu lateral > Turmas > Nova Turma. Preencha: nome √∫nico (ex: "Matem√°tica 9A"), mat√©ria (selecione da lista), ano letivo (2024, 2025...), descri√ß√£o opcional (aparece para alunos), cor personalizada (para identifica√ß√£o visual r√°pida). Clique em "Criar Turma".',
            code: `// Exemplo de turma
{
  name: "Matem√°tica 9A",
  subject: "Matem√°tica",
  grade_level: "9¬∫ ano",
  academic_year: 2024,
  description: "Foco em √Ålgebra e Geometria",
  color: "#6366f1", // Azul √≠ndigo
  max_students: 40 // Opcional
}`,
            list: [
              'Nome: Seja descritivo (mat√©ria + turma + per√≠odo)',
              'Mat√©ria: Afeta sugest√µes de quest√µes da IA',
              'Ano: Organiza turmas por per√≠odo',
              'Cor: Ajuda a identificar rapidamente',
              'Limite: Opcional (padr√£o: ilimitado no Beta)'
            ]
          },
          {
            title: 'Passo 5: Convidar Alunos (2 min)',
            content: 'Dentro da turma criada, v√° em "Membros" > "Convidar". Copie o c√≥digo de 6 d√≠gitos (ex: ABC123) ou link direto. Compartilhe com alunos por WhatsApp, email, ou projete na sala. Alunos entram digitando o c√≥digo em tamanduai.com/join-class.',
            list: [
              'C√≥digo expira em 7 dias (renov√°vel com 1 clique)',
              'Link direto: V√°lido permanentemente',
              'Alunos recebem notifica√ß√£o ao entrar',
              'Voc√™ v√™ log de entrada/sa√≠da de membros',
              'Pode remover alunos a qualquer momento',
              'Defina permiss√µes: admin, monitor, aluno regular'
            ]
          },
          {
            title: 'Passo 6: Criar Primeira Atividade (4 min)',
            content: 'Atividades > Nova Atividade. Escolha tipo: Trabalho (resposta em texto/upload), Quiz (m√∫ltipla escolha, corre√ß√£o autom√°tica), Prova (mista), Projeto (m√∫ltiplos arquivos). Defina: t√≠tulo, descri√ß√£o detalhada, prazo (data + hora), pontua√ß√£o m√°xima, turmas que receber√£o.',
            list: [
              'Trabalho: Melhor para reda√ß√µes, an√°lises, dissertativas',
              'Quiz: Ideal para fixa√ß√£o r√°pida, corre√ß√£o instant√¢nea',
              'Prova: Mix de objetiva + dissertativa, tempo limitado',
              'Projeto: Para trabalhos grandes, em grupo',
              'Sempre adicione descri√ß√£o clara do que espera',
              'Prazo: Considere fuso hor√°rio dos alunos'
            ]
          },
          {
            title: 'Passo 7: Configurar Corre√ß√£o Autom√°tica (opcional)',
            content: 'Para quizzes: Corre√ß√£o √© autom√°tica. Para trabalhos: V√° em Configura√ß√µes da Atividade > Ativar "Corre√ß√£o com IA". Defina crit√©rios (ortografia 20%, conte√∫do 50%, argumenta√ß√£o 30%). IA gera nota sugerida + feedback, voc√™ revisa e aprova.',
            list: [
              'IA economiza 70% do seu tempo de corre√ß√£o',
              'Voc√™ SEMPRE revisa antes de publicar nota',
              'Feedback autom√°tico √© detalhado e construtivo',
              'Pode desativar IA e corrigir 100% manual',
              'IA melhora com suas corre√ß√µes (aprende seu estilo)'
            ]
          },
          {
            title: 'Passo 8: Explorar Dashboard (2 min)',
            content: 'Familiarize-se com: estat√≠sticas de desempenho (cards no topo), atividades pendentes de corre√ß√£o (lista central), calend√°rio de eventos (sidebar), notifica√ß√µes (sino), ranking de alunos (link r√°pido), analytics ML (gr√°ficos avan√ßados).',
            list: [
              'Dashboard atualiza em tempo real',
              'Clique nos cards para drill-down',
              'Gr√°ficos s√£o interativos (hover para detalhes)',
              'Exporta√ß√£o de qualquer relat√≥rio (PDF/Excel)',
              'Personalize layout: arraste e solte widgets'
            ]
          },
          {
            title: '‚úÖ Checklist Final - Voc√™ est√° pronto se:',
            list: [
              '‚úîÔ∏è Email confirmado',
              '‚úîÔ∏è Perfil completo com foto',
              '‚úîÔ∏è Pelo menos 1 turma criada',
              '‚úîÔ∏è Pelo menos 1 aluno na turma',
              '‚úîÔ∏è 1 atividade criada e publicada',
              '‚úîÔ∏è Dashboard familiarizado',
              '‚úîÔ∏è Explorou configura√ß√µes b√°sicas'
            ]
          },
          {
            title: 'üéì Pr√≥ximos Passos Recomendados',
            list: [
              'Upload material did√°tico para chatbot RAG (Configura√ß√µes > Chatbot)',
              'Explorar Banco de Quest√µes (Recursos > Banco)',
              'Configurar notifica√ß√µes (Configura√ß√µes > Notifica√ß√µes)',
              'Criar primeira miss√£o de gamifica√ß√£o (Miss√µes > Nova)',
              'Ver analytics avan√ßado (Analytics > ML)',
              'Assistir v√≠deos tutoriais (Help > V√≠deos)',
              'Convidar colegas professores (Ganhe b√¥nus XP)'
            ]
          }
        ]
      }
    },
    {
      id: 'teachers',
      title: 'Guia para Professores',
      icon: Users,
      category: 'Usu√°rios',
      content: {
        title: 'üë®‚Äçüè´ Professores',
        description: 'Recursos e funcionalidades para educadores',
        items: [
          {
            title: 'Gerenciar Turmas',
            list: [
              'Criar e organizar turmas por mat√©ria/s√©rie',
              'Adicionar/remover alunos',
              'Visualizar lista de presen√ßa',
              'Acompanhar desempenho geral da turma',
              'Enviar comunicados e avisos'
            ]
          },
          {
            title: 'Criar Atividades',
            list: [
              'Trabalhos dissertativos',
              'Provas objetivas e dissertativas',
              'Quizzes interativos',
              'Projetos em grupo',
              'Atividades com prazo',
              'Anexar arquivos e materiais de apoio'
            ]
          },
          {
            title: 'Corre√ß√£o Autom√°tica',
            content: 'Para quest√µes objetivas, a corre√ß√£o √© instant√¢nea. Para quest√µes dissertativas, use a IA como assistente de corre√ß√£o ou corrija manualmente.'
          },
          {
            title: 'Detec√ß√£o de Pl√°gio',
            content: 'Todas as respostas dissertativas s√£o analisadas automaticamente. Receba alertas quando houver suspeita de pl√°gio com percentual de similaridade.'
          },
          {
            title: 'Relat√≥rios e Analytics',
            content: 'Visualize gr√°ficos de desempenho, m√©dias por turma, evolu√ß√£o temporal, e identifique alunos que precisam de aten√ß√£o.'
          }
        ]
      }
    },
    {
      id: 'students',
      title: 'Guia para Alunos',
      icon: GraduationCap,
      category: 'Usu√°rios',
      content: {
        title: 'üéì Alunos',
        description: 'Como usar a plataforma como estudante',
        items: [
          {
            title: 'Acessar Turmas',
            content: 'Use o c√≥digo fornecido pelo professor para entrar em uma turma. Voc√™ ter√° acesso a todos os materiais e atividades.'
          },
          {
            title: 'Realizar Atividades',
            list: [
              'Visualize prazos no calend√°rio',
              'Responda quest√µes objetivas e dissertativas',
              'Anexe arquivos quando solicitado',
              'Salve rascunhos antes de enviar',
              'Receba feedback do professor'
            ]
          },
          {
            title: 'Chatbot Educacional',
            content: 'Tire d√∫vidas 24/7 com nosso assistente virtual. Ele pode explicar conceitos, resolver exerc√≠cios e recomendar materiais de estudo.'
          },
          {
            title: 'Acompanhar Notas',
            content: 'Visualize suas notas, m√©dias e desempenho em gr√°ficos interativos. Compare com a m√©dia da turma (anonimizado).'
          },
          {
            title: 'Notifica√ß√µes',
            content: 'Receba alertas de novos trabalhos, prazos pr√≥ximos, notas publicadas e mensagens do professor.'
          }
        ]
      }
    },
    {
      id: 'meetings',
      title: 'Videoconfer√™ncias',
      icon: Video,
      category: 'Recursos',
      content: {
        title: 'üé• Reuni√µes e Aulas Online',
        description: 'Sistema de videoconfer√™ncia integrado',
        items: [
          {
            title: 'Criar uma Reuni√£o',
            content: 'V√° em "Reuni√µes" ‚Üí "Nova Reuni√£o". Defina t√≠tulo, data/hora, participantes e configura√ß√µes (c√¢mera obrigat√≥ria, grava√ß√£o, etc).'
          },
          {
            title: 'Recursos Durante a Chamada',
            list: [
              'Compartilhamento de tela',
              'Quadro branco interativo',
              'Chat em tempo real',
              'Levantar a m√£o',
              'Rea√ß√µes (üëç ‚ù§Ô∏è üëè)',
              'Grava√ß√£o de aula',
              'Breakout rooms (salas paralelas)'
            ]
          },
          {
            title: 'Gravar Aulas',
            content: 'Ative a grava√ß√£o para que alunos ausentes possam assistir depois. Grava√ß√µes ficam dispon√≠veis na biblioteca da turma.'
          },
          {
            title: 'Quadro Branco',
            content: 'Use ferramentas de desenho, formas geom√©tricas, texto e importa√ß√£o de imagens para explicar conceitos visuais.'
          }
        ]
      }
    },
    {
      id: 'chatbot',
      title: 'Chatbot com IA',
      icon: MessageSquare,
      category: 'Recursos',
      content: {
        title: 'ü§ñ Assistente Virtual',
        description: 'IA educacional para tirar d√∫vidas',
        items: [
          {
            title: 'Como Funciona',
            content: 'Nosso chatbot usa modelos de linguagem avan√ßados treinados em conte√∫do educacional. Ele entende contexto e pode explicar desde conceitos b√°sicos at√© avan√ßados.'
          },
          {
            title: 'Tipos de Perguntas',
            list: [
              'Explica√ß√£o de conceitos (ex: "O que √© fotoss√≠ntese?")',
              'Resolu√ß√£o de exerc√≠cios passo a passo',
              'D√∫vidas sobre mat√©rias espec√≠ficas',
              'Recomenda√ß√µes de material de estudo',
              'Simulados e quest√µes de pr√°tica',
              'Dicas de estudo e organiza√ß√£o'
            ]
          },
          {
            title: 'Limita√ß√µes',
            content: 'O chatbot n√£o pode fazer trabalhos por voc√™, acessar informa√ß√µes pessoais ou substituir o aprendizado ativo. Use-o como ferramenta de apoio.'
          },
          {
            title: 'Hist√≥rico',
            content: 'Todas as conversas ficam salvas para consulta futura. Voc√™ pode continuar uma conversa anterior a qualquer momento.'
          }
        ]
      }
    },
    {
      id: 'plagiarism',
      title: 'Sistema Anti-Pl√°gio',
      icon: Shield,
      category: 'Recursos',
      content: {
        title: 'üõ°Ô∏è Detec√ß√£o de Pl√°gio',
        description: 'IA para garantir originalidade',
        items: [
          {
            title: 'Como Funciona',
            content: 'Cada resposta dissertativa √© analisada contra nossa base de conhecimento, internet e trabalhos anteriores. A IA detecta similaridades e par√°frases.'
          },
          {
            title: 'N√≠veis de Alerta',
            list: [
              'üü¢ Verde (0-20%): Originalidade alta',
              'üü° Amarelo (20-50%): Suspeita baixa - revisar',
              'üü† Laranja (50-70%): Suspeita m√©dia - investigar',
              'üî¥ Vermelho (70-100%): Pl√°gio detectado'
            ]
          },
          {
            title: 'Para Professores',
            content: 'Visualize trechos similares destacados, fontes encontradas e percentual de originalidade. Decida se aceita ou n√£o o trabalho.'
          },
          {
            title: 'Para Alunos',
            content: 'Antes de enviar, voc√™ pode verificar sua resposta e receber sugest√µes para melhorar a originalidade.'
          }
        ]
      }
    },
    {
      id: 'analytics',
      title: 'Relat√≥rios e Analytics',
      icon: BarChart3,
      category: 'Recursos',
      content: {
        title: 'üìä An√°lise de Desempenho',
        description: 'Dados e insights educacionais',
        items: [
          {
            title: 'Dashboard do Professor',
            list: [
              'M√©dia geral de todas as turmas',
              'Taxa de conclus√£o de atividades',
              'Alunos com dificuldades (m√©dia < 6)',
              'Evolu√ß√£o temporal (gr√°fico de linha)',
              'Comparativo entre turmas',
              'Atividades com maior/menor desempenho'
            ]
          },
          {
            title: 'Dashboard do Aluno',
            list: [
              'Suas notas e m√©dias',
              'Progresso em cada mat√©ria',
              'Ranking na turma (opcional)',
              'Atividades pendentes',
              'Hist√≥rico de desempenho',
              'Sugest√µes de melhoria'
            ]
          },
          {
            title: 'Exportar Dados',
            content: 'Exporte relat√≥rios em PDF, Excel ou CSV. Compartilhe com coordenadores ou use para reuni√µes de pais.'
          }
        ]
      }
    },
    {
      id: 'settings',
      title: 'Configura√ß√µes',
      icon: Settings,
      category: 'Avan√ßado',
      content: {
        title: '‚öôÔ∏è Personaliza√ß√£o',
        description: 'Configure a plataforma do seu jeito',
        items: [
          {
            title: 'Perfil',
            list: [
              'Alterar foto e informa√ß√µes pessoais',
              'Atualizar email e senha',
              'Definir prefer√™ncias de notifica√ß√£o',
              'Escolher idioma (PT, EN, ES)',
              'Tema claro/escuro'
            ]
          },
          {
            title: 'Privacidade',
            list: [
              'Controlar visibilidade do perfil',
              'Gerenciar dados compartilhados',
              'Exportar ou deletar seus dados',
              'Configurar permiss√µes do chatbot',
              'Hist√≥rico de acessos'
            ]
          },
          {
            title: 'Notifica√ß√µes',
            list: [
              'Email: novos trabalhos, prazos, notas',
              'Push: lembretes de reuni√µes',
              'SMS: avisos urgentes',
              'Frequ√™ncia: imediata, di√°ria, semanal'
            ]
          }
        ]
      }
    },
    {
      id: 'api',
      title: 'API e Integra√ß√µes',
      icon: Code,
      category: 'Avan√ßado',
      content: {
        title: 'üîå Integra√ß√µes',
        description: 'Conecte com outras ferramentas',
        items: [
          {
            title: 'API REST',
            content: 'Acesse nossos endpoints para integrar TamanduAI com sistemas externos. Documenta√ß√£o completa em /api/docs.'
          },
          {
            title: 'Autentica√ß√£o',
            code: `
// Exemplo de autentica√ß√£o
const token = await fetch('https://api.tamanduai.com/auth/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    email: 'professor@escola.com',
    password: 'senha123'
  })
}).then(r => r.json());
            `
          },
          {
            title: 'Webhooks',
            content: 'Configure webhooks para receber notifica√ß√µes quando eventos importantes acontecerem (nova atividade enviada, reuni√£o iniciada, etc).'
          },
          {
            title: 'Integra√ß√µes Dispon√≠veis',
            list: [
              'Google Classroom',
              'Microsoft Teams',
              'Moodle',
              'Canvas LMS',
              'Google Drive',
              'OneDrive',
              'Zoom',
              'Google Meet'
            ]
          }
        ]
      }
    },
    {
      id: 'gamification',
      title: 'Gamifica√ß√£o',
      icon: Trophy,
      category: 'Recursos',
      content: {
        title: 'üéÆ Sistema de Gamifica√ß√£o',
        description: 'XP, n√≠veis, badges, miss√µes e rankings para engajar alunos',
        items: [
          {
            title: 'Sistema de XP e N√≠veis',
            content: 'Alunos ganham XP (Experience Points) realizando atividades, participando de discuss√µes e mantendo streaks di√°rios. Cada 100 XP = 1 n√≠vel. Existem 16 n√≠veis divididos em 4 tiers: Bronze (I-IV), Prata (I-IV), Ouro (I-IV), Diamante (I-IV).',
            list: [
              'Submeter atividade: +20 XP base',
              'Nota 9-10: b√¥nus +50% XP',
              'Nota 7-8.9: b√¥nus +25% XP',
              'Primeira atividade do dia: +5 XP',
              'Streak di√°rio: +10 XP por dia consecutivo',
              'Participar em discuss√£o: +5 XP por mensagem (max 3/dia)',
              'Completar miss√£o: XP vari√°vel (50-500 XP)'
            ]
          },
          {
            title: 'Badges e Conquistas',
            content: 'Mais de 50 badges colecion√°veis desbloqueados por a√ß√µes espec√≠ficas. Alunos podem exibir at√© 3 badges no perfil. Badges raros brilham com anima√ß√£o especial.',
            list: [
              'üèÜ Primeira Atividade - Complete sua primeira atividade',
              '‚≠ê Nota 10 - Tire nota m√°xima',
              'üî• Streak 7 - Mantenha 7 dias consecutivos',
              'üìö Estudioso - Complete 50 atividades',
              'ü•á Top 3 - Fique entre os 3 primeiros do ranking',
              'ü§ù Helper - Ajude 10 colegas',
              'üéØ Mestre - Domine uma mat√©ria (m√©dia 9.5+)',
              'üíé Lend√°rio - Atinja n√≠vel Diamante'
            ]
          },
          {
            title: 'Rankings',
            content: 'Dois rankings atualizados em tempo real: Ranking da Turma (compara com colegas da mesma turma) e Ranking da Escola (todos alunos da institui√ß√£o). Top 3 recebem medalhas especiais (ü•áü•àü•â) e badges exclusivos.',
            code: `// Exemplo de XP por atividade
const calculateXP = (score, maxScore) => {
  const baseXP = 20;
  const percentage = (score / maxScore) * 100;
  
  if (percentage >= 90) return baseXP * 1.5; // +50% b√¥nus
  if (percentage >= 70) return baseXP * 1.25; // +25% b√¥nus
  return baseXP;
};`
          },
          {
            title: 'Miss√µes e Desafios',
            content: 'Professores podem criar miss√µes customizadas: di√°rias (reset todo dia), semanais (mais XP), especiais (eventos), secretas (surpresa). Alunos veem progresso em tempo real.',
            list: [
              'Complete 5 quizzes com 80%+ de acerto',
              'Participe de 3 discuss√µes esta semana',
              'Mantenha streak de 5 dias',
              'Ajude 3 colegas em d√∫vidas',
              'Atinja m√©dia 8.0 em Matem√°tica',
              'Envie todas atividades no prazo por 1 m√™s'
            ]
          }
        ]
      }
    },
    {
      id: 'ml-analytics',
      title: 'Analytics com ML',
      icon: Brain,
      category: 'Recursos',
      content: {
        title: 'üß† Machine Learning e IA',
        description: '4 modelos de ML para insights avan√ßados e predi√ß√µes',
        items: [
          {
            title: '1. K-Means Clustering',
            content: 'Agrupa alunos automaticamente em 3 clusters: Alto Desempenho (m√©dia 8.5+), M√©dio (6.0-8.4), Baixo (<6.0). O algoritmo analisa: notas, frequ√™ncia de entregas, participa√ß√£o em aulas/discuss√µes, tempo m√©dio de realiza√ß√£o. Visualiza√ß√£o em gr√°fico scatter 2D interativo.',
            code: `// Clusters gerados automaticamente
{
  "Alto Desempenho": {
    students: 8,
    avgGrade: 9.2,
    characteristics: ["Entregas pontuais", "Alta participa√ß√£o"]
  },
  "M√©dio": {
    students: 15,
    avgGrade: 7.1,
    characteristics: ["Entregas regulares", "Participa√ß√£o moderada"]
  },
  "Baixo": {
    students: 5,
    avgGrade: 4.8,
    characteristics: ["Entregas atrasadas", "Baixa participa√ß√£o"]
  }
}`
          },
          {
            title: '2. PCA (Principal Component Analysis)',
            content: 'Reduz dimensionalidade de m√∫ltiplas m√©tricas (notas de diferentes atividades, presen√ßa, engajamento) em 2 componentes principais. Identifica padr√µes ocultos que n√£o s√£o vis√≠veis analisando m√©tricas isoladas. Ex: alunos que v√£o bem em teoria mas mal em pr√°tica.',
            list: [
              'Descobre correla√ß√µes entre diferentes mat√©rias',
              'Identifica alunos com perfis similares',
              'Agrupa atividades por dificuldade real',
              'Detecta m√©tricas redundantes',
              'Gr√°fico de vari√¢ncia explicada'
            ]
          },
          {
            title: '3. An√°lise de Sentimento',
            content: 'IA analisa textos de alunos (respostas dissertativas, mensagens no chat, posts em discuss√µes) usando modelo BERT fine-tuned para educa√ß√£o. Detecta 3 sentimentos: Positivo (üòä), Neutro (üòê), Negativo (üòû). Acur√°cia: 87% em portugu√™s.',
            list: [
              'Alerta autom√°tico para alunos desmotivados',
              'Gr√°fico de evolu√ß√£o de sentimento ao longo do tempo',
              'Compara√ß√£o de sentimento entre turmas',
              'Identifica√ß√£o de t√≥picos que geram frustra√ß√£o',
              'Dashboard com % positivo/neutro/negativo',
              'Sugest√µes de interven√ß√£o pedag√≥gica'
            ]
          },
          {
            title: '4. Predi√ß√£o de Desempenho',
            content: 'Modelo de regress√£o linear prev√™ nota final do aluno baseado em: notas parciais (peso 40%), frequ√™ncia de entregas (30%), engajamento (20%), hist√≥rico (10%). Mostra probabilidade de aprova√ß√£o/reprova√ß√£o. Permite interven√ß√£o antecipada.',
            code: `// Exemplo de predi√ß√£o
{
  student_id: "abc123",
  predicted_final_grade: 7.2,
  confidence: 0.85,
  probability_pass: 0.78,
  probability_fail: 0.22,
  risk_level: "medium",
  recommendations: [
    "Revisar conceitos de √Ålgebra",
    "Aumentar participa√ß√£o nas aulas",
    "Entregar pr√≥ximas 3 atividades no prazo"
  ]
}`
          },
          {
            title: 'Dashboards Interativos',
            content: 'Gr√°ficos constru√≠dos com Recharts: scatter plot (clustering), heatmap (correla√ß√µes), bar chart (compara√ß√µes), line chart (evolu√ß√£o temporal), radar chart (perfis). Todos com tooltip interativo, zoom, filtros por turma/per√≠odo, exporta√ß√£o PDF/Excel.',
            list: [
              'Filtros: turma, per√≠odo, aluno, atividade',
              'Zoom e pan nos gr√°ficos',
              'Download de dados brutos (CSV)',
              'Compartilhamento via link',
              'Agendamento de relat√≥rios autom√°ticos',
              'Integra√ß√£o com Google Sheets'
            ]
          }
        ]
      }
    },
    {
      id: 'question-bank',
      title: 'Banco de Quest√µes',
      icon: Database,
      category: 'Recursos',
      content: {
        title: 'üìö Banco de Quest√µes Colaborativo',
        description: 'Milhares de quest√µes + programa de descontos √∫nico',
        items: [
          {
            title: 'Buscar e Usar Quest√µes',
            content: 'Acesso a mais de 10.000 quest√µes curadas e revisadas. Filtros avan√ßados: mat√©ria (Matem√°tica, Portugu√™s, etc), ano/s√©rie (6¬∫ ano, Ensino M√©dio), n√≠vel de dificuldade (F√°cil/M√©dio/Dif√≠cil), tipo (m√∫ltipla escolha, dissertativa, V/F), tags, BNCC. Visualize quest√£o completa, gabarito comentado, estat√≠sticas de uso e rating.',
            list: [
              'Preview completo antes de adicionar',
              'Gabarito com explica√ß√£o passo-a-passo',
              'Rating de outros professores (1-5 estrelas)',
              'Estat√≠sticas: % acerto m√©dio, tempo m√©dio',
              'Quest√µes similares (sugest√µes)',
              'Hist√≥rico de revis√µes',
              'Coment√°rios e dicas de uso'
            ]
          },
          {
            title: 'Contribuir Quest√µes',
            content: 'Clique em "Nova Quest√£o", preencha enunciado, alternativas (se aplic√°vel), resposta correta, explica√ß√£o detalhada, tags, n√≠vel de dificuldade, mat√©ria, ano. Envie para revis√£o. Nossa IA faz primeira an√°lise (gram√°tica, clareza, ambiguidade). Se aprovada por moderador humano, entra no banco.',
            code: `// Estrutura de uma quest√£o
{
  question: "Qual √© a f√≥rmula de Bhaskara?",
  type: "multiple_choice",
  options: ["x = -b ¬± ‚àö(b¬≤-4ac) / 2a", "..."],
  correct: 0,
  explanation: "A f√≥rmula de Bhaskara...",
  difficulty: "medium",
  subject: "Matem√°tica",
  grade: "9¬∫ ano",
  tags: ["equa√ß√£o", "segundo grau", "√°lgebra"],
  bncc_code: "EF09MA09"
}`
          },
          {
            title: 'Programa de Descontos √öNICO',
            content: 'Cada quest√£o aprovada = 0.1% de desconto permanente na mensalidade. M√°ximo: 30% off. Quest√µes com rating 4.5+ estrelas = b√¥nus 2x (0.2% por quest√£o). Flywheel: quanto mais professores contribuem, melhor o banco fica, mais valor todos recebem.',
            list: [
              '10 quest√µes aprovadas = 1% desconto',
              '50 quest√µes = 5% desconto',
              '100 quest√µes = 10% desconto',
              '300 quest√µes = 30% desconto (m√°ximo)',
              'Desconto √© permanente enquanto for assinante',
              'Quest√µes de alta qualidade (4.5+ ‚≠ê) = 2x desconto',
              'Dashboard mostra progresso e desconto atual'
            ]
          },
          {
            title: 'Importar para Atividades',
            content: 'Ao criar quiz/prova, clique "Importar do Banco". Selecione quest√µes (busca e filtros). Elas s√£o copiadas para sua atividade (n√£o referenciadas), ent√£o pode editar livremente sem afetar o banco. Sugest√£o autom√°tica de quest√µes baseadas no conte√∫do da aula.',
            list: [
              'Importa√ß√£o em lote (selecione m√∫ltiplas)',
              'Sugest√µes baseadas em IA do que voc√™ est√° ensinando',
              'Aleatoriza√ß√£o autom√°tica de quest√µes',
              'Banco de provas prontas (conjuntos curados)',
              'Preview de como ficar√° na atividade'
            ]
          }
        ]
      }
    },
    {
      id: 'school',
      title: 'Guia para Escolas',
      icon: Building2,
      category: 'Usu√°rios',
      content: {
        title: 'üè´ Gest√£o Escolar',
        description: 'Dashboard administrativo completo para coordenadores e diretores',
        items: [
          {
            title: 'Dashboard da Escola',
            content: 'Vis√£o consolidada de toda institui√ß√£o: total de professores, alunos, turmas ativas, m√©dia geral da escola, taxa de aprova√ß√£o, compara√ß√£o com metas, alertas de alunos em risco. Gr√°ficos de desempenho por ano/s√©rie, mat√©ria, professor.',
            list: [
              'KPIs em tempo real',
              'Compara√ß√£o com per√≠odo anterior',
              'Alertas autom√°ticos (quedas de desempenho)',
              'Metas e progresso',
              'Exporta√ß√£o de relat√≥rios executivos',
              'Dashboard customiz√°vel'
            ]
          },
          {
            title: 'Gerenciar Professores',
            content: 'Adicione professores manualmente ou via convite. Atribua turmas, defina permiss√µes (admin, coordenador, professor), acompanhe atividade (√∫ltimas a√ß√µes, turmas gerenciadas, atividades criadas). Relat√≥rios de desempenho por professor.',
            list: [
              'Convites por email com onboarding guiado',
              'Perfis de permiss√£o customizados',
              'Hist√≥rico de a√ß√µes de cada professor',
              'Avalia√ß√£o de desempenho docente',
              'Plano de desenvolvimento individual (PDI)',
              'Chat interno entre equipe'
            ]
          },
          {
            title: 'Comunica√ß√µes e Avisos',
            content: 'Envie comunicados para: Todos (escola inteira), Professores, Turmas espec√≠ficas, Alunos individuais. Agende envios futuros, anexe arquivos, rastreie leitura (quem leu, quem n√£o leu), envie lembretes autom√°ticos.',
            list: [
              'Templates de comunicados prontos',
              'Agendamento de envios',
              'Confirma√ß√£o de leitura',
              'Anexos (PDF, imagens, links)',
              'Tradu√ß√£o autom√°tica (multi-idioma)',
              'Hist√≥rico completo de comunica√ß√µes'
            ]
          },
          {
            title: 'Relat√≥rios Consolidados',
            content: 'Relat√≥rios prontos: Desempenho por Turma, Desempenho por Professor, Taxa de Aprova√ß√£o/Reprova√ß√£o, Frequ√™ncia Geral, Evas√£o Escolar (predi√ß√£o IA), Comparativo Trimestral/Semestral. Exporta√ß√£o em PDF, Excel, PowerPoint (para reuni√µes).',
            list: [
              'Relat√≥rios autom√°ticos semanais/mensais',
              'Compara√ß√£o com benchmarks nacionais',
              'An√°lise de causas (IA identifica padr√µes)',
              'Gr√°ficos prontos para apresenta√ß√µes',
              'Envio autom√°tico para diretoria',
              'Drill-down (clique para ver detalhes)'
            ]
          },
          {
            title: 'Analytics Avan√ßado da Escola',
            content: 'ML aplicado ao n√≠vel escolar: clustering de turmas por desempenho, an√°lise de sentimento geral dos alunos, predi√ß√£o de taxa de aprova√ß√£o por turma, identifica√ß√£o de professores que precisam suporte, otimiza√ß√£o de distribui√ß√£o de alunos por turma.',
            list: [
              'Clustering autom√°tico de turmas',
              'Predi√ß√£o de evas√£o por aluno (risco alto/m√©dio/baixo)',
              'An√°lise de efic√°cia por metodologia de ensino',
              'Recomenda√ß√µes de interven√ß√µes',
              'Simula√ß√µes (e se mudar X, qual impacto em Y)',
              'ROI do investimento em tecnologia educacional'
            ]
          }
        ]
      }
    },
    {
      id: 'faq',
      title: 'Perguntas Frequentes',
      icon: Lightbulb,
      category: 'Suporte',
      content: {
        title: '‚ùì FAQ',
        description: 'D√∫vidas mais comuns',
        items: [
          {
            title: '√â gratuito?',
            content: 'Sim! Oferecemos 3 meses gr√°tis no programa Beta com acesso completo a todas funcionalidades. Ap√≥s o per√≠odo beta, planos a partir de R$ 49/m√™s. Voc√™ pode ganhar at√© 30% de desconto contribuindo quest√µes ao banco. Planos pagos incluem: detec√ß√£o de pl√°gio ilimitada (Winston AI), chatbot RAG v2.0 com 200 msgs/dia, armazenamento ilimitado, analytics com ML, relat√≥rios avan√ßados e suporte priorit√°rio.'
          },
          {
            title: 'Quantos alunos e turmas posso ter?',
            content: 'ILIMITADO! Voc√™ pode adicionar quantos alunos, turmas e professores precisar em qualquer plano. Escalamos conforme seu crescimento. Plano Beta: acesso completo. Plano Pro: recursos avan√ßados de IA. Plano Enterprise: personaliza√ß√£o total e suporte dedicado.'
          },
          {
            title: 'Os dados s√£o seguros?',
            content: 'Absolutamente! Usamos criptografia AES-256, armazenamento em servidores seguros no Brasil, backups autom√°ticos di√°rios, conformidade 100% com LGPD, autentica√ß√£o de dois fatores (2FA) e auditorias de seguran√ßa regulares. Seus dados NUNCA s√£o compartilhados com terceiros. Temos certifica√ß√µes ISO 27001 e SOC 2.'
          },
          {
            title: 'Como funciona o chatbot com RAG v2.0?',
            content: 'Voc√™ faz upload de materiais did√°ticos (PDF, Word, PowerPoint, links/URLs) e o sistema usa Retrieval-Augmented Generation v2.0 para treinar o chatbot. Ele responde d√∫vidas dos alunos 24/7 com base nos seus materiais, citando fontes. Suporta at√© 200 mensagens/dia no plano Pro e respostas em at√© 2 segundos.'
          },
          {
            title: 'Como funciona o antipl√°gio?',
            content: 'Usamos Winston AI (detec√ß√£o de IA e pl√°gio) com 100 verifica√ß√µes/hora. O sistema analisa automaticamente todas as submiss√µes e detecta: pl√°gio de internet, conte√∫do gerado por IA (ChatGPT, etc), similaridade com trabalhos anteriores. Voc√™ recebe alertas em tempo real e relat√≥rios detalhados com porcentagens e fontes.'
          },
          {
            title: 'Posso usar em qualquer dispositivo?',
            content: 'Sim! TamanduAI √© 100% responsivo e funciona perfeitamente em: Computadores (Windows, Mac, Linux), Tablets (iPad, Android), Smartphones (iOS, Android). Interface adapt√°vel com modo claro/escuro. Alguns recursos funcionam offline com sincroniza√ß√£o autom√°tica.'
          },
          {
            title: 'Como funcionam as videoconfer√™ncias?',
            content: 'Integramos com Agora.io para videoconfer√™ncias nativas de alta qualidade. Voc√™ tamb√©m pode adicionar links externos de Google Meet, Zoom, Teams. Recursos: grava√ß√£o de aulas, compartilhamento de tela, chat ao vivo, lista de presen√ßa autom√°tica, at√© 100 participantes simult√¢neos.'
          },
          {
            title: 'Posso integrar com outras plataformas?',
            content: 'Sim! Integra√ß√µes atuais: Google Meet, Zoom (links externos), Google Drive, Microsoft OneDrive. Em desenvolvimento: Google Classroom, Microsoft Teams, Moodle, Canvas LMS. API REST dispon√≠vel para integra√ß√µes customizadas no plano Enterprise.'
          },
          {
            title: 'Como funciona a gamifica√ß√£o?',
            content: 'Sistema completo com: XP por atividades (10-100 XP), 16 n√≠veis (Bronze I at√© Diamante IV), badges por conquistas, rankings por turma e escola, miss√µes di√°rias/semanais, recompensas customiz√°veis. Aumenta engajamento em at√© 40% segundo nossos estudos.'
          },
          {
            title: 'Como cancelar ou pausar minha conta?',
            content: 'Voc√™ tem total controle: Pausar (suspende cobran√ßas, mant√©m dados por 90 dias), Cancelar (continua at√© fim do per√≠odo pago), Excluir (remove todos dados em 30 dias conforme LGPD). Acesse: Configura√ß√µes ‚Üí Conta ‚Üí Gerenciar Assinatura. Sem burocracias ou taxas de cancelamento.'
          }
        ]
      }
    },
    {
      id: 'support',
      title: 'Suporte',
      icon: FileText,
      category: 'Suporte',
      content: {
        title: 'üí¨ Precisa de Ajuda?',
        description: 'Entre em contato conosco',
        items: [
          {
            title: 'Canais de Suporte',
            list: [
              'üìß Email: suporte@tamanduai.com',
              'üí¨ Chat ao vivo: Segunda a Sexta, 9h-18h',
              'üì± WhatsApp: (11) 99999-9999',
              'üé´ Abrir ticket: /suporte/novo',
              'üìö Base de conhecimento: /docs'
            ]
          },
          {
            title: 'Tempo de Resposta',
            content: 'Email: at√© 24h √∫teis. Chat e WhatsApp: at√© 2h durante hor√°rio comercial. Tickets: at√© 48h √∫teis.'
          },
          {
            title: 'Reportar Bug',
            content: 'Encontrou um problema? Envie para bugs@tamanduai.com com prints, passos para reproduzir e vers√£o do navegador.'
          }
        ]
      }
    }
  ];

  // Categorias √∫nicas
  const categories = useMemo(() => {
    const cats = [...new Set(sections.map(s => s.category))];
    return ['all', ...cats];
  }, []);

  // Filtrar se√ß√µes por busca e categoria
  const filteredSections = useMemo(() => {
    let filtered = sections;
    
    // Filtro de categoria
    if (selectedCategory !== 'all') {
      filtered = filtered.filter(s => s.category === selectedCategory);
    }
    
    // Filtro de busca
    if (searchQuery) {
      filtered = filtered.filter(section =>
        section.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
        section.content.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
        section.content.items.some(item => 
          item.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
          item.content?.toLowerCase().includes(searchQuery.toLowerCase())
        )
      );
    }
    
    return filtered;
  }, [searchQuery, selectedCategory]);

  // Se√ß√£o atual
  const currentSection = sections.find(s => s.id === selectedSection) || sections[0];

  // Fun√ß√£o para highlight de texto na busca
  const highlightText = (text, query) => {
    if (!query || !text) return text;
    const parts = text.split(new RegExp(`(${query})`, 'gi'));
    return parts.map((part, index) => 
      part.toLowerCase() === query.toLowerCase() ? 
        <mark key={index} className="bg-yellow-200 dark:bg-yellow-600 text-gray-900 dark:text-white px-1 rounded">{part}</mark> : 
        part
    );
  };

  // Salvar hist√≥rico de busca
  const handleSearch = (query) => {
    setSearchQuery(query);
    if (query && !searchHistory.includes(query)) {
      const newHistory = [query, ...searchHistory.slice(0, 4)]; // Manter √∫ltimas 5 buscas
      setSearchHistory(newHistory);
      localStorage.setItem('doc-search-history', JSON.stringify(newHistory));
    }
  };

  // Carregar hist√≥rico do localStorage
  React.useEffect(() => {
    const saved = localStorage.getItem('doc-search-history');
    if (saved) {
      setSearchHistory(JSON.parse(saved));
    }
  }, []);

  // Sistema de feedback
  const submitFeedback = (type) => {
    setFeedbackType(type);
    setShowFeedback(true);
    setTimeout(() => setShowFeedback(false), 3000);
    
    // Salvar feedback (aqui voc√™ poderia enviar para analytics)
    console.log(`Feedback: ${type} na se√ß√£o ${currentSection.id}`);
  };

  return (
    <div className="w-full min-h-screen bg-gray-50 dark:bg-gray-900">
      <Seo
        title="Documenta√ß√£o ‚Äî TamanduAI"
        description="Guia completo da plataforma: recursos, primeiros passos, professores, alunos, chatbot, antipl√°gio, analytics e integra√ß√µes."
        path="/docs"
      />
      {/* Header Premium */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.6 }}
        className="relative overflow-hidden bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-600 p-8 text-white"
      >
        <div className="relative z-10 max-w-7xl mx-auto">
          <div className="flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6">
            <div>
              <h1 className="text-3xl lg:text-4xl font-bold mb-3">
                üìö Documenta√ß√£o TamanduAI
              </h1>
              <p className="text-blue-100 text-lg max-w-2xl">
                Guia completo da plataforma educacional mais moderna do Brasil
              </p>
            </div>
            <button
              type="button"
              onClick={() => navigate(-1)}
              className="whitespace-nowrap inline-flex items-center gap-2 rounded-lg bg-white/20 hover:bg-white/30 text-white px-4 py-2 transition-colors"
              aria-label="Voltar"
            >
              <span>Voltar</span>
            </button>
          </div>
        </div>

        {/* Background decorations */}
        <div className="absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-white/10 to-transparent rounded-full blur-3xl"></div>
        <div className="absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-white/5 to-transparent rounded-full blur-2xl"></div>
        <div className="hidden lg:block absolute top-8 right-8">
          <div className="w-24 h-24 bg-white/10 rounded-2xl flex items-center justify-center backdrop-blur-sm">
            <BookOpen className="w-12 h-12 text-white" />
          </div>
        </div>
      </motion.div>

      <div className="max-w-7xl mx-auto p-6">
        {/* Busca e Filtros */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.6, delay: 0.2 }}
          className="mb-8"
        >
          <Card className="rounded-2xl border border-gray-200 dark:border-gray-700 shadow-xl bg-white dark:bg-gray-800">
            <CardContent className="p-6">
              {/* Busca */}
              <div className="relative mb-4">
                <Search className="absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 z-10" />
                <Input
                  type="text"
                  placeholder="Buscar na documenta√ß√£o... (ex: gamifica√ß√£o, XP, turmas)"
                  value={searchQuery}
                  onChange={(e) => handleSearch(e.target.value)}
                  className="pl-12 pr-4 py-6 rounded-xl text-lg bg-white dark:bg-gray-900 text-foreground border-border"
                />
                
                {/* Hist√≥rico de buscas */}
                {!searchQuery && searchHistory.length > 0 && (
                  <motion.div
                    initial={{ opacity: 0, y: -10 }}
                    animate={{ opacity: 1, y: 0 }}
                    className="mt-2 flex flex-wrap gap-2"
                  >
                    <span className="text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1">
                      <Clock className="w-3 h-3" />
                      Buscas recentes:
                    </span>
                    {searchHistory.map((term, i) => (
                      <button
                        key={i}
                        onClick={() => handleSearch(term)}
                        className="text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
                      >
                        {term}
                      </button>
                    ))}
                  </motion.div>
                )}
              </div>
              
              {/* Filtros de Categoria */}
              <div className="flex flex-wrap gap-2">
                {categories.map((cat) => (
                  <button
                    key={cat}
                    onClick={() => setSelectedCategory(cat)}
                    className={`whitespace-nowrap inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${
                      selectedCategory === cat
                        ? 'bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg scale-105'
                        : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'
                    }`}
                  >
                    <span className="font-medium text-sm">
                      {cat === 'all' ? 'üìã Todos' : cat}
                    </span>
                  </button>
                ))}
              </div>
              
              {/* Contador de resultados */}
              {searchQuery && (
                <motion.p
                  initial={{ opacity: 0 }}
                  animate={{ opacity: 1 }}
                  className="mt-4 text-sm text-gray-600 dark:text-gray-400"
                >
                  {filteredSections.length} {filteredSections.length === 1 ? 'resultado encontrado' : 'resultados encontrados'}
                </motion.p>
              )}
            </CardContent>
          </Card>
        </motion.div>

        <div className="grid lg:grid-cols-4 gap-8">
          {/* Sidebar de Navega√ß√£o */}
          <motion.div
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.6, delay: 0.3 }}
            className="lg:col-span-1"
          >
            <div className="sticky top-6 space-y-4">
              <Card className="rounded-2xl border border-gray-200 dark:border-gray-700 shadow-xl bg-white dark:bg-gray-800">
                <CardHeader className="pb-3">
                  <CardTitle className="flex items-center gap-2 text-lg">
                    <BookOpen className="w-5 h-5 text-blue-500" />
                    <span>Navega√ß√£o</span>
                  </CardTitle>
                </CardHeader>
                <CardContent className="pt-0">
                  <nav className="space-y-1 max-h-[calc(100vh-12rem)] overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-blue-300 dark:scrollbar-thumb-blue-700 scrollbar-track-transparent">
                    {filteredSections.map((section, index) => {
                      const Icon = section.icon;
                      const isActive = selectedSection === section.id;
                      
                      return (
                        <motion.button
                          key={section.id}
                          initial={{ opacity: 0, x: -10 }}
                          animate={{ opacity: 1, x: 0 }}
                          transition={{ delay: 0.4 + index * 0.05 }}
                          onClick={() => setSelectedSection(section.id)}
                          className={`whitespace-nowrap inline-flex items-center gap-3 w-full p-3 rounded-xl transition-all duration-300 text-left group ${
                            isActive
                              ? 'bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-500 text-white shadow-lg shadow-blue-500/50 scale-105'
                              : 'bg-gray-50 dark:bg-gray-700/50 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:shadow-md'
                          }`}
                        >
                          <div className={`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${
                            isActive
                              ? 'bg-white/20'
                              : 'bg-white dark:bg-gray-600 group-hover:bg-blue-50 dark:group-hover:bg-gray-600'
                          }`}>
                            <Icon className={`w-4 h-4 ${isActive ? 'text-white' : 'text-blue-500 dark:text-blue-400'}`} />
                          </div>
                          <span className="font-medium text-sm flex-1">{section.title}</span>
                          {isActive && (
                            <motion.div
                              initial={{ scale: 0 }}
                              animate={{ scale: 1 }}
                              transition={{ type: "spring" }}
                            >
                              <ChevronRight className="w-4 h-4" />
                            </motion.div>
                          )}
                        </motion.button>
                      );
                    })}
                  </nav>
                </CardContent>
              </Card>
              
              {/* Mini info card */}
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.8 }}
              >
                <Card className="rounded-2xl border border-blue-200 dark:border-blue-800 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950/30 dark:to-purple-950/30">
                  <CardContent className="p-4">
                    <div className="flex items-start gap-3">
                      <div className="w-10 h-10 rounded-lg bg-blue-500 flex items-center justify-center flex-shrink-0">
                        <Lightbulb className="w-5 h-5 text-white" />
                      </div>
                      <div>
                        <p className="font-semibold text-sm text-gray-900 dark:text-white mb-1">
                          Dica R√°pida
                        </p>
                        <p className="text-xs text-gray-700 dark:text-gray-300">
                          Use Ctrl+F para buscar dentro da se√ß√£o atual!
                        </p>
                      </div>
                    </div>
                  </CardContent>
                </Card>
              </motion.div>
            </div>
          </motion.div>

          {/* Conte√∫do */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.6, delay: 0.4 }}
            className="lg:col-span-3"
          >
            <AnimatePresence mode="wait">
              <motion.div
                key={selectedSection}
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                exit={{ opacity: 0, y: -20 }}
                transition={{ duration: 0.3 }}
              >
                <Card className="rounded-2xl border border-gray-200 dark:border-gray-700 shadow-lg">
                  <CardContent className="p-8">
                    {/* T√≠tulo da se√ß√£o */}
                    <div className="mb-8">
                      <h2 className="text-3xl font-bold text-gray-900 dark:text-white mb-2">
                        {currentSection.content.title}
                      </h2>
                      <p className="text-gray-600 dark:text-gray-300 text-lg">
                        {currentSection.content.description}
                      </p>
                      <Badge className="mt-3 bg-blue-100 text-blue-700 dark:bg-gray-800 dark:text-blue-400">
                        {currentSection.category}
                      </Badge>
                    </div>

                    {/* Itens da se√ß√£o com Accordion */}
                    {currentSection.content.items.length > 5 ? (
                      <Accordion type="single" collapsible className="space-y-4">
                        {currentSection.content.items.map((item, index) => (
                          <AccordionItem
                            key={index}
                            value={`item-${index}`}
                            className="border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-800/50 px-6 shadow-sm hover:shadow-md transition-shadow"
                          >
                            <AccordionTrigger className="hover:no-underline py-4">
                              <div className="flex items-center gap-3 text-left">
                                <div className="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0">
                                  <CheckCircle2 className="w-5 h-5 text-white" />
                                </div>
                                <h3 className="text-lg font-bold text-gray-900 dark:text-white">
                                  {item.title}
                                </h3>
                              </div>
                            </AccordionTrigger>
                            <AccordionContent className="pb-4">
                              <div className="space-y-4 pl-11">
                                {item.content && (
                                  <p className="text-gray-700 dark:text-gray-300 leading-relaxed">
                                    {item.content}
                                  </p>
                                )}
                                
                                {item.list && (
                                  <ul className="space-y-2">
                                    {item.list.map((listItem, i) => (
                                      <li key={i} className="flex items-start gap-3 text-gray-700 dark:text-gray-300">
                                        <Sparkles className="w-4 h-4 text-blue-500 mt-1 flex-shrink-0" />
                                        <span>{listItem}</span>
                                      </li>
                                    ))}
                                  </ul>
                                )}

                                {item.code && (
                                  <div className="relative group">
                                    <div className="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity">
                                      <Badge className="bg-green-500 text-white text-xs">
                                        C√≥digo
                                      </Badge>
                                    </div>
                                    <pre className="p-4 bg-gradient-to-br from-gray-900 to-gray-800 dark:from-gray-950 dark:to-gray-900 rounded-xl overflow-x-auto border border-gray-700">
                                      <code className="text-sm text-green-400 font-mono leading-relaxed">
                                        {item.code.trim()}
                                      </code>
                                    </pre>
                                  </div>
                                )}
                                
                                {item.badge && (
                                  <Badge className="bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 mt-2">
                                    {item.badge}
                                  </Badge>
                                )}
                              </div>
                            </AccordionContent>
                          </AccordionItem>
                        ))}
                      </Accordion>
                    ) : (
                      <div className="space-y-6">
                        {currentSection.content.items.map((item, index) => (
                          <motion.div
                            key={index}
                            initial={{ opacity: 0, y: 10 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ delay: 0.1 + index * 0.05 }}
                            className="p-6 rounded-xl bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-800/50 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300"
                          >
                            <div className="flex items-start gap-4">
                              <div className="w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0">
                                <CheckCircle2 className="w-6 h-6 text-white" />
                              </div>
                              <div className="flex-1">
                                <h3 className="text-xl font-bold text-gray-900 dark:text-white mb-3">
                                  {item.title}
                                </h3>
                                
                                {item.content && (
                                  <p className="text-gray-700 dark:text-gray-300 leading-relaxed mb-4">
                                    {item.content}
                                  </p>
                                )}
                                
                                {item.list && (
                                  <ul className="space-y-3">
                                    {item.list.map((listItem, i) => (
                                      <li key={i} className="flex items-start gap-3 text-gray-700 dark:text-gray-300">
                                        <div className="w-6 h-6 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0 mt-0.5">
                                          <Sparkles className="w-3 h-3 text-blue-600 dark:text-blue-400" />
                                        </div>
                                        <span>{listItem}</span>
                                      </li>
                                    ))}
                                  </ul>
                                )}

                                {item.code && (
                                  <div className="relative group mt-4">
                                    <div className="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity z-10">
                                      <Badge className="bg-green-500 text-white text-xs shadow-lg">
                                        üìù C√≥digo
                                      </Badge>
                                    </div>
                                    <pre className="p-4 bg-gradient-to-br from-gray-900 via-gray-900 to-gray-800 dark:from-black dark:via-gray-950 dark:to-gray-900 rounded-xl overflow-x-auto border-2 border-gray-700 dark:border-gray-800 shadow-inner">
                                      <code className="text-sm text-green-400 font-mono leading-relaxed block">
                                        {item.code.trim()}
                                      </code>
                                    </pre>
                                  </div>
                                )}
                                
                                {item.badge && (
                                  <Badge className="bg-gradient-to-r from-purple-500 to-pink-500 text-white mt-3 shadow-lg">
                                    ‚ú® {item.badge}
                                  </Badge>
                                )}
                              </div>
                            </div>
                          </motion.div>
                        ))}
                      </div>
                    )}
                    
                    {/* Sistema de Feedback */}
                    <motion.div
                      initial={{ opacity: 0 }}
                      animate={{ opacity: 1 }}
                      transition={{ delay: 0.5 }}
                      className="mt-12 pt-8 border-t border-gray-200 dark:border-gray-700"
                    >
                      <div className="flex flex-col items-center gap-4">
                        <p className="text-sm text-gray-600 dark:text-gray-400 font-medium">
                          Esta p√°gina foi √∫til?
                        </p>
                        <div className="flex gap-3">
                          <button
                            onClick={() => submitFeedback('helpful')}
                            className="whitespace-nowrap inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/30 transition-all duration-200 shadow-sm hover:shadow-md"
                          >
                            <span className="text-2xl">üëç</span>
                            <span className="font-medium">Sim, √∫til!</span>
                          </button>
                          <button
                            onClick={() => submitFeedback('not-helpful')}
                            className="whitespace-nowrap inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 transition-all duration-200 shadow-sm hover:shadow-md"
                          >
                            <span className="text-2xl">üëé</span>
                            <span className="font-medium">N√£o ajudou</span>
                          </button>
                        </div>
                        
                        {/* Feedback Toast */}
                        <AnimatePresence>
                          {showFeedback && (
                            <motion.div
                              initial={{ opacity: 0, y: 10 }}
                              animate={{ opacity: 1, y: 0 }}
                              exit={{ opacity: 0, y: -10 }}
                              className={`px-6 py-3 rounded-xl shadow-lg ${
                                feedbackType === 'helpful'
                                  ? 'bg-green-500 text-white'
                                  : 'bg-red-500 text-white'
                              }`}
                            >
                              <div className="flex items-center gap-2">
                                {feedbackType === 'helpful' ? (
                                  <>
                                    <CheckCircle2 className="w-5 h-5" />
                                    <span className="font-medium">Obrigado pelo feedback! üéâ</span>
                                  </>
                                ) : (
                                  <>
                                    <AlertCircle className="w-5 h-5" />
                                    <span className="font-medium">Vamos melhorar esta se√ß√£o! üí™</span>
                                  </>
                                )}
                              </div>
                            </motion.div>
                          )}
                        </AnimatePresence>
                        
                        {/* Links √∫teis */}
                        <div className="flex flex-wrap gap-3 justify-center mt-4">
                          <a
                            href="mailto:suporte@tamanduai.com"
                            className="text-xs text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors flex items-center gap-1"
                          >
                            <MessageSquare className="w-3 h-3" />
                            Falar com suporte
                          </a>
                          <span className="text-gray-300 dark:text-gray-700">‚Ä¢</span>
                          <button
                            onClick={() => window.open('https://github.com/tamanduai/issues', '_blank')}
                            className="text-xs text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors flex items-center gap-1"
                          >
                            <Code className="w-3 h-3" />
                            Reportar bug
                          </button>
                        </div>
                      </div>
                    </motion.div>
                  </CardContent>
                </Card>
              </motion.div>
            </AnimatePresence>
          </motion.div>
        </div>
      </div>
    </div>
  );
};

export default DocumentationPagePremium;
export { DocumentationPagePremium };

