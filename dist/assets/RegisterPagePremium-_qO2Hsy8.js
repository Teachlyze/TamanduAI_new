import{r as m,q as L,g as D,j as e,o as V,m as n,B as M,p,b as g,Z as R,t as T,z as x}from"./main-BrBEgNdp.js";import{n as U}from"./roleNavigation-mm4rSh2G.js";import{P as Z}from"./PremiumButton-C1Ncun4G.js";import{U as G}from"./user-DJL-itNc.js";import{M as J}from"./mail-DaApHoG8.js";import{L as N}from"./lock-DcyzY0y0.js";import{S as O}from"./shield-C-ygTYem.js";import{S as H}from"./sparkles-CGmOyj2w.js";import{B as W}from"./building-2-ClWLCMjt.js";import{A as _}from"./arrow-right-CGQ-USbQ.js";const oe=()=>{const[r,P]=m.useState({name:"",email:"",password:"",confirmPassword:"",cpf:"",age:"",role:"student",termsAccepted:!1,privacyAccepted:!1}),[C,b]=m.useState(!1),[i,k]=m.useState({}),[o,y]=m.useState({}),[d,S]=m.useState(0),[A,I]=m.useState(!0),{signUp:$,user:h,loading:j}=L(),f=D();if(m.useEffect(()=>{if(h){const a=h.user_metadata?.role||"student";U(f,a)}else j||I(!1)},[h,j,f]),A)return e.jsx(V,{message:"Verificando autenticação..."});const B=a=>{let s=0;return a.length>=8&&s++,a.length>=12&&s++,/[a-z]/.test(a)&&/[A-Z]/.test(a)&&s++,/\d/.test(a)&&s++,/[^A-Za-z0-9]/.test(a)&&s++,Math.min(s,5)},c=(a,s)=>{const t={...i};switch(a){case"name":s.trim()?s.length<2?t.name="Nome muito curto":delete t.name:t.name="Nome é obrigatório";break;case"email":s?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?delete t.email:t.email="E-mail inválido":t.email="E-mail é obrigatório";break;case"password":s?s.length<8?t.password="Mínimo 8 caracteres":delete t.password:t.password="Senha é obrigatória",S(B(s));break;case"confirmPassword":s!==r.password?t.confirmPassword="As senhas não coincidem":delete t.confirmPassword;break;case"cpf":const w=s.replace(/\D/g,"");w?w.length!==11?t.cpf="CPF deve ter 11 dígitos":delete t.cpf:t.cpf="CPF é obrigatório";break;case"age":const v=parseInt(s);s?v<14||v>120?t.age="Idade inválida":delete t.age:t.age="Idade é obrigatória";break}return k(t),t},l=(a,s)=>{P(t=>({...t,[a]:s})),o[a]&&c(a,s)},u=a=>{y(s=>({...s,[a]:!0})),c(a,r[a])},E=async a=>{a.preventDefault(),y({name:!0,email:!0,password:!0,confirmPassword:!0,cpf:!0,age:!0});const s={...c("name",r.name),...c("email",r.email),...c("password",r.password),...c("confirmPassword",r.confirmPassword),...c("cpf",r.cpf),...c("age",r.age)};if(Object.keys(s).length>0){x.error("Por favor, corrija os erros no formulário");return}if(!r.termsAccepted){x.error("Você deve aceitar os termos de uso");return}if(!r.privacyAccepted){x.error("Você deve aceitar a política de privacidade");return}b(!0);try{const t=await $({email:r.email,password:r.password,name:r.name,role:r.role,cpf:r.cpf.replace(/\D/g,""),age:parseInt(r.age)});if(t.error)throw t.error;x.success("Conta criada com sucesso! Verifique seu email para confirmar."),f("/verify-email")}catch(t){console.error("Register error:",t),x.error(t.message||"Erro ao criar conta")}finally{b(!1)}},F=()=>d<=1?"bg-destructive":d<=3?"bg-warning":"bg-success",q=()=>d<=1?"Fraca":d<=3?"Média":"Forte",z=["Chatbot IA personalizado para suas turmas","Gestão completa de alunos e atividades","Relatórios detalhados de desempenho","Videoconferências integradas","Suporte premium 24/7"];return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-background",children:e.jsxs(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"w-full max-w-md",children:[e.jsxs(n.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"flex items-center justify-center mb-8",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-primary rounded-2xl flex items-center justify-center shadow-themed-lg",children:e.jsx(M,{className:"w-7 h-7 text-white"})}),e.jsx("h1",{className:"ml-3 text-3xl font-bold text-gradient-primary",children:"TamanduAI"})]}),e.jsxs(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Crie sua conta"}),e.jsx("p",{className:"text-muted-foreground",children:"Comece a transformar a educação hoje mesmo!"})]}),e.jsxs(n.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onSubmit:E,className:"space-y-5",children:[e.jsx(p,{label:"Nome completo",type:"text",value:r.name,onChange:a=>l("name",a.target.value),onBlur:()=>u("name"),leftIcon:G,error:o.name&&i.name,success:o.name&&!i.name&&r.name,clearable:!0,required:!0,placeholder:"Seu nome"}),e.jsx(p,{label:"E-mail",type:"email",value:r.email,onChange:a=>l("email",a.target.value),onBlur:()=>u("email"),leftIcon:J,error:o.email&&i.email,success:o.email&&!i.email&&r.email,clearable:!0,required:!0,placeholder:"seu@email.com"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{label:"Senha",type:"password",autoComplete:"new-password",value:r.password,onChange:a=>l("password",a.target.value),onBlur:()=>u("password"),leftIcon:N,error:o.password&&i.password,success:o.password&&!i.password&&r.password,required:!0,placeholder:"••••••••"}),r.password&&e.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Força da senha"}),e.jsx("span",{className:`font-medium ${d>3?"text-success":d>1?"text-warning":"text-destructive"}`,children:q()})]}),e.jsx("div",{className:"h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsx(n.div,{initial:{width:0},animate:{width:`${d/5*100}%`},className:`h-full ${F()} transition-all duration-300`})})]})]}),e.jsx(p,{label:"Confirmar senha",type:"password",autoComplete:"new-password",value:r.confirmPassword,onChange:a=>l("confirmPassword",a.target.value),onBlur:()=>u("confirmPassword"),leftIcon:N,error:o.confirmPassword&&i.confirmPassword,success:o.confirmPassword&&!i.confirmPassword&&r.confirmPassword,required:!0,placeholder:"••••••••"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(p,{label:"CPF",type:"text",value:r.cpf,onChange:a=>{let s=a.target.value.replace(/\D/g,"");s.length<=11&&(s=s.replace(/(\d{3})(\d)/,"$1.$2"),s=s.replace(/(\d{3})(\d)/,"$1.$2"),s=s.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),l("cpf",s))},onBlur:()=>u("cpf"),error:o.cpf&&i.cpf,success:o.cpf&&!i.cpf&&r.cpf,required:!0,placeholder:"000.000.000-00",maxLength:14}),e.jsx(p,{label:"Idade",type:"number",value:r.age,onChange:a=>l("age",a.target.value),onBlur:()=>u("age"),error:o.age&&i.age,success:o.age&&!i.age&&r.age,required:!0,placeholder:"18",min:10,max:120})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Você é:"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"teacher",label:"Professor",icon:O},{value:"student",label:"Aluno",icon:H},{value:"school",label:"Escola",icon:W}].map(a=>e.jsxs("button",{type:"button",onClick:()=>l("role",a.value),className:`p-4 rounded-xl border-2 transition-all ${r.role===a.value?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:[e.jsx(a.icon,{className:`w-6 h-6 mx-auto mb-2 ${r.role===a.value?"text-primary":"text-muted-foreground"}`}),e.jsx("span",{className:`text-sm font-medium ${r.role===a.value?"text-primary":"text-foreground"}`,children:a.label})]},a.value))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:r.termsAccepted,onChange:a=>l("termsAccepted",a.target.checked),className:"w-5 h-5 rounded border-border text-primary focus:ring-2 focus:ring-primary mt-0.5"}),e.jsxs("span",{className:"text-sm text-muted-foreground group-hover:text-foreground transition-colors",children:["Aceito os"," ",e.jsx(g,{to:"/terms-of-use",className:"text-primary hover:underline font-medium",children:"Termos de Uso"})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:r.privacyAccepted,onChange:a=>l("privacyAccepted",a.target.checked),className:"w-5 h-5 rounded border-border text-primary focus:ring-2 focus:ring-primary mt-0.5"}),e.jsxs("span",{className:"text-sm text-muted-foreground group-hover:text-foreground transition-colors",children:["Aceito a"," ",e.jsx(g,{to:"/privacy-policy",className:"text-primary hover:underline font-medium",children:"Política de Privacidade"})]})]})]}),e.jsx(Z,{type:"submit",variant:"gradient",size:"lg",fullWidth:!0,loading:C,rightIcon:_,children:"Criar Conta Grátis"})]}),e.jsxs(n.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6 text-center text-muted-foreground",children:["Já tem uma conta?"," ",e.jsx(g,{to:"/login",className:"text-primary font-semibold hover:underline",children:"Faça login"})]})]})}),e.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-primary relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),e.jsx("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:e.jsxs(n.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:[e.jsx(R,{className:"w-16 h-16 mb-6"}),e.jsxs("h2",{className:"text-4xl font-bold mb-6",children:["Junte-se a milhares",e.jsx("br",{}),"de educadores"]}),e.jsxs("p",{className:"text-xl text-white/90 mb-12",children:["Plataforma completa com IA para revolucionar",e.jsx("br",{}),"sua forma de ensinar e aprender."]}),e.jsx("div",{className:"space-y-4",children:z.map((a,s)=>e.jsxs(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+s*.1},className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:e.jsx(T,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-lg",children:a})]},a))}),e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-12 p-6 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(a=>e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/30 border-2 border-white"},a))}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:"10.000+ professores"}),e.jsx("div",{className:"text-sm text-white/80",children:"já estão usando"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(a=>e.jsx("span",{className:"text-yellow-300 text-xl",children:"★"},a)),e.jsx("span",{className:"ml-2 text-sm",children:"4.9/5.0 de satisfação"})]})]})]})})]})]})};export{oe as default};
