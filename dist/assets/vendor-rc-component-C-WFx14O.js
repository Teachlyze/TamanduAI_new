import{i as ie,a as Ar,b as Ir,d as qr,c as Ur,_ as jr,k as Cr,e as T,j as H,g as mr,f as St}from"./vendor-babel-D_NiFZCp.js";import{r as o,c as Er}from"./react-vendor-C2HUFn5N.js";import{d as jt,u as I,g as Qr,e as Gr,r as wr,f as Qt,h as Wr,i as it,j as Br,R as zr,k as Jr,l as Kr,m as Zr,n as Ae,o as br,p as Yr,q as yr,t as Xr,v as Or,w as pr}from"./antd-vendor-K_53YjeB.js";const B=Math.round;function dr(r,t){const e=r.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],n=e.map(a=>parseFloat(a));for(let a=0;a<3;a+=1)n[a]=t(n[a]||0,e[a]||"",a);return e[3]?n[3]=e[3].includes("%")?n[3]/100:n[3]:n[3]=1,n}const Pr=(r,t,e)=>e===0?r:r/100;function bt(r,t){const e=t||255;return r>e?e:r<0?0:r}class Gt{constructor(t){ie(this,"isValid",!0),ie(this,"r",0),ie(this,"g",0),ie(this,"b",0),ie(this,"a",1),ie(this,"_h",void 0),ie(this,"_s",void 0),ie(this,"_l",void 0),ie(this,"_v",void 0),ie(this,"_max",void 0),ie(this,"_min",void 0),ie(this,"_brightness",void 0);function e(n){return n[0]in t&&n[1]in t&&n[2]in t}if(t)if(typeof t=="string"){let a=function(i){return n.startsWith(i)};const n=t.trim();/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):a("rgb")?this.fromRgbString(n):a("hsl")?this.fromHslString(n):(a("hsv")||a("hsb"))&&this.fromHsvString(n)}else if(t instanceof Gt)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(e("rgb"))this.r=bt(t.r),this.g=bt(t.g),this.b=bt(t.b),this.a=typeof t.a=="number"?bt(t.a,1):1;else if(e("hsl"))this.fromHsl(t);else if(e("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const e=this.toHsv();return e.h=t,this._c(e)}getLuminance(){function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const e=t(this.r),n=t(this.g),a=t(this.b);return .2126*e+.7152*n+.0722*a}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=B(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const e=this.getHue(),n=this.getSaturation();let a=this.getLightness()-t/100;return a<0&&(a=0),this._c({h:e,s:n,l:a,a:this.a})}lighten(t=10){const e=this.getHue(),n=this.getSaturation();let a=this.getLightness()+t/100;return a>1&&(a=1),this._c({h:e,s:n,l:a,a:this.a})}mix(t,e=50){const n=this._c(t),a=e/100,i=u=>(n[u]-this[u])*a+this[u],s={r:B(i("r")),g:B(i("g")),b:B(i("b")),a:B(i("a")*100)/100};return this._c(s)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const e=this._c(t),n=this.a+e.a*(1-this.a),a=i=>B((this[i]*this.a+e[i]*e.a*(1-this.a))/n);return this._c({r:a("r"),g:a("g"),b:a("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const e=(this.r||0).toString(16);t+=e.length===2?e:"0"+e;const n=(this.g||0).toString(16);t+=n.length===2?n:"0"+n;const a=(this.b||0).toString(16);if(t+=a.length===2?a:"0"+a,typeof this.a=="number"&&this.a>=0&&this.a<1){const i=B(this.a*255).toString(16);t+=i.length===2?i:"0"+i}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),e=B(this.getSaturation()*100),n=B(this.getLightness()*100);return this.a!==1?`hsla(${t},${e}%,${n}%,${this.a})`:`hsl(${t},${e}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,e,n){const a=this.clone();return a[t]=bt(e,n),a}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const e=t.replace("#","");function n(a,i){return parseInt(e[a]+e[i||a],16)}e.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=e[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=e[6]?n(6,7)/255:1)}fromHsl({h:t,s:e,l:n,a}){if(this._h=t%360,this._s=e,this._l=n,this.a=typeof a=="number"?a:1,e<=0){const m=B(n*255);this.r=m,this.g=m,this.b=m}let i=0,s=0,u=0;const v=t/60,c=(1-Math.abs(2*n-1))*e,g=c*(1-Math.abs(v%2-1));v>=0&&v<1?(i=c,s=g):v>=1&&v<2?(i=g,s=c):v>=2&&v<3?(s=c,u=g):v>=3&&v<4?(s=g,u=c):v>=4&&v<5?(i=g,u=c):v>=5&&v<6&&(i=c,u=g);const h=n-c/2;this.r=B((i+h)*255),this.g=B((s+h)*255),this.b=B((u+h)*255)}fromHsv({h:t,s:e,v:n,a}){this._h=t%360,this._s=e,this._v=n,this.a=typeof a=="number"?a:1;const i=B(n*255);if(this.r=i,this.g=i,this.b=i,e<=0)return;const s=t/60,u=Math.floor(s),v=s-u,c=B(n*(1-e)*255),g=B(n*(1-e*v)*255),h=B(n*(1-e*(1-v))*255);switch(u){case 0:this.g=h,this.b=c;break;case 1:this.r=g,this.b=c;break;case 2:this.r=c,this.b=h;break;case 3:this.r=c,this.g=g;break;case 4:this.r=h,this.g=c;break;case 5:default:this.g=c,this.b=g;break}}fromHsvString(t){const e=dr(t,Pr);this.fromHsv({h:e[0],s:e[1],v:e[2],a:e[3]})}fromHslString(t){const e=dr(t,Pr);this.fromHsl({h:e[0],s:e[1],l:e[2],a:e[3]})}fromRgbString(t){const e=dr(t,(n,a)=>a.includes("%")?B(n/100*255):n);this.r=e[0],this.g=e[1],this.b=e[2],this.a=e[3]}}var en=["b"],tn=["v"],gr=function(t){return Math.round(Number(t||0))},rn=function(t){if(t instanceof Gt)return t;if(t&&jr(t)==="object"&&"h"in t&&"b"in t){var e=t,n=e.b,a=Cr(e,en);return T(T({},a),{},{v:n})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},xn=(function(r){Ar(e,r);var t=Ir(e);function e(n){return Ur(this,e),t.call(this,rn(n))}return qr(e,[{key:"toHsbString",value:function(){var a=this.toHsb(),i=gr(a.s*100),s=gr(a.b*100),u=gr(a.h),v=a.a,c="hsb(".concat(u,", ").concat(i,"%, ").concat(s,"%)"),g="hsba(".concat(u,", ").concat(i,"%, ").concat(s,"%, ").concat(v.toFixed(v===0?0:2),")");return v===1?c:g}},{key:"toHsb",value:function(){var a=this.toHsv(),i=a.v,s=Cr(a,tn);return T(T({},s),{},{b:i,a:this.a})}}]),e})(Gt),Vr=o.createContext(null),_r=[];function nn(r,t){var e=o.useState(function(){if(!jt())return null;var y=document.createElement("div");return y}),n=H(e,1),a=n[0],i=o.useRef(!1),s=o.useContext(Vr),u=o.useState(_r),v=H(u,2),c=v[0],g=v[1],h=s||(i.current?void 0:function(y){g(function(M){var w=[y].concat(mr(M));return w})});function m(){a.parentElement||document.body.appendChild(a),i.current=!0}function f(){var y;(y=a.parentElement)===null||y===void 0||y.removeChild(a),i.current=!1}return I(function(){return r?s?s(m):m():f(),f},[r]),I(function(){c.length&&(c.forEach(function(y){return y()}),g(_r))},[c]),[a,h]}function an(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var on="rc-util-locker-".concat(Date.now()),Hr=0;function sn(r){var t=!!r,e=o.useState(function(){return Hr+=1,"".concat(on,"_").concat(Hr)}),n=H(e,1),a=n[0];I(function(){if(t){var i=Qr(document.body).width,s=an();Gr(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(i,"px);"):"",`
}`),a)}else wr(a);return function(){wr(a)}},[t,a])}var un=!1;function ln(r){return un}var xr=function(t){return t===!1?!1:!jt()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Fr=o.forwardRef(function(r,t){var e=r.open,n=r.autoLock,a=r.getContainer,i=r.autoDestroy,s=i===void 0?!0:i,u=r.children,v=o.useState(e),c=H(v,2),g=c[0],h=c[1],m=g||e;o.useEffect(function(){(s||e)&&h(e)},[e,s]);var f=o.useState(function(){return xr(a)}),y=H(f,2),M=y[0],w=y[1];o.useEffect(function(){var oe=xr(a);w(oe??null)});var x=nn(m&&!M),L=H(x,2),D=L[0],F=L[1],E=M??D;sn(n&&e&&jt()&&(E===D||E===document.body));var b=null;if(u&&Qt(u)&&t){var ve=u;b=ve.ref}var Y=Wr(b,t);if(!m||!jt()||M===void 0)return null;var be=E===!1||ln(),X=u;return t&&(X=o.cloneElement(u,{ref:Y})),o.createElement(Vr.Provider,{value:F},be?X:Er.createPortal(X,E))});function cn(r){var t=r.prefixCls,e=r.align,n=r.arrow,a=r.arrowPos,i=n||{},s=i.className,u=i.content,v=a.x,c=v===void 0?0:v,g=a.y,h=g===void 0?0:g,m=o.useRef();if(!e||!e.points)return null;var f={position:"absolute"};if(e.autoArrow!==!1){var y=e.points[0],M=e.points[1],w=y[0],x=y[1],L=M[0],D=M[1];w===L||!["t","b"].includes(w)?f.top=h:w==="t"?f.top=0:f.bottom=0,x===D||!["l","r"].includes(x)?f.left=c:x==="l"?f.left=0:f.right=0}return o.createElement("div",{ref:m,className:it("".concat(t,"-arrow"),s),style:f},u)}function vn(r){var t=r.prefixCls,e=r.open,n=r.zIndex,a=r.mask,i=r.motion;return a?o.createElement(Br,St({},i,{motionAppear:!0,visible:e,removeOnLeave:!0}),function(s){var u=s.className;return o.createElement("div",{style:{zIndex:n},className:it("".concat(t,"-mask"),u)})}):null}var hn=o.memo(function(r){var t=r.children;return t},function(r,t){return t.cache}),fn=o.forwardRef(function(r,t){var e=r.popup,n=r.className,a=r.prefixCls,i=r.style,s=r.target,u=r.onVisibleChanged,v=r.open,c=r.keepDom,g=r.fresh,h=r.onClick,m=r.mask,f=r.arrow,y=r.arrowPos,M=r.align,w=r.motion,x=r.maskMotion,L=r.forceRender,D=r.getPopupContainer,F=r.autoDestroy,E=r.portal,b=r.zIndex,ve=r.onMouseEnter,Y=r.onMouseLeave,be=r.onPointerEnter,X=r.onPointerDownCapture,oe=r.ready,ye=r.offsetX,Se=r.offsetY,he=r.offsetR,Ce=r.offsetB,W=r.onAlign,A=r.onPrepare,S=r.stretch,se=r.targetWidth,G=r.targetHeight,q=typeof e=="function"?e():e,C=v||c,xe=D?.length>0,ot=o.useState(!D||!xe),De=H(ot,2),O=De[0],st=De[1];if(I(function(){!O&&xe&&s&&st(!0)},[O,xe,s]),!O)return null;var fe="auto",J={left:"-1000vw",top:"-1000vh",right:fe,bottom:fe};if(oe||!v){var Ie,qe=M.points,$e=M.dynamicInset||((Ie=M._experimental)===null||Ie===void 0?void 0:Ie.dynamicInset),de=$e&&qe[0][1]==="r",p=$e&&qe[0][0]==="b";de?(J.right=he,J.left=fe):(J.left=ye,J.right=fe),p?(J.bottom=Ce,J.top=fe):(J.top=Se,J.bottom=fe)}var U={};return S&&(S.includes("height")&&G?U.height=G:S.includes("minHeight")&&G&&(U.minHeight=G),S.includes("width")&&se?U.width=se:S.includes("minWidth")&&se&&(U.minWidth=se)),v||(U.pointerEvents="none"),o.createElement(E,{open:L||C,getContainer:D&&function(){return D(s)},autoDestroy:F},o.createElement(vn,{prefixCls:a,open:v,zIndex:b,mask:m,motion:x}),o.createElement(zr,{onResize:W,disabled:!v},function(Me){return o.createElement(Br,St({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:L,leavedClassName:"".concat(a,"-hidden")},w,{onAppearPrepare:A,onEnterPrepare:A,visible:v,onVisibleChanged:function(Re){var K;w==null||(K=w.onVisibleChanged)===null||K===void 0||K.call(w,Re),u(Re)}}),function(ke,Re){var K=ke.className,Ue=ke.style,ee=it(a,K,n);return o.createElement("div",{ref:Jr(Me,t,Re),className:ee,style:T(T(T(T({"--arrow-x":"".concat(y.x||0,"px"),"--arrow-y":"".concat(y.y||0,"px")},J),U),Ue),{},{boxSizing:"border-box",zIndex:b},i),onMouseEnter:ve,onMouseLeave:Y,onPointerEnter:be,onClick:h,onPointerDownCapture:X},f&&o.createElement(cn,{prefixCls:a,arrow:f,arrowPos:y,align:M}),o.createElement(hn,{cache:!v&&!g},q))})}))}),dn=o.forwardRef(function(r,t){var e=r.children,n=r.getTriggerDOMNode,a=Qt(e),i=o.useCallback(function(u){Kr(t,n?n(u):u)},[n]),s=Wr(i,Zr(e));return a?o.cloneElement(e,{ref:s}):e}),Dr=o.createContext(null);function $r(r){return r?Array.isArray(r)?r:[r]:[]}function gn(r,t,e,n){return o.useMemo(function(){var a=$r(e??t),i=$r(n??t),s=new Set(a),u=new Set(i);return r&&(s.has("hover")&&(s.delete("hover"),s.add("click")),u.has("hover")&&(u.delete("hover"),u.add("click"))),[s,u]},[r,t,e,n])}function mn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return e?r[0]===t[0]:r[0]===t[0]&&r[1]===t[1]}function bn(r,t,e,n){for(var a=e.points,i=Object.keys(r),s=0;s<i.length;s+=1){var u,v=i[s];if(mn((u=r[v])===null||u===void 0?void 0:u.points,a,n))return"".concat(t,"-placement-").concat(v)}return""}function kr(r,t,e,n){return t||(e?{motionName:"".concat(r,"-").concat(e)}:n?{motionName:n}:null)}function Mt(r){return r.ownerDocument.defaultView}function Sr(r){for(var t=[],e=r?.parentElement,n=["hidden","scroll","clip","auto"];e;){var a=Mt(e).getComputedStyle(e),i=a.overflowX,s=a.overflowY,u=a.overflow;[i,s,u].some(function(v){return n.includes(v)})&&t.push(e),e=e.parentElement}return t}function Ct(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?t:r}function yt(r){return Ct(parseFloat(r),0)}function Rr(r,t){var e=T({},r);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=Mt(n).getComputedStyle(n),i=a.overflow,s=a.overflowClipMargin,u=a.borderTopWidth,v=a.borderBottomWidth,c=a.borderLeftWidth,g=a.borderRightWidth,h=n.getBoundingClientRect(),m=n.offsetHeight,f=n.clientHeight,y=n.offsetWidth,M=n.clientWidth,w=yt(u),x=yt(v),L=yt(c),D=yt(g),F=Ct(Math.round(h.width/y*1e3)/1e3),E=Ct(Math.round(h.height/m*1e3)/1e3),b=(y-M-L-D)*F,ve=(m-f-w-x)*E,Y=w*E,be=x*E,X=L*F,oe=D*F,ye=0,Se=0;if(i==="clip"){var he=yt(s);ye=he*F,Se=he*E}var Ce=h.x+X-ye,W=h.y+Y-Se,A=Ce+h.width+2*ye-X-oe-b,S=W+h.height+2*Se-Y-be-ve;e.left=Math.max(e.left,Ce),e.top=Math.max(e.top,W),e.right=Math.min(e.right,A),e.bottom=Math.min(e.bottom,S)}}),e}function Lr(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e="".concat(t),n=e.match(/^(.*)\%$/);return n?r*(parseFloat(n[1])/100):parseFloat(e)}function Nr(r,t){var e=t||[],n=H(e,2),a=n[0],i=n[1];return[Lr(r.width,a),Lr(r.height,i)]}function Tr(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function at(r,t){var e=t[0],n=t[1],a,i;return e==="t"?i=r.y:e==="b"?i=r.y+r.height:i=r.y+r.height/2,n==="l"?a=r.x:n==="r"?a=r.x+r.width:a=r.x+r.width/2,{x:a,y:i}}function Fe(r,t){var e={t:"b",b:"t",l:"r",r:"l"};return r.map(function(n,a){return a===t?e[n]||"c":n}).join("")}function yn(r,t,e,n,a,i,s){var u=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),v=H(u,2),c=v[0],g=v[1],h=o.useRef(0),m=o.useMemo(function(){return t?Sr(t):[]},[t]),f=o.useRef({}),y=function(){f.current={}};r||y();var M=Ae(function(){if(t&&e&&r){let ae=function(gt,He){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ut,mt=C.x+gt,It=C.y+He,cr=mt+p,vr=It+de,hr=Math.max(mt,Ve.left),l=Math.max(It,Ve.top),d=Math.min(cr,Ve.right),$=Math.min(vr,Ve.bottom);return Math.max(0,(d-hr)*($-l))},nt=function(){Te=C.y+k,Ee=Te+de,Ke=C.x+_,_e=Ke+p};var L,D,F,E,b=t,ve=b.ownerDocument,Y=Mt(b),be=Y.getComputedStyle(b),X=be.position,oe=b.style.left,ye=b.style.top,Se=b.style.right,he=b.style.bottom,Ce=b.style.overflow,W=T(T({},a[n]),i),A=ve.createElement("div");(L=b.parentElement)===null||L===void 0||L.appendChild(A),A.style.left="".concat(b.offsetLeft,"px"),A.style.top="".concat(b.offsetTop,"px"),A.style.position=X,A.style.height="".concat(b.offsetHeight,"px"),A.style.width="".concat(b.offsetWidth,"px"),b.style.left="0",b.style.top="0",b.style.right="auto",b.style.bottom="auto",b.style.overflow="hidden";var S;if(Array.isArray(e))S={x:e[0],y:e[1],width:0,height:0};else{var se,G,q=e.getBoundingClientRect();q.x=(se=q.x)!==null&&se!==void 0?se:q.left,q.y=(G=q.y)!==null&&G!==void 0?G:q.top,S={x:q.x,y:q.y,width:q.width,height:q.height}}var C=b.getBoundingClientRect(),xe=Y.getComputedStyle(b),ot=xe.height,De=xe.width;C.x=(D=C.x)!==null&&D!==void 0?D:C.left,C.y=(F=C.y)!==null&&F!==void 0?F:C.top;var O=ve.documentElement,st=O.clientWidth,fe=O.clientHeight,J=O.scrollWidth,Ie=O.scrollHeight,qe=O.scrollTop,$e=O.scrollLeft,de=C.height,p=C.width,U=S.height,Me=S.width,ke={left:0,top:0,right:st,bottom:fe},Re={left:-$e,top:-qe,right:J-$e,bottom:Ie-qe},K=W.htmlRegion,Ue="visible",ee="visibleFirst";K!=="scroll"&&K!==ee&&(K=Ue);var je=K===ee,Jt=Rr(Re,m),P=Rr(ke,m),ut=K===Ue?P:Jt,z=je?P:ut;b.style.left="auto",b.style.top="auto",b.style.right="0",b.style.bottom="0";var wt=b.getBoundingClientRect();b.style.left=oe,b.style.top=ye,b.style.right=Se,b.style.bottom=he,b.style.overflow=Ce,(E=b.parentElement)===null||E===void 0||E.removeChild(A);var we=Ct(Math.round(p/parseFloat(De)*1e3)/1e3),Le=Ct(Math.round(de/parseFloat(ot)*1e3)/1e3);if(we===0||Le===0||br(e)&&!Yr(e))return;var Kt=W.offset,Pt=W.targetOffset,ge=Nr(C,Kt),_t=H(ge,2),te=_t[0],ue=_t[1],et=Nr(S,Pt),Z=H(et,2),Ne=Z[0],Zt=Z[1];S.x-=Ne,S.y-=Zt;var Yt=W.points||[],Ht=H(Yt,2),Xt=Ht[0],xt=Ht[1],Pe=Tr(xt),j=Tr(Xt),V=at(S,Pe),Dt=at(C,j),re=T({},W),_=V.x-Dt.x+te,k=V.y-Dt.y+ue,le=ae(_,k),Qe=ae(_,k,P),ne=at(S,["t","l"]),$t=at(C,["t","l"]),lt=at(S,["b","r"]),Ge=at(C,["b","r"]),Je=W.overflow||{},Ot=Je.adjustX,kt=Je.adjustY,tt=Je.shiftX,ct=Je.shiftY,Rt=function(He){return typeof He=="boolean"?He:He>=0},Te,Ee,Ke,_e;nt();var Lt=Rt(kt),Q=j[0]===Pe[0];if(Lt&&j[0]==="t"&&(Ee>z.bottom||f.current.bt)){var Ze=k;Q?Ze-=de-U:Ze=ne.y-Ge.y-ue;var Nt=ae(_,Ze),pt=ae(_,Ze,P);Nt>le||Nt===le&&(!je||pt>=Qe)?(f.current.bt=!0,k=Ze,ue=-ue,re.points=[Fe(j,0),Fe(Pe,0)]):f.current.bt=!1}if(Lt&&j[0]==="b"&&(Te<z.top||f.current.tb)){var Ye=k;Q?Ye+=de-U:Ye=lt.y-$t.y-ue;var Tt=ae(_,Ye),er=ae(_,Ye,P);Tt>le||Tt===le&&(!je||er>=Qe)?(f.current.tb=!0,k=Ye,ue=-ue,re.points=[Fe(j,0),Fe(Pe,0)]):f.current.tb=!1}var Et=Rt(Ot),Wt=j[1]===Pe[1];if(Et&&j[1]==="l"&&(_e>z.right||f.current.rl)){var Xe=_;Wt?Xe-=p-Me:Xe=ne.x-Ge.x-te;var Oe=ae(Xe,k),vt=ae(Xe,k,P);Oe>le||Oe===le&&(!je||vt>=Qe)?(f.current.rl=!0,_=Xe,te=-te,re.points=[Fe(j,1),Fe(Pe,1)]):f.current.rl=!1}if(Et&&j[1]==="r"&&(Ke<z.left||f.current.lr)){var pe=_;Wt?pe+=p-Me:pe=lt.x-$t.x-te;var ht=ae(pe,k),rt=ae(pe,k,P);ht>le||ht===le&&(!je||rt>=Qe)?(f.current.lr=!0,_=pe,te=-te,re.points=[Fe(j,1),Fe(Pe,1)]):f.current.lr=!1}nt();var ce=tt===!0?0:tt;typeof ce=="number"&&(Ke<P.left&&(_-=Ke-P.left-te,S.x+Me<P.left+ce&&(_+=S.x-P.left+Me-ce)),_e>P.right&&(_-=_e-P.right-te,S.x>P.right-ce&&(_+=S.x-P.right+ce)));var We=ct===!0?0:ct;typeof We=="number"&&(Te<P.top&&(k-=Te-P.top-ue,S.y+U<P.top+We&&(k+=S.y-P.top+U-We)),Ee>P.bottom&&(k-=Ee-P.bottom-ue,S.y>P.bottom-We&&(k+=S.y-P.bottom+We)));var Be=C.x+_,ze=Be+p,ft=C.y+k,tr=ft+de,Bt=S.x,zt=Bt+Me,Vt=S.y,rr=Vt+U,nr=Math.max(Be,Bt),Ft=Math.min(ze,zt),ar=(nr+Ft)/2,ir=ar-Be,At=Math.max(ft,Vt),or=Math.min(tr,rr),sr=(At+or)/2,ur=sr-ft;s?.(t,re);var me=wt.right-C.x-(_+C.width),dt=wt.bottom-C.y-(k+C.height);we===1&&(_=Math.round(_),me=Math.round(me)),Le===1&&(k=Math.round(k),dt=Math.round(dt));var lr={ready:!0,offsetX:_/we,offsetY:k/Le,offsetR:me/we,offsetB:dt/Le,arrowX:ir/we,arrowY:ur/Le,scaleX:we,scaleY:Le,align:re};g(lr)}}),w=function(){h.current+=1;var D=h.current;Promise.resolve().then(function(){h.current===D&&M()})},x=function(){g(function(D){return T(T({},D),{},{ready:!1})})};return I(x,[n]),I(function(){r||x()},[r]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,w]}function Sn(r,t,e,n,a){I(function(){if(r&&t&&e){let h=function(){n(),a()};var i=t,s=e,u=Sr(i),v=Sr(s),c=Mt(s),g=new Set([c].concat(mr(u),mr(v)));return g.forEach(function(m){m.addEventListener("scroll",h,{passive:!0})}),c.addEventListener("resize",h,{passive:!0}),n(),function(){g.forEach(function(m){m.removeEventListener("scroll",h),c.removeEventListener("resize",h)})}}},[r,t,e])}function Cn(r,t,e,n,a,i,s,u){var v=o.useRef(r);v.current=r;var c=o.useRef(!1);o.useEffect(function(){if(t&&n&&(!a||i)){var h=function(){c.current=!1},m=function(w){var x;v.current&&!s(((x=w.composedPath)===null||x===void 0||(x=x.call(w))===null||x===void 0?void 0:x[0])||w.target)&&!c.current&&u(!1)},f=Mt(n);f.addEventListener("pointerdown",h,!0),f.addEventListener("mousedown",m,!0),f.addEventListener("contextmenu",m,!0);var y=yr(e);return y&&(y.addEventListener("mousedown",m,!0),y.addEventListener("contextmenu",m,!0)),function(){f.removeEventListener("pointerdown",h,!0),f.removeEventListener("mousedown",m,!0),f.removeEventListener("contextmenu",m,!0),y&&(y.removeEventListener("mousedown",m,!0),y.removeEventListener("contextmenu",m,!0))}}},[t,e,n,a,i]);function g(){c.current=!0}return g}var Mn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function wn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fr,t=o.forwardRef(function(e,n){var a=e.prefixCls,i=a===void 0?"rc-trigger-popup":a,s=e.children,u=e.action,v=u===void 0?"hover":u,c=e.showAction,g=e.hideAction,h=e.popupVisible,m=e.defaultPopupVisible,f=e.onPopupVisibleChange,y=e.afterPopupVisibleChange,M=e.mouseEnterDelay,w=e.mouseLeaveDelay,x=w===void 0?.1:w,L=e.focusDelay,D=e.blurDelay,F=e.mask,E=e.maskClosable,b=E===void 0?!0:E,ve=e.getPopupContainer,Y=e.forceRender,be=e.autoDestroy,X=e.destroyPopupOnHide,oe=e.popup,ye=e.popupClassName,Se=e.popupStyle,he=e.popupPlacement,Ce=e.builtinPlacements,W=Ce===void 0?{}:Ce,A=e.popupAlign,S=e.zIndex,se=e.stretch,G=e.getPopupClassNameFromAlign,q=e.fresh,C=e.alignPoint,xe=e.onPopupClick,ot=e.onPopupAlign,De=e.arrow,O=e.popupMotion,st=e.maskMotion,fe=e.popupTransitionName,J=e.popupAnimation,Ie=e.maskTransitionName,qe=e.maskAnimation,$e=e.className,de=e.getTriggerDOMNode,p=Cr(e,Mn),U=be||X||!1,Me=o.useState(!1),ke=H(Me,2),Re=ke[0],K=ke[1];I(function(){K(Xr())},[]);var Ue=o.useRef({}),ee=o.useContext(Dr),je=o.useMemo(function(){return{registerSubPopup:function(d,$){Ue.current[d]=$,ee?.registerSubPopup(d,$)}}},[ee]),Jt=Or(),P=o.useState(null),ut=H(P,2),z=ut[0],wt=ut[1],we=o.useRef(null),Le=Ae(function(l){we.current=l,br(l)&&z!==l&&wt(l),ee?.registerSubPopup(Jt,l)}),Kt=o.useState(null),Pt=H(Kt,2),ge=Pt[0],_t=Pt[1],te=o.useRef(null),ue=Ae(function(l){br(l)&&ge!==l&&(_t(l),te.current=l)}),et=o.Children.only(s),Z=et?.props||{},Ne={},Zt=Ae(function(l){var d,$,N=ge;return N?.contains(l)||((d=yr(N))===null||d===void 0?void 0:d.host)===l||l===N||z?.contains(l)||(($=yr(z))===null||$===void 0?void 0:$.host)===l||l===z||Object.values(Ue.current).some(function(R){return R?.contains(l)||l===R})}),Yt=kr(i,O,J,fe),Ht=kr(i,st,qe,Ie),Xt=o.useState(m||!1),xt=H(Xt,2),Pe=xt[0],j=xt[1],V=h??Pe,Dt=Ae(function(l){h===void 0&&j(l)});I(function(){j(h||!1)},[h]);var re=o.useRef(V);re.current=V;var _=o.useRef([]);_.current=[];var k=Ae(function(l){var d;Dt(l),((d=_.current[_.current.length-1])!==null&&d!==void 0?d:V)!==l&&(_.current.push(l),f?.(l))}),le=o.useRef(),Qe=function(){clearTimeout(le.current)},ne=function(d){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Qe(),$===0?k(d):le.current=setTimeout(function(){k(d)},$*1e3)};o.useEffect(function(){return Qe},[]);var $t=o.useState(!1),lt=H($t,2),Ge=lt[0],Je=lt[1];I(function(l){(!l||V)&&Je(!0)},[V]);var Ot=o.useState(null),kt=H(Ot,2),tt=kt[0],ct=kt[1],Rt=o.useState(null),Te=H(Rt,2),Ee=Te[0],Ke=Te[1],_e=function(d){Ke([d.clientX,d.clientY])},Lt=yn(V,z,C&&Ee!==null?Ee:ge,he,W,A,ot),Q=H(Lt,11),Ze=Q[0],Nt=Q[1],pt=Q[2],Ye=Q[3],Tt=Q[4],er=Q[5],Et=Q[6],Wt=Q[7],Xe=Q[8],Oe=Q[9],vt=Q[10],pe=gn(Re,v,c,g),ht=H(pe,2),rt=ht[0],ce=ht[1],We=rt.has("click"),Be=ce.has("click")||ce.has("contextMenu"),ze=Ae(function(){Ge||vt()}),ft=function(){re.current&&C&&Be&&ne(!1)};Sn(V,ge,z,ze,ft),I(function(){ze()},[Ee,he]),I(function(){V&&!(W!=null&&W[he])&&ze()},[JSON.stringify(A)]);var tr=o.useMemo(function(){var l=bn(W,i,Oe,C);return it(l,G?.(Oe))},[Oe,G,W,i,C]);o.useImperativeHandle(n,function(){return{nativeElement:te.current,popupElement:we.current,forceAlign:ze}});var Bt=o.useState(0),zt=H(Bt,2),Vt=zt[0],rr=zt[1],nr=o.useState(0),Ft=H(nr,2),ar=Ft[0],ir=Ft[1],At=function(){if(se&&ge){var d=ge.getBoundingClientRect();rr(d.width),ir(d.height)}},or=function(){At(),ze()},sr=function(d){Je(!1),vt(),y?.(d)},ur=function(){return new Promise(function(d){At(),ct(function(){return d})})};I(function(){tt&&(vt(),tt(),ct(null))},[tt]);function me(l,d,$,N){Ne[l]=function(R){var qt;N?.(R),ne(d,$);for(var fr=arguments.length,Mr=new Array(fr>1?fr-1:0),Ut=1;Ut<fr;Ut++)Mr[Ut-1]=arguments[Ut];(qt=Z[l])===null||qt===void 0||qt.call.apply(qt,[Z,R].concat(Mr))}}(We||Be)&&(Ne.onClick=function(l){var d;re.current&&Be?ne(!1):!re.current&&We&&(_e(l),ne(!0));for(var $=arguments.length,N=new Array($>1?$-1:0),R=1;R<$;R++)N[R-1]=arguments[R];(d=Z.onClick)===null||d===void 0||d.call.apply(d,[Z,l].concat(N))});var dt=Cn(V,Be,ge,z,F,b,Zt,ne),lr=rt.has("hover"),ae=ce.has("hover"),nt,gt;lr&&(me("onMouseEnter",!0,M,function(l){_e(l)}),me("onPointerEnter",!0,M,function(l){_e(l)}),nt=function(d){(V||Ge)&&z!==null&&z!==void 0&&z.contains(d.target)&&ne(!0,M)},C&&(Ne.onMouseMove=function(l){var d;(d=Z.onMouseMove)===null||d===void 0||d.call(Z,l)})),ae&&(me("onMouseLeave",!1,x),me("onPointerLeave",!1,x),gt=function(){ne(!1,x)}),rt.has("focus")&&me("onFocus",!0,L),ce.has("focus")&&me("onBlur",!1,D),rt.has("contextMenu")&&(Ne.onContextMenu=function(l){var d;re.current&&ce.has("contextMenu")?ne(!1):(_e(l),ne(!0)),l.preventDefault();for(var $=arguments.length,N=new Array($>1?$-1:0),R=1;R<$;R++)N[R-1]=arguments[R];(d=Z.onContextMenu)===null||d===void 0||d.call.apply(d,[Z,l].concat(N))}),$e&&(Ne.className=it(Z.className,$e));var He=o.useRef(!1);He.current||(He.current=Y||V||Ge);var Ve=T(T({},Z),Ne),mt={},It=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];It.forEach(function(l){p[l]&&(mt[l]=function(){for(var d,$=arguments.length,N=new Array($),R=0;R<$;R++)N[R]=arguments[R];(d=Ve[l])===null||d===void 0||d.call.apply(d,[Ve].concat(N)),p[l].apply(p,N)})});var cr=o.cloneElement(et,T(T({},Ve),mt)),vr={x:er,y:Et},hr=De?T({},De!==!0?De:{}):null;return o.createElement(o.Fragment,null,o.createElement(zr,{disabled:!V,ref:ue,onResize:or},o.createElement(dn,{getTriggerDOMNode:de},cr)),He.current&&o.createElement(Dr.Provider,{value:je},o.createElement(fn,{portal:r,ref:Le,prefixCls:i,popup:oe,className:it(ye,tr),style:Se,target:ge,onMouseEnter:nt,onMouseLeave:gt,onPointerEnter:nt,zIndex:S,open:V,keepDom:Ge,fresh:q,onClick:xe,onPointerDownCapture:dt,mask:F,motion:Yt,maskMotion:Ht,onVisibleChanged:sr,onPrepare:ur,forceRender:Y,autoDestroy:U,getPopupContainer:ve,align:Oe,arrow:hr,arrowPos:vr,ready:Ze,offsetX:Nt,offsetY:pt,offsetR:Ye,offsetB:Tt,onAlign:ze,stretch:se,targetWidth:Vt/Wt,targetHeight:ar/Xe})))});return t}const Dn=wn(Fr);function $n(r){var t=o.createContext(void 0),e=function(a){var i=a.value,s=a.children,u=o.useRef(i);u.current=i;var v=o.useState(function(){return{getValue:function(){return u.current},listeners:new Set}}),c=H(v,1),g=c[0];return I(function(){Er.unstable_batchedUpdates(function(){g.listeners.forEach(function(h){h(i)})})},[i]),o.createElement(t.Provider,{value:g},s)};return{Context:t,Provider:e,defaultValue:r}}function kn(r,t){var e=Ae(typeof t=="function"?t:function(h){if(t===void 0)return h;if(!Array.isArray(t))return h[t];var m={};return t.forEach(function(f){m[f]=h[f]}),m}),n=o.useContext(r?.Context),a=n||{},i=a.listeners,s=a.getValue,u=o.useRef();u.current=e(n?s():r?.defaultValue);var v=o.useState({}),c=H(v,2),g=c[1];return I(function(){if(!n)return;function h(m){var f=e(m);pr(u.current,f,!0)||g({})}return i.add(h),function(){i.delete(h)}},[n]),u.current}function Rn(){var r=o.createContext(null);function t(){return o.useContext(r)}function e(a,i){var s=Qt(a),u=function(c,g){var h=s?{ref:g}:{},m=o.useRef(0),f=o.useRef(c),y=t();return y!==null?o.createElement(a,St({},c,h)):((!i||i(f.current,c))&&(m.current+=1),f.current=c,o.createElement(r.Provider,{value:m.current},o.createElement(a,St({},c,h))))};return s?o.forwardRef(u):u}function n(a,i){var s=Qt(a),u=function(c,g){var h=s?{ref:g}:{};return t(),o.createElement(a,St({},c,h))};return s?o.memo(o.forwardRef(u),i):o.memo(u,i)}return{makeImmutable:e,responseImmutable:n,useImmutableMark:t}}export{xn as C,Dn as T,$n as a,Rn as c,kn as u};
