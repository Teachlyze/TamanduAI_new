import{g as w,r as l,j as e,i as x,m as C,x as S,F as I,H as E,I as F,y as O,e as A,J as i,K as p,aN as P,aO as T,aP as D,aQ as L,aR as M,D as V}from"./main-Cv3DLBs1.js";import{u as $}from"./use-toast-D9kn2S2s.js";import{A as U}from"./arrow-left-Bz9GyE2M.js";import{S as v}from"./send-BE4VkFZG.js";import{U as B}from"./user-B-fEXFdH.js";import{M as H}from"./mail-CPRC1PMK.js";const G=()=>{const j=w(),{toast:u}=$(),[r,n]=l.useState({name:"",email:"",classId:"",message:"Olá! Você está convidado(a) a se juntar à nossa plataforma educacional."}),[h,g]=l.useState(!1),[b,o]=l.useState(!1),[s,m]=l.useState({}),f=[{id:"math-9a",name:"Matemática 9A"},{id:"physics-2b",name:"Física 2B"},{id:"chem-3c",name:"Química 3C"}],y=()=>{const a={};return r.name.trim()||(a.name="O nome é obrigatório"),r.email?/\S+@\S+\.\S+/.test(r.email)||(a.email="Por favor, insira um e-mail válido"):a.email="O e-mail é obrigatório",r.classId||(a.classId="Selecione uma turma"),m(a),Object.keys(a).length===0},N=async a=>{if(a.preventDefault(),!!y()){g(!0);try{await new Promise(t=>setTimeout(t,1500)),o(!0),u({title:"Convite enviado!",description:`Um convite foi enviado para ${r.email}`}),setTimeout(()=>{n({name:"",email:"",classId:"",message:"Olá! Você está convidado(a) a se juntar à nossa plataforma educacional."}),o(!1)},3e3)}catch(t){console.error("Error sending invitation:",t),u({variant:"destructive",title:"Erro ao enviar convite",description:"Ocorreu um erro ao enviar o convite. Por favor, tente novamente."})}finally{g(!1)}}},d=a=>{const{name:t,value:k}=a.target;n(c=>({...c,[t]:k})),s[t]&&m(c=>({...c,[t]:null}))};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(x,{variant:"ghost",onClick:()=>j(-1),className:"mb-6 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Voltar para alunos"]}),e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs(S,{className:"overflow-hidden border border-gray-200 dark:border-gray-700 shadow-xl",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 h-1"}),e.jsxs(I,{className:"pt-8 pb-6",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-blue-100 dark:bg-gray-100 dark:bg-gray-800 text-blue-600 dark:text-blue-400",children:e.jsx(v,{className:"h-8 w-8"})}),e.jsx(E,{className:"text-2xl font-bold text-center text-gray-900 dark:text-white",children:"Convidar Aluno"}),e.jsx(F,{className:"text-center text-gray-600 dark:text-gray-300",children:"Preencha os dados do aluno para enviar um convite"})]})]}),e.jsx(O,{className:"pb-8 px-8",children:b?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30 mb-4",children:e.jsx(A,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Convite enviado!"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:["O convite foi enviado para ",e.jsx("span",{className:"font-medium",children:r.email})," com sucesso."]}),e.jsx(x,{onClick:()=>o(!1),children:"Enviar outro convite"})]}):e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome do Aluno"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(B,{className:"h-5 w-5 text-gray-400"})}),e.jsx(p,{id:"name",name:"name",type:"text",value:r.name,onChange:d,className:`pl-10 ${s.name?"border-red-500":""}`,placeholder:"Nome completo do aluno"})]}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"E-mail do Aluno"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(H,{className:"h-5 w-5 text-gray-400"})}),e.jsx(p,{id:"email",name:"email",type:"email",value:r.email,onChange:d,className:`pl-10 ${s.email?"border-red-500":""}`,placeholder:"exemplo@escola.com"})]}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.email})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"classId",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Turma"}),e.jsxs(P,{value:r.classId,onValueChange:a=>{n(t=>({...t,classId:a})),s.classId&&m(t=>({...t,classId:null}))},children:[e.jsx(T,{className:`w-full ${s.classId?"border-red-500":""}`,children:e.jsx(D,{placeholder:"Selecione uma turma"})}),e.jsx(L,{children:f.map(a=>e.jsx(M,{value:a.id,children:a.name},a.id))})]}),s.classId&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:s.classId})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mensagem (opcional)"}),e.jsx("textarea",{id:"message",name:"message",rows:"3",value:r.message,onChange:d,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"Mensagem personalizada para o aluno"})]})]}),e.jsx("div",{className:"pt-2",children:e.jsx(x,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-2 px-4 rounded-md shadow-sm transition-all duration-200 flex items-center justify-center",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"-ml-1 mr-2 h-4 w-4"}),"Enviar Convite"]})})})]})})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-gray-400",children:e.jsx("p",{children:"O aluno receberá um e-mail com instruções para criar uma conta."})})]})]})})};export{G as default};
