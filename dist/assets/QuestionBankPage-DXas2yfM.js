import{f as A,g as B,u as D,r as i,j as e,m as t,a4 as S,C as p,O as g,A as _,a5 as F,K as Q,Z as E,B as j,a0 as H,T as I,U}from"./main-C_d-NeC0.js";import{P as o}from"./PremiumCard-BmbTLnXK.js";import{P as x}from"./PremiumButton-BXe4rVF6.js";import{B as n}from"./badge-DbvBbrWQ.js";import{q as b}from"./questionBankService-0gJqR_ZC.js";import{P as v}from"./plus-DUVhm2rw.js";import{C as f}from"./circle-check-big-CgP05W4G.js";import{T as L}from"./target-DJiyD3Kr.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],z=A("tag",V);function Y(){const d=B(),{user:m}=D(),[N,h]=i.useState(!0),[u,y]=i.useState([]),[l,w]=i.useState(null),[a,c]=i.useState({subject:"",difficulty:null,questionType:"",status:"approved",search:""}),[O,R]=i.useState("browse");i.useEffect(()=>{k(),m&&C()},[a.subject,a.difficulty,a.questionType,a.status]);const k=async()=>{h(!0);const s=await b.searchQuestions(a);s.success&&y(s.data),h(!1)},C=async()=>{const s=await b.getAuthorStats(m.id);w(s)},T=s=>{const r={1:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",2:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",3:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300",4:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",5:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"};return r[s]||r[3]},M=s=>({1:"Muito Fácil",2:"Fácil",3:"Médio",4:"Difícil",5:"Muito Difícil"})[s]||"Médio",P=s=>({multiple_choice:"Múltipla Escolha",true_false:"Verdadeiro/Falso",open:"Dissertativa"})[s]||s;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx(t.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-8 shadow-xl",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"🏦 Banco de Questões"}),e.jsx("p",{className:"text-blue-100",children:"Milhares de questões curadas | Contribua e ganhe desconto"})]}),e.jsxs(x,{onClick:()=>d("/dashboard/question-bank/create"),className:"bg-white text-purple-600 hover:bg-blue-50 whitespace-nowrap inline-flex items-center gap-2 shadow-lg font-semibold border-2 border-white/20 rounded-xl",children:[e.jsx(v,{className:"w-5 h-5"}),e.jsx("span",{children:"Nova Questão"})]})]}),l&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs(t.div,{whileHover:{scale:1.05},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(S,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm text-blue-100",children:"Total"})]}),e.jsx("div",{className:"text-2xl font-bold",children:l.total})]}),e.jsxs(t.div,{whileHover:{scale:1.05},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(f,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm text-blue-100",children:"Aprovadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-300",children:l.approved})]}),e.jsxs(t.div,{whileHover:{scale:1.05},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(p,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm text-blue-100",children:"Pendentes"})]}),e.jsx("div",{className:"text-2xl font-bold text-yellow-300",children:l.pending})]}),e.jsxs(t.div,{whileHover:{scale:1.05},className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm text-blue-100",children:"Usos"})]}),e.jsx("div",{className:"text-2xl font-bold",children:l.totalUses})]}),e.jsxs(t.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(_,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm text-white",children:"Desconto"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[l.discountEarned,"%"]})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(o,{variant:"elevated",className:"mb-6",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Q,{type:"text",placeholder:"Buscar questões...",value:a.search,onChange:s=>c({...a,search:s.target.value}),className:"pl-10"})]})}),e.jsxs("select",{value:a.subject,onChange:s=>c({...a,subject:s.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-800",children:[e.jsx("option",{value:"",children:"Todas Matérias"}),e.jsx("option",{value:"matematica",children:"Matemática"}),e.jsx("option",{value:"portugues",children:"Português"}),e.jsx("option",{value:"fisica",children:"Física"}),e.jsx("option",{value:"quimica",children:"Química"}),e.jsx("option",{value:"biologia",children:"Biologia"}),e.jsx("option",{value:"historia",children:"História"}),e.jsx("option",{value:"geografia",children:"Geografia"}),e.jsx("option",{value:"ingles",children:"Inglês"})]}),e.jsxs("select",{value:a.difficulty||"",onChange:s=>c({...a,difficulty:s.target.value?parseInt(s.target.value):null}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-800",children:[e.jsx("option",{value:"",children:"Todas Dificuldades"}),e.jsx("option",{value:"1",children:"Muito Fácil"}),e.jsx("option",{value:"2",children:"Fácil"}),e.jsx("option",{value:"3",children:"Médio"}),e.jsx("option",{value:"4",children:"Difícil"}),e.jsx("option",{value:"5",children:"Muito Difícil"})]}),e.jsxs("select",{value:a.questionType,onChange:s=>c({...a,questionType:s.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-800",children:[e.jsx("option",{value:"",children:"Todos Tipos"}),e.jsx("option",{value:"multiple_choice",children:"Múltipla Escolha"}),e.jsx("option",{value:"true_false",children:"Verdadeiro/Falso"}),e.jsx("option",{value:"open",children:"Dissertativa"})]}),e.jsxs("select",{value:a.status,onChange:s=>c({...a,status:s.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-800",children:[e.jsx("option",{value:"",children:"Todos Status"}),e.jsx("option",{value:"approved",children:"Aprovadas"}),e.jsx("option",{value:"pending",children:"Pendentes"}),e.jsx("option",{value:"rejected",children:"Rejeitadas"})]})]})})})}),N?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(t.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:e.jsx(E,{className:"w-12 h-12 text-purple-600"})}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando questões..."})]}):u.length===0?e.jsx(o,{variant:"elevated",children:e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(j,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Nenhuma questão encontrada"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Ajuste os filtros ou seja o primeiro a contribuir!"}),e.jsxs(x,{onClick:()=>d("/dashboard/question-bank/create"),className:"whitespace-nowrap inline-flex items-center gap-2 rounded-xl",children:[e.jsx(v,{className:"w-5 h-5"}),e.jsx("span",{children:"Criar Primeira Questão"})]})]})}):e.jsx("div",{className:"grid gap-4",children:e.jsx(H,{children:u.map((s,r)=>e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:r*.05},children:e.jsx(o,{variant:"elevated",className:"hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs(n,{className:T(s.difficulty),children:[e.jsx(L,{className:"w-3 h-3 mr-1"}),M(s.difficulty)]}),e.jsx(n,{variant:"outline",children:P(s.question_type)}),s.status==="approved"&&e.jsxs(n,{className:"bg-green-100 text-green-700",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),"Aprovada"]}),s.status==="pending"&&e.jsxs(n,{className:"bg-yellow-100 text-yellow-700",children:[e.jsx(p,{className:"w-3 h-3 mr-1"}),"Pendente"]})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 line-clamp-2",children:s.question_text})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2 ml-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(g,{className:"w-4 h-4"}),s.uses_count||0]}),s.correct_rate&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(I,{className:"w-4 h-4"}),s.correct_rate,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[s.subject&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-4 h-4"}),s.subject]}),s.reference&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"w-4 h-4"}),s.reference]}),s.profiles&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"w-4 h-4"}),s.profiles.name]})]}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>d(`/dashboard/question-bank/${s.id}`),className:"whitespace-nowrap inline-flex items-center gap-2 bg-white dark:bg-slate-900 text-foreground border-border rounded-lg",children:"Ver Detalhes"})]})]})})},s.id))})})]})]})}export{Y as default};
