import{g as O,r as g,j as e,m as i,b7 as U,i as l,ah as w,x as s,F as b,H as u,B as p,y as j,ai as G,K as I,av as V,aw as K,ax as W,ay as f,O as C,az as J,d as Q,U as X,aA as Y,aB as Z,aC as _,aD as ee,aE as ae,aF as re,aG as se,aH as te}from"./main-BTTCSkdE.js";import{t as d}from"./use-toast-COfaqMOp.js";import{u as ie}from"./ActivityContext-AJtIGg-W.js";import{u as le}from"./useUserRole-g8lN0RLK.js";import{P as A}from"./plus-oG5N7bqt.js";import{T as de}from"./target-DeybGG3h.js";import{C as D}from"./circle-check-big-BC3uqdYk.js";import{F as oe}from"./funnel-gLdLffK0.js";import{E as ne}from"./ellipsis-vertical-cipcdDUr.js";import{S as ce}from"./square-pen-CwtcmOHA.js";import{T as xe}from"./trash-2-BWX-Vf9e.js";import"./useRedisCache-D11n6LE5.js";const Ne=()=>{const o=O(),{activities:n,setActivities:T}=ie(),{isTeacher:t}=le(),[c,S]=g.useState(""),[x,E]=g.useState("all"),[F,v]=g.useState(!1),[m,k]=g.useState(null),h=(a,r=null)=>{switch(a){case"create":t&&o("/dashboard/activities/new");break;case"view":r&&o(`/dashboard/activities/${r.id}`);break;case"edit":t&&r&&o(`/dashboard/activities/edit/${r.id}`);break;case"filter":d({title:"Filtros",description:"Use os campos de busca e seleção para filtrar as atividades."});break;case"export":d({title:"Exportar Dados",description:"Exportando lista de atividades..."}),setTimeout(()=>{d({title:"Exportação Concluída",description:"A lista de atividades foi exportada com sucesso!"})},1500);break;case"loadMaterial":d({title:"Carregar Material",description:"Selecione o arquivo para fazer upload."});break;default:d({title:"Ação não implementada",description:`A ação ${a} ainda não foi implementada.`})}},B=a=>{k(a),v(!0)},L=()=>{m&&(T(a=>a.filter(r=>r.id!==m.id)),d({title:"Atividade removida!",description:`A atividade "${m.title}" foi removida com sucesso.`})),v(!1),k(null)},y=n.filter(a=>{const r=a.title.toLowerCase().includes(c.toLowerCase())||a.description.toLowerCase().includes(c.toLowerCase()),H=x==="all"||a.status===x;return r&&H}),z={draft:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 dark:from-gray-700 dark:to-gray-600 dark:text-gray-200",published:"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 dark:from-blue-900 dark:to-blue-800 dark:text-blue-200",completed:"bg-gradient-to-r from-green-100 to-green-200 text-green-800 dark:from-green-900 dark:to-green-800 dark:text-green-200",archived:"bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800 dark:from-purple-900 dark:to-purple-800 dark:text-purple-200"},M={draft:e.jsx(w,{className:"w-4 h-4"}),published:e.jsx(p,{className:"w-4 h-4"}),completed:e.jsx(D,{className:"w-4 h-4"}),archived:e.jsx(p,{className:"w-4 h-4"})},N={draft:"Rascunho",published:"Publicada",completed:"Concluída",archived:"Arquivada"},P=n.length,R=n.filter(a=>a.status==="published").length,q=n.filter(a=>a.status==="completed").length,$=n.filter(a=>a.status==="draft").length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-violet-50 to-purple-50 dark:from-indigo-950 dark:via-violet-950 dark:to-purple-950",children:e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs(i.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10 rounded-2xl blur-xl"}),e.jsx("div",{className:"p-12 rounded-3xl shadow-2xl backdrop-blur-xl bg-white/95 dark:bg-gray-900/95 border border-slate-200/50 dark:border-slate-700/50",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-5 bg-gradient-to-br from-indigo-700 via-violet-700 to-purple-700 rounded-4xl shadow-4xl hover:shadow-5xl transition-all duration-700 hover:scale-130",children:e.jsx(U,{className:"h-6 w-6 text-white"})}),e.jsx("h1",{className:"text-7xl font-black bg-gradient-to-br from-indigo-800 via-violet-800 to-purple-800 bg-clip-text text-transparent drop-shadow-3xl",children:"Atividades"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gerencie e acompanhe as atividades da sua turma"})]}),t&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(l,{variant:"outline",className:"shadow-sm",onClick:()=>o("/dashboard/activities/drafts"),children:[e.jsx(w,{className:"mr-2 w-4 h-4"}),"Rascunhos"]}),e.jsxs(l,{className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>o("/dashboard/activities/new"),children:[e.jsx(A,{className:"mr-2 w-4 h-4"}),"Nova Atividade"]})]})]})})]}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(s,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total"}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-violet-500/20 via-purple-500/20 to-fuchsia-500/20 rounded-2xl border border-violet-200/50 dark:border-violet-700/50 shadow-xl",children:e.jsx(p,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:P}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Atividades criadas"})]})]}),e.jsxs(s,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Publicadas"}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-500/20 via-green-500/20 to-teal-500/20 rounded-2xl border border-emerald-200/50 dark:border-emerald-700/50 shadow-xl",children:e.jsx(de,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:R}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Disponíveis para alunos"})]})]}),e.jsxs(s,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Concluídas"}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-500/20 via-green-500/20 to-teal-500/20 rounded-2xl border border-emerald-200/50 dark:border-emerald-700/50 shadow-xl",children:e.jsx(D,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:q}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Finalizadas"})]})]}),e.jsxs(s,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs(b,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Rascunhos"}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-amber-500/20 via-orange-500/20 to-yellow-500/20 rounded-2xl border border-amber-200/50 dark:border-amber-700/50 shadow-xl",children:e.jsx(w,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:$}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Em desenvolvimento"})]})]})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(s,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(I,{placeholder:"Buscar atividades...",value:c,onChange:a=>S(a.target.value),className:"pl-10 bg-white/50 dark:bg-gray-700/50 border-white/20 dark:border-gray-600/20 focus:bg-white dark:focus:bg-gray-700","aria-label":"Buscar atividades"})]}),e.jsxs("div",{className:"relative inline-flex items-center",children:[e.jsxs("select",{value:x,onChange:a=>E(a.target.value),className:"appearance-none pl-3 pr-8 py-2 border rounded-md text-sm bg-white/50 dark:bg-gray-700/50 text-gray-900 dark:text-white border-white/20 dark:border-gray-600/20 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filtrar por situação",children:[e.jsx("option",{value:"all",children:"Todas as situações"}),Object.entries(N).map(([a,r])=>e.jsx("option",{value:a,children:r},a))]}),e.jsx("div",{className:"absolute right-2 pointer-events-none text-gray-500 dark:text-gray-400",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),e.jsxs(l,{variant:"outline",onClick:()=>h("filter"),className:"bg-white/50 dark:bg-gray-700/50 border-white/20 dark:border-gray-600/20 hover:bg-white/80 dark:hover:bg-gray-600/80",children:[e.jsx(oe,{className:"mr-2 w-4 h-4"}),"Filtros"]})]})})})}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:y.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map((a,r)=>e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:"group",children:e.jsxs(s,{className:"p-8 rounded-3xl shadow-2xl bg-white/90 dark:bg-gray-800/90 border border-slate-200/50 dark:border-slate-600/50 hover:shadow-3xl transition-all duration-500 overflow-hidden h-full flex flex-col",children:[e.jsx("div",{className:"p-8 border-b border-slate-200/30 dark:border-slate-600/30",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 line-clamp-2",children:a.description})]}),e.jsxs(V,{children:[e.jsx(K,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ne,{className:"w-4 h-4 text-gray-400"})})}),e.jsxs(W,{align:"end",className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-white/20 dark:border-gray-700/20",children:[e.jsxs(f,{onClick:()=>h("view",a),children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Visualizar"})]}),t&&e.jsxs(f,{onClick:()=>h("edit",a),children:[e.jsx(ce,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Editar"})]}),e.jsx(J,{}),t&&e.jsxs(f,{className:"text-red-600 focus:text-red-600 focus:bg-red-50 dark:focus:bg-red-900/20",onClick:()=>B(a),children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Excluir"})]})]})]})]})}),e.jsxs("div",{className:"p-8 space-y-6 flex-grow",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${z[a.status]}`,children:[M[a.status],e.jsx("span",{className:"ml-1",children:N[a.status]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Data de entrega"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(a.dueDate).toLocaleDateString("pt-BR")})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Turma"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.class||"Todas"})]})]})]})]}),e.jsx("div",{className:"p-8 border-t border-slate-200/30 dark:border-slate-600/30 bg-slate-50/60 dark:bg-slate-800/60",children:e.jsxs(l,{variant:"outline",size:"sm",className:"w-full bg-white/50 dark:bg-gray-700/50 border-white/20 dark:border-gray-600/20 hover:bg-white dark:hover:bg-gray-600 group-hover:bg-gradient-to-r group-hover:from-blue-500 group-hover:to-purple-500 group-hover:text-white group-hover:border-transparent transition-all duration-300",onClick:()=>h("view",a),children:[e.jsx(C,{className:"mr-2 w-4 h-4"}),"Ver Detalhes"]})})]})},a.id))}):e.jsx(s,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl",children:e.jsx("div",{className:"p-12 rounded-3xl shadow-2xl bg-white/90 dark:bg-gray-800/90 border border-slate-200/50 dark:border-slate-600/50 hover:shadow-3xl transition-all duration-500",children:e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 bg-gradient-to-br from-rose-500/20 via-pink-500/20 to-red-500/20 rounded-full border border-rose-200/50 dark:border-rose-700/50 shadow-xl blur-xl"}),e.jsx(p,{className:"relative mx-auto h-16 w-16 text-gray-400 mb-4"})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Nenhuma atividade encontrada"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300 mb-6",children:c||x!=="all"?"Tente ajustar sua busca":"Nenhuma atividade criada ainda"}),!c&&x==="all"&&t&&e.jsxs(l,{className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>h("create"),children:[e.jsx(A,{className:"mr-2 w-4 h-4"}),"Criar Primeira Atividade"]})]})})})}),e.jsx(Y,{open:F,onOpenChange:v,children:e.jsxs(Z,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-white/20 dark:border-gray-700/20",children:[e.jsxs(_,{children:[e.jsx(ee,{children:"Confirmar exclusão"}),e.jsxs(ae,{children:['Tem certeza que deseja excluir a atividade "',m?.title,'"? Esta ação não pode ser desfeita.']})]}),e.jsxs(re,{children:[e.jsx(se,{className:"bg-white/50 dark:bg-gray-700/50 border-white/20 dark:border-gray-600/20",children:"Cancelar"}),e.jsx(te,{onClick:L,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-2xl hover:shadow-3xl transition-all duration-500 hover:scale-105",children:"Sim, excluir"})]})]})})]})})};export{Ne as default};
