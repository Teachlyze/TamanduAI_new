import{D as z,F as pr,G as pn,H as mr,J as _r,K as yr,M as w,O as lt,Q as ie,R as xr,U as x,v as Ft,V as se,W as mn,X as vr,Y as Sr,Z as j,n as br,_ as Cr,$ as Tr,a0 as _n,q as Er,a1 as wr,a2 as oe,a3 as Nr,a4 as $r,a5 as Or,a6 as kr,a7 as Ar,o as tt,p as L,w as yn,a8 as xn,a9 as k,E as v,aa as vn,ab as xt,ac as jt,ad as be,ae as Ce,af as Sn,ag as Pr,ah as dt,ai as Te,aj as ae,ak as bn,al as Cn,am as Dr,an as Fr,ao as Mr,ap as Lr,aq as Ht,ar as Rr,as as Ir,at as Y,y as et,au as Tn,av as Ur,aw as b,ax as Jr,ay as En,az as gt,aA as Wr,aB as zr,aC as Kr,aD as Br,r as U,aE as jr,aF as Hr,aG as Vr,aH as Vt,aI as qr,aJ as Gr,aK as wn,aL as qt,aM as Zr,aN as Yr,aO as Ee,aP as Gt,aQ as Xr,aR as Rt,aS as Qr,aT as we,aU as ti,aV as ei,aW as ni,aX as Ne,aY as ri,aZ as ii,a_ as si,a$ as oi,b0 as ai,b1 as li,b2 as ci,b3 as ui,b4 as fi,b5 as di,z as gi,b6 as bt,b7 as Ct,b8 as hi,b9 as pi,ba as mi,bb as kt,bc as _i,bd as yi,be as Nn,A as X,bf as $n,bg as At,x as xi,bh as $e,bi as Oe,bj as On,bk as vi,bl as Si,bm as bi}from"./lazy-CreateActivityPage.jsx-DYBofU2F.js";function Ci(n,...t){const e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of t)r.append("v",i);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Zt=new Map;function kn(n){const t={};if(!n)return t;const e=n.split(";");for(const r of e)if(r!==""){const[i,s]=r.split(/:([^]+)/);i&&s&&(t[i.trim()]=s.trim())}return t}function ke(n){let t=Zt.get(n);return t===void 0&&(t=kn(n),Zt.set(n,t)),t}function An(n){const t=mn().getElementByKey(n.getKey());if(t===null)return null;const e=t.ownerDocument.defaultView;return e===null?null:e.getComputedStyle(t)}function Pn(n){return An(se(n)?n:n.getParentOrThrow())}function Ae(n){const t=Pn(n);return t!==null&&t.direction==="rtl"}function Dn(n,t){const e=n.getStartEndPoints();if(t.isSelected(n)&&!vr(t)&&e!==null){const[r,i]=e,s=n.isBackward(),o=r.getNode(),a=i.getNode(),l=t.is(o),c=t.is(a);if(l||c){const[u,f]=Sr(n),g=o.is(a),h=t.is(s?a:o),d=t.is(s?o:a);let p,m=0;g?(m=u>f?f:u,p=u>f?u:f):h?(m=s?f:u,p=void 0):d&&(m=0,p=s?u:f),t.__text=t.__text.slice(m,p)}}return t}function Ti(n){const t=n.getStyle(),e=kn(t);Zt.set(t,e)}function Pe(n){return n.getNode().isAttached()}function Ei(n){let t=n;for(;t!==null&&!z(t);){const e=t.getLatest(),r=t.getParent();e.getChildrenSize()===0&&t.remove(!0),t=r}}function lo(n,t,e=null){const r=n.getStartEndPoints(),i=r?r[0]:null,s=n.getNodes(),o=s.length;if(i!==null&&(o===0||o===1&&i.type==="element"&&i.getNode().getChildrenSize()===0)){const c=i.type==="text"?i.getNode().getParentOrThrow():i.getNode(),u=c.getChildren();let f=t();return f.setFormat(c.getFormatType()),f.setIndent(c.getIndent()),u.forEach((g=>f.append(g))),e&&(f=e.append(f)),void c.replace(f)}let a=null,l=[];for(let c=0;c<o;c++){const u=s[c];z(u)?(It(n,l,l.length,t,e),l=[],a=u):a===null||a!==null&&pr(u,a)?l.push(u):(It(n,l,l.length,t,e),l=[u])}It(n,l,l.length,t,e)}function It(n,t,e,r,i=null){if(t.length===0)return;const s=t[0],o=new Map,a=[];let l=w(s)?s:s.getParentOrThrow();l.isInline()&&(l=l.getParentOrThrow());let c=!1;for(;l!==null;){const d=l.getPreviousSibling();if(d!==null){l=d,c=!0;break}if(l=l.getParentOrThrow(),z(l))break}const u=new Set;for(let d=0;d<e;d++){const p=t[d];w(p)&&p.getChildrenSize()===0&&u.add(p.getKey())}const f=new Set;for(let d=0;d<e;d++){const p=t[d];let m=p.getParent();if(m!==null&&m.isInline()&&(m=m.getParent()),m!==null&&ie(p)&&!f.has(p.getKey())){const y=m.getKey();if(o.get(y)===void 0){const _=r();_.setFormat(m.getFormatType()),_.setIndent(m.getIndent()),a.push(_),o.set(y,_),m.getChildren().forEach((T=>{_.append(T),f.add(T.getKey()),w(T)&&T.getChildrenKeys().forEach((O=>f.add(O)))})),Ei(m)}}else if(u.has(p.getKey())){w(p)||Ci(179);const y=r();y.setFormat(p.getFormatType()),y.setIndent(p.getIndent()),a.push(y),p.remove(!0)}}if(i!==null)for(let d=0;d<a.length;d++){const p=a[d];i.append(p)}let g=null;if(z(l))if(c)if(i!==null)l.insertAfter(i);else for(let d=a.length-1;d>=0;d--){const p=a[d];l.insertAfter(p)}else{const d=l.getFirstChild();if(w(d)&&(l=d),d===null)if(i)l.append(i);else for(let p=0;p<a.length;p++){const m=a[p];l.append(m),g=m}else if(i!==null)d.insertBefore(i);else for(let p=0;p<a.length;p++){const m=a[p];d.insertBefore(m),g=m}}else if(i)l.insertAfter(i);else for(let d=a.length-1;d>=0;d--){const p=a[d];l.insertAfter(p),g=p}const h=xr();x(h)&&Pe(h.anchor)&&Pe(h.focus)?Ft(h.clone()):g!==null?g.selectEnd():n.dirty=!0}function Fn(n){const t=Mn(n);return t!==null&&t.writingMode==="vertical-rl"}function Mn(n){const t=n.anchor.getNode();return w(t)?An(t):Pn(t)}function De(n,t){let e=Fn(n)?!t:t;Ln(n)&&(e=!e);const r=pn(n.focus,e?"previous":"next");if(mr(r))return!1;for(const i of _r(r)){if(yr(i))return!i.origin.isInline();if(!w(i.origin)){if(lt(i.origin))return!0;break}}return!1}function wi(n,t,e,r){n.modify(t?"extend":"move",e,r)}function Ln(n){const t=Mn(n);return t!==null&&t.direction==="rtl"}function Fe(n,t,e){const r=Ln(n);let i;i=Fn(n)||r?!e:e,wi(n,t,i,"character")}function Ni(n,...t){const e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of t)r.append("v",i);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Rn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,$i=Rn&&"documentMode"in document?document.documentMode:null;!(!Rn||!("InputEvent"in window)||$i)&&"getTargetRanges"in new window.InputEvent("input");function In(...n){const t=[];for(const e of n)if(e&&typeof e=="string")for(const[r]of e.matchAll(/\S+/g))t.push(r);return t}function ut(...n){return()=>{for(let t=n.length-1;t>=0;t--)n[t]();n.length=0}}function B(n,...t){const e=In(...t);e.length>0&&n.classList.add(...e)}function le(n,...t){const e=In(...t);e.length>0&&n.classList.remove(...e)}function Oi(n){return n?n.getAdjacentCaret():null}function ki(n,t){let e=n;for(;e!=null;){if(e instanceof t)return e;e=e.getParent()}return null}function Ai(n){const t=j(n,(e=>w(e)&&!e.isInline()));return w(t)||Ni(4,n.__key),t}function G(n,t){return n!==null&&Object.getPrototypeOf(n).constructor.name===t.name}const Pi=Symbol.for("preact-signals");function ce(){if(ct>1)return void ct--;let n,t=!1;for(;yt!==void 0;){let e=yt;for(yt=void 0,Yt++;e!==void 0;){const r=e.o;if(e.o=void 0,e.f&=-3,!(8&e.f)&&Un(e))try{e.c()}catch(i){t||(n=i,t=!0)}e=r}}if(Yt=0,ct--,t)throw n}let E,yt;function Me(n){const t=E;E=void 0;try{return n()}finally{E=t}}let ct=0,Yt=0,$t=0;function Le(n){if(E===void 0)return;let t=n.n;return t===void 0||t.t!==E?(t={i:0,S:n,p:E.s,n:void 0,t:E,e:void 0,x:void 0,r:t},E.s!==void 0&&(E.s.n=t),E.s=t,n.n=t,32&E.f&&n.S(t),t):t.i===-1?(t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=E.s,t.n=void 0,E.s.n=t,E.s=t),t):void 0}function F(n,t){this.v=n,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}function Di(n,t){return new F(n,t)}function Un(n){for(let t=n.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function Re(n){for(let t=n.s;t!==void 0;t=t.n){const e=t.S.n;if(e!==void 0&&(t.r=e),t.S.n=t,t.i=-1,t.n===void 0){n.s=t;break}}}function Jn(n){let t,e=n.s;for(;e!==void 0;){const r=e.p;e.i===-1?(e.S.U(e),r!==void 0&&(r.n=e.n),e.n!==void 0&&(e.n.p=r)):t=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=r}n.s=t}function rt(n,t){F.call(this,void 0),this.x=n,this.s=void 0,this.g=$t-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}function Wn(n){const t=n.u;if(n.u=void 0,typeof t=="function"){ct++;const e=E;E=void 0;try{t()}catch(r){throw n.f&=-2,n.f|=8,ue(n),r}finally{E=e,ce()}}}function ue(n){for(let t=n.s;t!==void 0;t=t.n)t.S.U(t);n.x=void 0,n.s=void 0,Wn(n)}function Fi(n){if(E!==this)throw new Error("Out-of-order effect");Jn(this),E=n,this.f&=-2,8&this.f&&ue(this),ce()}function ot(n,t){this.x=n,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}function Xt(n,t){const e=new ot(n,t);try{e.c()}catch(i){throw e.d(),i}const r=e.d.bind(e);return r[Symbol.dispose]=r,r}function co(n,t={}){const e={};for(const r in n){const i=t[r],s=Di(i===void 0?n[r]:i);e[r]=s}return e}F.prototype.brand=Pi,F.prototype.h=function(){return!0},F.prototype.S=function(n){const t=this.t;t!==n&&n.e===void 0&&(n.x=t,this.t=n,t!==void 0?t.e=n:Me((()=>{var e;(e=this.W)==null||e.call(this)})))},F.prototype.U=function(n){if(this.t!==void 0){const t=n.e,e=n.x;t!==void 0&&(t.x=e,n.e=void 0),e!==void 0&&(e.e=t,n.x=void 0),n===this.t&&(this.t=e,e===void 0&&Me((()=>{var r;(r=this.Z)==null||r.call(this)})))}},F.prototype.subscribe=function(n){return Xt((()=>{const t=this.value,e=E;E=void 0;try{n(t)}finally{E=e}}),{name:"sub"})},F.prototype.valueOf=function(){return this.value},F.prototype.toString=function(){return this.value+""},F.prototype.toJSON=function(){return this.value},F.prototype.peek=function(){const n=E;E=void 0;try{return this.value}finally{E=n}},Object.defineProperty(F.prototype,"value",{get(){const n=Le(this);return n!==void 0&&(n.i=this.i),this.v},set(n){if(n!==this.v){if(Yt>100)throw new Error("Cycle detected");this.v=n,this.i++,$t++,ct++;try{for(let t=this.t;t!==void 0;t=t.x)t.t.N()}finally{ce()}}}}),rt.prototype=new F,rt.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===$t))return!0;if(this.g=$t,this.f|=1,this.i>0&&!Un(this))return this.f&=-2,!0;const n=E;try{Re(this),E=this;const t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return E=n,Jn(this),this.f&=-2,!0},rt.prototype.S=function(n){if(this.t===void 0){this.f|=36;for(let t=this.s;t!==void 0;t=t.n)t.S.S(t)}F.prototype.S.call(this,n)},rt.prototype.U=function(n){if(this.t!==void 0&&(F.prototype.U.call(this,n),this.t===void 0)){this.f&=-33;for(let t=this.s;t!==void 0;t=t.n)t.S.U(t)}},rt.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let n=this.t;n!==void 0;n=n.x)n.t.N()}},Object.defineProperty(rt.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const n=Le(this);if(this.h(),n!==void 0&&(n.i=this.i),16&this.f)throw this.v;return this.v}}),ot.prototype.c=function(){const n=this.S();try{if(8&this.f||this.x===void 0)return;const t=this.x();typeof t=="function"&&(this.u=t)}finally{n()}},ot.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Wn(this),Re(this),ct++;const n=E;return E=this,Fi.bind(this,n)},ot.prototype.N=function(){2&this.f||(this.f|=2,this.o=yt,yt=this)},ot.prototype.d=function(){this.f|=8,1&this.f||ue(this)},ot.prototype.dispose=function(){this.d()};function $(n,...t){const e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of t)r.append("v",i);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function zn(n,t){if(n&&t&&!Array.isArray(t)&&typeof n=="object"&&typeof t=="object"){const e=n,r=t;for(const i in r)e[i]=zn(e[i],r[i]);return n}return t}const N={unmarked:0,temporary:1,permanent:2,configured:3,initialized:4,built:5,registered:6,afterRegistration:7};function Ut(n){return n.id===N.unmarked}function Kn(n){return n.id===N.permanent}function Mi(n){return(function(t){return t.id===N.temporary})(n)||$(305,String(n.id),String(N.temporary)),Object.assign(n,{id:N.permanent})}const Li=new Set;let Ri=class{builder;configs;_dependency;_peerNameSet;extension;state;_signal;constructor(t,e){this.builder=t,this.extension=e,this.configs=new Set,this.state={id:N.unmarked}}mergeConfigs(){let t=this.extension.config||{};const e=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):Tr;for(const r of this.configs)t=e(t,r);return t}init(t){const e=this.state;Kn(e)||$(306,String(e.id));const r={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},i={...r,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},s=(function(a,l,c){return Object.assign(a,{config:l,id:N.configured,registerState:c})})(e,this.mergeConfigs(),r);let o;this.state=s,this.extension.init&&(o=this.extension.init(t,s.config,r)),this.state=(function(a,l,c){return Object.assign(a,{id:N.initialized,initResult:l,registerState:c})})(s,o,i)}build(t){const e=this.state;let r;e.id!==N.initialized&&$(307,String(e.id),String(N.built)),this.extension.build&&(r=this.extension.build(t,e.config,e.registerState));const i={...e.registerState,getOutput:()=>r,getSignal:this.getSignal.bind(this)};this.state=(function(s,o,a){return Object.assign(s,{id:N.built,output:o,registerState:a})})(e,r,i)}register(t,e){this._signal=e;const r=this.state;r.id!==N.built&&$(308,String(r.id),String(N.built));const i=this.extension.register&&this.extension.register(t,r.config,r.registerState);return this.state=(function(s){return Object.assign(s,{id:N.registered})})(r),()=>{const s=this.state;s.id!==N.afterRegistration&&$(309,String(r.id),String(N.afterRegistration)),this.state=(function(o){return Object.assign(o,{id:N.built})})(s),i&&i()}}afterRegistration(t){const e=this.state;let r;return e.id!==N.registered&&$(310,String(e.id),String(N.registered)),this.extension.afterRegistration&&(r=this.extension.afterRegistration(t,e.config,e.registerState)),this.state=(function(i){return Object.assign(i,{id:N.afterRegistration})})(e),r}getSignal(){return this._signal===void 0&&$(311),this._signal}getInitResult(){this.extension.init===void 0&&$(312,this.extension.name);const t=this.state;return(function(e){return e.id>=N.initialized})(t)||$(313,String(t.id),String(N.initialized)),t.initResult}getInitPeer(t){const e=this.builder.extensionNameMap.get(t);return e?e.getExtensionInitDependency():void 0}getExtensionInitDependency(){const t=this.state;return(function(e){return e.id>=N.configured})(t)||$(314,String(t.id),String(N.configured)),{config:t.config}}getPeer(t){const e=this.builder.extensionNameMap.get(t);return e?e.getExtensionDependency():void 0}getInitDependency(t){const e=this.builder.getExtensionRep(t);return e===void 0&&$(315,this.extension.name,t.name),e.getExtensionInitDependency()}getDependency(t){const e=this.builder.getExtensionRep(t);return e===void 0&&$(315,this.extension.name,t.name),e.getExtensionDependency()}getState(){const t=this.state;return(function(e){return e.id>=N.afterRegistration})(t)||$(316,String(t.id),String(N.afterRegistration)),t}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||Li}getPeerNameSet(){let t=this._peerNameSet;return t||(t=new Set((this.extension.peerDependencies||[]).map((([e])=>e))),this._peerNameSet=t),t}getExtensionDependency(){if(!this._dependency){const t=this.state;(function(e){return e.id>=N.built})(t)||$(317,this.extension.name),this._dependency={config:t.config,init:t.initResult,output:t.output}}return this._dependency}};const Ie={tag:yn};function Ii(){const n=tt();n.isEmpty()&&n.append(L())}const Ui=Er({config:kr({setOptions:Ie,updateOptions:Ie}),init:({$initialEditorState:n=Ii})=>({$initialEditorState:n,initialized:!1}),afterRegistration(n,{updateOptions:t,setOptions:e},r){const i=r.getInitResult();if(!i.initialized){i.initialized=!0;const{$initialEditorState:s}=i;if(Ar(s))n.setEditorState(s,e);else if(typeof s=="function")n.update((()=>{s(n)}),t);else if(s&&(typeof s=="string"||typeof s=="object")){const o=n.parseEditorState(s);n.setEditorState(o,e)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[wr,oe,Nr,$r,Or]}),Ue=Symbol.for("@lexical/extension/LexicalBuilder");function Je(){}function Ji(n){throw n}function Tt(n){return Array.isArray(n)?n:[n]}const Jt="0.36.1+prod.esm";let fo=class Ot{roots;extensionNameMap;outgoingConfigEdges;incomingEdges;conflicts;_sortedExtensionReps;PACKAGE_VERSION;constructor(t){this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=Jt,this.roots=t;for(const e of t)this.addExtension(e)}static fromExtensions(t){const e=[Tt(Ui)];for(const r of t)e.push(Tt(r));return new Ot(e)}static maybeFromEditor(t){const e=t[Ue];return e&&(e.PACKAGE_VERSION!==Jt&&$(292,e.PACKAGE_VERSION,Jt),e instanceof Ot||$(293)),e}static fromEditor(t){const e=Ot.maybeFromEditor(t);return e===void 0&&$(294),e}constructEditor(){const{$initialEditorState:t,onError:e,...r}=this.buildCreateEditorArgs(),i=Object.assign(br({...r,...e?{onError:s=>{e(s,i)}}:{}}),{[Ue]:this});for(const s of this.sortedExtensionReps())s.build(i);return i}buildEditor(){let t=Je;function e(){try{t()}finally{t=Je}}const r=Object.assign(this.constructEditor(),{dispose:e,[Symbol.dispose]:e});return t=ut(this.registerEditor(r),(()=>r.setRootElement(null))),r}hasExtensionByName(t){return this.extensionNameMap.has(t)}getExtensionRep(t){const e=this.extensionNameMap.get(t.name);if(e)return e.extension!==t&&$(295,t.name),e}addEdge(t,e,r){const i=this.outgoingConfigEdges.get(t);i?i.set(e,r):this.outgoingConfigEdges.set(t,new Map([[e,r]]));const s=this.incomingEdges.get(e);s?s.add(t):this.incomingEdges.set(e,new Set([t]))}addExtension(t){this._sortedExtensionReps!==void 0&&$(296);const e=Tt(t),[r]=e;typeof r.name!="string"&&$(297,typeof r.name);let i=this.extensionNameMap.get(r.name);if(i!==void 0&&i.extension!==r&&$(298,r.name),!i){i=new Ri(this,r),this.extensionNameMap.set(r.name,i);const s=this.conflicts.get(r.name);typeof s=="string"&&$(299,r.name,s);for(const o of r.conflictsWith||[])this.extensionNameMap.has(o)&&$(299,r.name,o),this.conflicts.set(o,r.name);for(const o of r.dependencies||[]){const a=Tt(o);this.addEdge(r.name,a[0].name,a.slice(1)),this.addExtension(a)}for(const[o,a]of r.peerDependencies||[])this.addEdge(r.name,o,a?[a]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;const t=[],e=(r,i)=>{let s=r.state;if(Kn(s))return;const o=r.extension.name;var a;Ut(s)||$(300,o,i||"[unknown]"),Ut(a=s)||$(304,String(a.id),String(N.unmarked)),s=Object.assign(a,{id:N.temporary}),r.state=s;const l=this.outgoingConfigEdges.get(o);if(l)for(const c of l.keys()){const u=this.extensionNameMap.get(c);u&&e(u,o)}s=Mi(s),r.state=s,t.push(r)};for(const r of this.extensionNameMap.values())Ut(r.state)&&e(r);for(const r of t)for(const[i,s]of this.outgoingConfigEdges.get(r.extension.name)||[])if(s.length>0){const o=this.extensionNameMap.get(i);if(o)for(const a of s)o.configs.add(a)}for(const[r,...i]of this.roots)if(i.length>0){const s=this.extensionNameMap.get(r.name);s===void 0&&$(301,r.name);for(const o of i)s.configs.add(o)}return this._sortedExtensionReps=t,this._sortedExtensionReps}registerEditor(t){const e=this.sortedExtensionReps(),r=new AbortController,i=[()=>r.abort()],s=r.signal;for(const o of e){const a=o.register(t,s);a&&i.push(a)}for(const o of e){const a=o.afterRegistration(t);a&&i.push(a)}return ut(...i)}buildCreateEditorArgs(){const t={},e=new Set,r=new Map,i=new Map,s={},o={},a=this.sortedExtensionReps();for(const u of a){const{extension:f}=u;if(f.onError!==void 0&&(t.onError=f.onError),f.disableEvents!==void 0&&(t.disableEvents=f.disableEvents),f.parentEditor!==void 0&&(t.parentEditor=f.parentEditor),f.editable!==void 0&&(t.editable=f.editable),f.namespace!==void 0&&(t.namespace=f.namespace),f.$initialEditorState!==void 0&&(t.$initialEditorState=f.$initialEditorState),f.nodes)for(const g of f.nodes){if(typeof g!="function"){const h=r.get(g.replace);h&&$(302,f.name,g.replace.name,h.extension.name),r.set(g.replace,u)}e.add(g)}if(f.html){if(f.html.export)for(const[g,h]of f.html.export.entries())i.set(g,h);f.html.import&&Object.assign(s,f.html.import)}f.theme&&zn(o,f.theme)}Object.keys(o).length>0&&(t.theme=o),e.size&&(t.nodes=[...e]);const l=Object.keys(s).length>0,c=i.size>0;(l||c)&&(t.html={},l&&(t.html.import=s),c&&(t.html.export=i));for(const u of a)u.init(t);return t.onError||(t.onError=Ji),t}},Bn=class jn extends Cr{static getType(){return"horizontalrule"}static clone(t){return new jn(t.__key)}static importJSON(t){return Hn().updateFromJSON(t)}static importDOM(){return{hr:()=>({conversion:Wi,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(t){const e=document.createElement("hr");return B(e,t.theme.hr),e}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}};function Wi(){return{node:Hn()}}function Hn(){return _n(Bn)}function go(n){return n instanceof Bn}function zi(){return tt().getTextContent()}function Ki(n,t=!0){if(n)return!1;let e=zi();return t&&(e=e.trim()),e===""}function Bi(n){if(!Ki(n,!1))return!1;const t=tt().getChildren(),e=t.length;if(e>1)return!1;for(let r=0;r<e;r++){const i=t[r];if(lt(i))return!1;if(w(i)){if(!xn(i)||i.__indent!==0)return!1;const s=i.getChildren(),o=s.length;for(let a=0;a<o;a++){const l=s[r];if(!k(l))return!1}}}return!0}function ho(n){return()=>Bi(n)}function po(n){const t=window.location.origin,e=r=>{if(r.origin!==t)return;const i=n.getRootElement();if(document.activeElement!==i)return;const s=r.data;if(typeof s=="string"){let o;try{o=JSON.parse(s)}catch{return}if(o&&o.protocol==="nuanria_messaging"&&o.type==="request"){const a=o.payload;if(a&&a.functionId==="makeChanges"){const l=a.args;if(l){const[c,u,f,g,h]=l;n.update((()=>{const d=v();if(x(d)){const p=d.anchor;let m=p.getNode(),y=0,_=0;if(k(m)&&c>=0&&u>=0&&(y=c,_=c+u,d.setTextNodeRange(m,y,m,_)),y===_&&f===""||(d.insertRawText(f),m=p.getNode()),k(m)){y=g,_=g+h;const T=m.getTextContentSize();y=y>T?T:y,_=_>T?T:_,d.setTextNodeRange(m,y,m,_)}r.stopImmediatePropagation()}}))}}}}};return window.addEventListener("message",e,!0),()=>{window.removeEventListener("message",e,!0)}}function ji(n,t){const e=t.body?t.body.childNodes:[];let r=[];const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(!qn.has(o.nodeName)){const a=Gn(o,n,i,!1);a!==null&&(r=r.concat(a))}}return(function(s){for(const o of s)o.getNextSibling()instanceof vn&&o.insertAfter(xt());for(const o of s){const a=o.getChildren();for(const l of a)o.insertBefore(l);o.remove()}})(i),r}function Hi(n,t){if(typeof document>"u"||typeof window>"u"&&globalThis.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const e=document.createElement("div"),r=tt().getChildren();for(let i=0;i<r.length;i++)Vn(n,r[i],e,t);return e.innerHTML}function Vn(n,t,e,r=null){let i=r===null||t.isSelected(r);const s=w(t)&&t.excludeFromCopy("html");let o=t;if(r!==null){let h=Sn(t);h=k(h)&&r!==null?Dn(r,h):h,o=h}const a=w(o)?o.getChildren():[],l=Pr(n,o.getType());let c;c=l&&l.exportDOM!==void 0?l.exportDOM(n,o):o.exportDOM(n);const{element:u,after:f}=c;if(!u)return!1;const g=document.createDocumentFragment();for(let h=0;h<a.length;h++){const d=a[h],p=Vn(n,d,g,r);!i&&w(t)&&p&&t.extractWithChild(d,r,"html")&&(i=!0)}if(i&&!s){if((dt(u)||Te(u))&&u.append(g),e.append(u),f){const h=f.call(o,u);h&&(Te(u)?u.replaceChildren(h):u.replaceWith(h))}}else e.append(g);return i}const qn=new Set(["STYLE","SCRIPT"]);function Gn(n,t,e,r,i=new Map,s){let o=[];if(qn.has(n.nodeName))return o;let a=null;const l=(function(d,p){const{nodeName:m}=d,y=p._htmlConversions.get(m.toLowerCase());let _=null;if(y!==void 0)for(const T of y){const O=T(d);O!==null&&(_===null||(_.priority||0)<=(O.priority||0))&&(_=O)}return _!==null?_.conversion:null})(n,t),c=l?l(n):null;let u=null;if(c!==null){u=c.after;const d=c.node;if(a=Array.isArray(d)?d[d.length-1]:d,a!==null){for(const[,p]of i)if(a=p(a,s),!a)break;a&&o.push(...Array.isArray(d)?d:[a])}c.forChild!=null&&i.set(n.nodeName,c.forChild)}const f=n.childNodes;let g=[];const h=(a==null||!z(a))&&(a!=null&&jt(a)||r);for(let d=0;d<f.length;d++)g.push(...Gn(f[d],t,e,h,new Map(i),a));return u!=null&&(g=u(g)),be(n)&&(g=Vi(n,g,h?()=>{const d=new vn;return e.push(d),d}:L)),a==null?g.length>0?o=o.concat(g):be(n)&&(function(d){return d.nextSibling==null||d.previousSibling==null?!1:Ce(d.nextSibling)&&Ce(d.previousSibling)})(n)&&(o=o.concat(xt())):w(a)&&a.append(...g),o}function Vi(n,t,e){const r=n.style.textAlign,i=[];let s=[];for(let o=0;o<t.length;o++){const a=t[o];if(jt(a))r&&!a.getFormat()&&a.setFormat(r),i.push(a);else if(s.push(a),o===t.length-1||o<t.length-1&&jt(t[o+1])){const l=e();l.setFormat(r),l.append(...s),i.push(l),s=[]}}return i}function Pt(n,...t){const e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of t)r.append("v",i);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function qi(n,t=v()){return t==null&&Pt(166),x(t)&&t.isCollapsed()||t.getNodes().length===0?"":Hi(n,t)}function Gi(n,t=v()){return t==null&&Pt(166),x(t)&&t.isCollapsed()||t.getNodes().length===0?null:JSON.stringify(Zi(n,t))}function We(n,t,e){const r=n.getData("application/x-lexical-editor");if(r)try{const a=JSON.parse(r);if(a.namespace===e._config.namespace&&Array.isArray(a.nodes))return ze(e,Yi(a.nodes),t)}catch{}const i=n.getData("text/html"),s=n.getData("text/plain");if(i&&s!==i)try{const a=new DOMParser().parseFromString((function(l){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:c=>c}).createHTML(l):l})(i),"text/html");return ze(e,ji(e,a),t)}catch{}const o=s||n.getData("text/uri-list");if(o!=null)if(x(t)){const a=o.split(/(\r?\n|\t)/);a[a.length-1]===""&&a.pop();for(let l=0;l<a.length;l++){const c=v();if(x(c)){const u=a[l];u===`
`||u===`\r
`?c.insertParagraph():u==="	"?c.insertNodes([ae()]):c.insertText(u)}}}else t.insertRawText(o)}function ze(n,t,e){n.dispatchCommand(Fr,{nodes:t,selection:e})||(e.insertNodes(t),(function(r){if(x(r)&&r.isCollapsed()){const i=r.anchor;let s=null;const o=pn(i,"previous");if(o)if(Mr(o))s=o.origin;else{const a=Lr(o,Ht(tt(),"next").getFlipped());for(const l of a){if(k(l.origin)){s=l.origin;break}if(w(l.origin)&&!l.origin.isInline())break}}if(s&&k(s)){const a=s.getFormat(),l=s.getStyle();r.format===a&&r.style===l||(r.format=a,r.style=l,r.dirty=!0)}}})(e))}function Zn(n,t,e,r=[]){let i=t===null||e.isSelected(t);const s=w(e)&&e.excludeFromCopy("html");let o=e;if(t!==null){let c=Sn(e);c=k(c)&&t!==null?Dn(t,c):c,o=c}const a=w(o)?o.getChildren():[],l=(function(c){const u=c.exportJSON(),f=c.constructor;if(u.type!==f.getType()&&Pt(58,f.name),w(c)){const g=u.children;Array.isArray(g)||Pt(59,f.name)}return u})(o);if(k(o)){const c=o.__text;c.length>0?l.text=c:i=!1}for(let c=0;c<a.length;c++){const u=a[c],f=Zn(n,t,u,l.children);!i&&w(e)&&f&&e.extractWithChild(u,t,"clone")&&(i=!0)}if(i&&!s)r.push(l);else if(Array.isArray(l.children))for(let c=0;c<l.children.length;c++){const u=l.children[c];r.push(u)}return i}function Zi(n,t){const e=[],r=tt().getChildren();for(let i=0;i<r.length;i++)Zn(n,t,r[i],e);return{namespace:n._config.namespace,nodes:e}}function Yi(n){const t=[];for(let e=0;e<n.length;e++){const r=n[e],i=Rr(r);k(i)&&Ti(i),t.push(i)}return t}let it=null;async function Ke(n,t,e){if(it!==null)return!1;if(t!==null)return new Promise(((c,u)=>{n.update((()=>{c(Be(n,t,e))}))}));const r=n.getRootElement(),i=n._window||window,s=i.document,o=bn(i);if(r===null||o===null)return!1;const a=s.createElement("span");a.style.cssText="position: fixed; top: -1000px;",a.append(s.createTextNode("#")),r.append(a);const l=new Range;return l.setStart(a,0),l.setEnd(a,1),o.removeAllRanges(),o.addRange(l),new Promise(((c,u)=>{const f=n.registerCommand(Cn,(g=>(G(g,ClipboardEvent)&&(f(),it!==null&&(i.clearTimeout(it),it=null),c(Be(n,g,e))),!0)),Dr);it=i.setTimeout((()=>{f(),it=null,c(!1)}),50),s.execCommand("copy"),a.remove()}))}function Be(n,t,e){if(e===void 0){const i=bn(n._window);if(!i)return!1;const s=i.anchorNode,o=i.focusNode;if(s!==null&&o!==null&&!Ir(n,s,o))return!1;const a=v();if(a===null)return!1;e=Xi(a)}t.preventDefault();const r=t.clipboardData;return r!==null&&(Qi(r,e),!0)}const Yn=[["text/html",qi],["application/x-lexical-editor",Gi]];function Xi(n=v()){const t={"text/plain":n?n.getTextContent():""};if(n){const e=mn();for(const[r,i]of Yn){const s=i(e,n);s!==null&&(t[r]=s)}}return t}function Qi(n,t){for(const[e]of Yn)t[e]===void 0&&n.setData(e,"");for(const e in t){const r=t[e];r!==void 0&&n.setData(e,r)}}function je(n,t){if(document.caretRangeFromPoint!==void 0){const e=document.caretRangeFromPoint(n,t);return e===null?null:{node:e.startContainer,offset:e.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const e=document.caretPositionFromPoint(n,t);return e===null?null:{node:e.offsetNode,offset:e.offset}}return null}const nt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,ts=nt&&"documentMode"in document?document.documentMode:null,es=nt&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),ns=!(!nt||!("InputEvent"in window)||ts)&&"getTargetRanges"in new window.InputEvent("input"),rs=nt&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),He=nt&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,is=nt&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ss=nt&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&es&&!is,Ve=gt("DRAG_DROP_PASTE_FILE");let fe=class Xn extends Y{static getType(){return"quote"}static clone(t){return new Xn(t.__key)}createDOM(t){const e=document.createElement("blockquote");return B(e,t.theme.quote),e}updateDOM(t,e){return!1}static importDOM(){return{blockquote:t=>({conversion:os,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(dt(e)){this.isEmpty()&&e.append(document.createElement("br"));const r=this.getFormatType();r&&(e.style.textAlign=r);const i=this.getDirection();i&&(e.dir=i)}return{element:e}}static importJSON(t){return de().updateFromJSON(t)}insertNewAfter(t,e){const r=L(),i=this.getDirection();return r.setDirection(i),this.insertAfter(r,e),r}collapseAtStart(){const t=L();return this.getChildren().forEach((e=>t.append(e))),this.replace(t),!0}canMergeWhenEmpty(){return!0}};function de(){return et(new fe)}function qe(n){return n instanceof fe}let ge=class Qn extends Y{__tag;static getType(){return"heading"}static clone(t){return new Qn(t.__tag,t.__key)}constructor(t,e){super(e),this.__tag=t}getTag(){return this.__tag}setTag(t){const e=this.getWritable();return this.__tag=t,e}createDOM(t){const e=this.__tag,r=document.createElement(e),i=t.theme.heading;if(i!==void 0){const s=i[e];B(r,s)}return r}updateDOM(t,e,r){return t.__tag!==this.__tag}static importDOM(){return{h1:t=>({conversion:st,priority:0}),h2:t=>({conversion:st,priority:0}),h3:t=>({conversion:st,priority:0}),h4:t=>({conversion:st,priority:0}),h5:t=>({conversion:st,priority:0}),h6:t=>({conversion:st,priority:0}),p:t=>{const e=t.firstChild;return e!==null&&Ge(e)?{conversion:()=>({node:null}),priority:3}:null},span:t=>Ge(t)?{conversion:e=>({node:at("h1")}),priority:3}:null}}exportDOM(t){const{element:e}=super.exportDOM(t);if(dt(e)){this.isEmpty()&&e.append(document.createElement("br"));const r=this.getFormatType();r&&(e.style.textAlign=r);const i=this.getDirection();i&&(e.dir=i)}return{element:e}}static importJSON(t){return at(t.tag).updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTag(t.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(t,e=!0){const r=t?t.anchor.offset:0,i=this.getLastDescendant(),s=!i||t&&t.anchor.key===i.getKey()&&r===i.getTextContentSize()||!t?L():at(this.getTag()),o=this.getDirection();if(s.setDirection(o),this.insertAfter(s,e),r===0&&!this.isEmpty()&&t){const a=L();a.select(),this.replace(a,!0)}return s}collapseAtStart(){const t=this.isEmpty()?L():at(this.getTag());return this.getChildren().forEach((e=>t.append(e))),this.replace(t),!0}extractWithChild(){return!0}};function Ge(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function st(n){const t=n.nodeName.toLowerCase();let e=null;return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6"||(e=at(t),n.style!==null&&(Tn(n,e),e.setFormat(n.style.textAlign))),{node:e}}function os(n){const t=de();return n.style!==null&&(t.setFormat(n.style.textAlign),Tn(n,t)),{node:t}}function at(n="h1"){return et(new ge(n))}function as(n){return n instanceof ge}function Et(n){let t=null;if(G(n,DragEvent)?t=n.dataTransfer:G(n,ClipboardEvent)&&(t=n.clipboardData),t===null)return[!1,[],!1];const e=t.types,r=e.includes("Files"),i=e.includes("text/html")||e.includes("text/plain");return[r,Array.from(t.files),i]}function Ze(n){const t=v();if(!x(t))return!1;const e=new Set,r=t.getNodes();for(let i=0;i<r.length;i++){const s=r[i],o=s.getKey();if(e.has(o))continue;const a=j(s,(c=>w(c)&&!c.isInline()));if(a===null)continue;const l=a.getKey();a.canIndent()&&!e.has(l)&&(e.add(l),n(a))}return e.size>0}function Ye(n){const t=Vt(n);return lt(t)}function Wt(n){for(const t of["lowercase","uppercase","capitalize"])n.hasFormat(t)&&n.toggleFormat(t)}function mo(n){return ut(n.registerCommand(gi,(t=>{const e=v();return!!U(e)&&(e.clear(),!0)}),b),n.registerCommand(Rt,(t=>{const e=v();return x(e)?(e.deleteCharacter(t),!0):!!U(e)&&(e.deleteNodes(),!0)}),b),n.registerCommand(di,(t=>{const e=v();return!!x(e)&&(e.deleteWord(t),!0)}),b),n.registerCommand(fi,(t=>{const e=v();return!!x(e)&&(e.deleteLine(t),!0)}),b),n.registerCommand(ui,(t=>{const e=v();if(typeof t=="string")e!==null&&e.insertText(t);else{if(e===null)return!1;const r=t.dataTransfer;if(r!=null)We(r,e,n);else if(x(e)){const i=t.data;return i&&e.insertText(i),!0}}return!0}),b),n.registerCommand(ci,(()=>{const t=v();return!!x(t)&&(t.removeText(),!0)}),b),n.registerCommand(li,(t=>{const e=v();return!!x(e)&&(e.formatText(t),!0)}),b),n.registerCommand(ai,(t=>{const e=v();if(!x(e)&&!U(e))return!1;const r=e.getNodes();for(const i of r){const s=j(i,(o=>w(o)&&!o.isInline()));s!==null&&s.setFormat(t)}return!0}),b),n.registerCommand(Ee,(t=>{const e=v();return!!x(e)&&(e.insertLineBreak(t),!0)}),b),n.registerCommand(Gt,(()=>{const t=v();return!!x(t)&&(t.insertParagraph(),!0)}),b),n.registerCommand(si,(()=>(oi([ae()]),!0)),b),n.registerCommand(ii,(()=>Ze((t=>{const e=t.getIndent();t.setIndent(e+1)}))),b),n.registerCommand(we,(()=>Ze((t=>{const e=t.getIndent();e>0&&t.setIndent(Math.max(0,e-1))}))),b),n.registerCommand(ri,(t=>{const e=v();if(U(e)){const r=e.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(x(e)){const r=Ne(e.focus,!0);if(!t.shiftKey&&lt(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),t.preventDefault(),!0}return!1}),b),n.registerCommand(ni,(t=>{const e=v();if(U(e)){const r=e.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(x(e)){if((function(i){const s=i.focus;return s.key==="root"&&s.offset===tt().getChildrenSize()})(e))return t.preventDefault(),!0;const r=Ne(e.focus,!1);if(!t.shiftKey&&lt(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),t.preventDefault(),!0}return!1}),b),n.registerCommand(ei,(t=>{const e=v();if(U(e)){const r=e.getNodes();if(r.length>0)return t.preventDefault(),Ae(r[0])?r[0].selectNext(0,0):r[0].selectPrevious(),!0}if(!x(e))return!1;if(De(e,!0)){const r=t.shiftKey;return t.preventDefault(),Fe(e,r,!0),!0}return!1}),b),n.registerCommand(ti,(t=>{const e=v();if(U(e)){const i=e.getNodes();if(i.length>0)return t.preventDefault(),Ae(i[0])?i[0].selectPrevious():i[0].selectNext(0,0),!0}if(!x(e))return!1;const r=t.shiftKey;return!!De(e,!1)&&(t.preventDefault(),Fe(e,r,!1),!0)}),b),n.registerCommand(Qr,(t=>{if(Ye(t.target))return!1;const e=v();if(x(e)){if((function(r){if(!r.isCollapsed())return!1;const{anchor:i}=r;if(i.offset!==0)return!1;const s=i.getNode();if(se(s))return!1;const o=Ai(s);return o.getIndent()>0&&(o.is(s)||s.is(o.getFirstDescendant()))})(e))return t.preventDefault(),n.dispatchCommand(we,void 0);if(He&&navigator.language==="ko-KR")return!1}else if(!U(e))return!1;return t.preventDefault(),n.dispatchCommand(Rt,!0)}),b),n.registerCommand(Xr,(t=>{if(Ye(t.target))return!1;const e=v();return!(!x(e)&&!U(e))&&(t.preventDefault(),n.dispatchCommand(Rt,!1))}),b),n.registerCommand(Yr,(t=>{const e=v();if(!x(e))return!1;if(Wt(e),t!==null){if((He||rs||ss)&&ns)return!1;if(t.preventDefault(),t.shiftKey)return n.dispatchCommand(Ee,!1)}return n.dispatchCommand(Gt,void 0)}),b),n.registerCommand(Zr,(()=>{const t=v();return!!x(t)&&(n.blur(),!0)}),b),n.registerCommand(Gr,(t=>{const[,e]=Et(t);if(e.length>0){const i=je(t.clientX,t.clientY);if(i!==null){const{offset:s,node:o}=i,a=Vt(o);if(a!==null){const l=wn();if(k(a))l.anchor.set(a.getKey(),s,"text"),l.focus.set(a.getKey(),s,"text");else{const u=a.getParentOrThrow().getKey(),f=a.getIndexWithinParent()+1;l.anchor.set(u,f,"element"),l.focus.set(u,f,"element")}const c=qt(l);Ft(c)}n.dispatchCommand(Ve,e)}return t.preventDefault(),!0}const r=v();return!!x(r)}),b),n.registerCommand(qr,(t=>{const[e]=Et(t),r=v();return!(e&&!x(r))}),b),n.registerCommand(Vr,(t=>{const[e]=Et(t),r=v();if(e&&!x(r))return!1;const i=je(t.clientX,t.clientY);if(i!==null){const s=Vt(i.node);lt(s)&&t.preventDefault()}return!0}),b),n.registerCommand(jr,(()=>(Hr(),!0)),b),n.registerCommand(Cn,(t=>(Ke(n,G(t,ClipboardEvent)?t:null),!0)),b),n.registerCommand(Br,(t=>((async function(e,r){await Ke(r,G(e,ClipboardEvent)?e:null),r.update((()=>{const i=v();x(i)?i.removeText():U(i)&&i.getNodes().forEach((s=>s.remove()))}))})(t,n),!0)),b),n.registerCommand(En,(t=>{const[,e,r]=Et(t);return e.length>0&&!r?(n.dispatchCommand(Ve,e),!0):Wr(t.target)&&zr(t.target)?!1:v()!==null&&((function(i,s){i.preventDefault(),s.update((()=>{const o=v(),a=G(i,InputEvent)||G(i,KeyboardEvent)?null:i.clipboardData;a!=null&&o!==null&&We(a,o,s)}),{tag:Kr})})(t,n),!0)}),b),n.registerCommand(Jr,(t=>{const e=v();return x(e)&&Wt(e),!1}),b),n.registerCommand(Ur,(t=>{const e=v();return x(e)&&Wt(e),!1}),b))}const wt=0,Qt=1,te=2,W=0,ls=1,Xe=2,cs=3,us=4;function fs(n,t,e,r,i){if(n===null||e.size===0&&r.size===0&&!i)return W;const s=t._selection,o=n._selection;if(i)return ls;if(!(x(s)&&x(o)&&o.isCollapsed()&&s.isCollapsed()))return W;const a=(function(y,_,T){const O=y._nodeMap,P=[];for(const D of _){const A=O.get(D);A!==void 0&&P.push(A)}for(const[D,A]of T){if(!A)continue;const J=O.get(D);J===void 0||se(J)||P.push(J)}return P})(t,e,r);if(a.length===0)return W;if(a.length>1){const y=t._nodeMap,_=y.get(s.anchor.key),T=y.get(o.anchor.key);return _&&T&&!n._nodeMap.has(_.__key)&&k(_)&&_.__text.length===1&&s.anchor.offset===1?Xe:W}const l=a[0],c=n._nodeMap.get(l.__key);if(!k(c)||!k(l)||c.__mode!==l.__mode)return W;const u=c.__text,f=l.__text;if(u===f)return W;const g=s.anchor,h=o.anchor;if(g.key!==h.key||g.type!=="text")return W;const d=g.offset,p=h.offset,m=f.length-u.length;return m===1&&p===d-1?Xe:m===-1&&p===d+1?cs:m===-1&&p===d?us:W}function ds(n,t){let e=Date.now(),r=W;return(i,s,o,a,l,c)=>{const u=Date.now();if(c.has(kt))return r=W,e=u,te;const f=fs(i,s,a,l,n.isComposing()),g=(()=>{const h=o===null||o.editor===n,d=c.has(yi);if(!d&&h&&c.has(yn))return wt;if(i===null)return Qt;const p=s._selection;if(!(a.size>0||l.size>0))return p!==null?wt:te;const m=typeof t=="number"?t:t.peek();return d===!1&&f!==W&&f===r&&u<e+m&&h||a.size===1&&(function(y,_,T){const O=_._nodeMap.get(y),P=T._nodeMap.get(y),D=_._selection,A=T._selection;return!(x(D)&&x(A)&&D.anchor.type==="element"&&D.focus.type==="element"&&A.anchor.type==="text"&&A.focus.type==="text"||!k(O)||!k(P)||O.__parent!==P.__parent)&&JSON.stringify(_.read((()=>O.exportJSON())))===JSON.stringify(T.read((()=>P.exportJSON())))})(Array.from(a)[0],i,s)?wt:Qt})();return e=u,r=f,g}}function Qe(n){n.undoStack=[],n.redoStack=[],n.current=null}function _o(n,t,e){const r=ds(n,e);return ut(n.registerCommand(_i,(()=>((function(s,o){const a=o.redoStack,l=o.undoStack;if(l.length!==0){const c=o.current,u=l.pop();c!==null&&(a.push(c),s.dispatchCommand(bt,!0)),l.length===0&&s.dispatchCommand(Ct,!1),o.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:kt})}})(n,t),!0)),b),n.registerCommand(mi,(()=>((function(s,o){const a=o.redoStack,l=o.undoStack;if(a.length!==0){const c=o.current;c!==null&&(l.push(c),s.dispatchCommand(Ct,!0));const u=a.pop();a.length===0&&s.dispatchCommand(bt,!1),o.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:kt})}})(n,t),!0)),b),n.registerCommand(pi,(()=>(Qe(t),!1)),b),n.registerCommand(hi,(()=>(Qe(t),n.dispatchCommand(bt,!1),n.dispatchCommand(Ct,!1),!0)),b),n.registerUpdateListener((({editorState:s,prevEditorState:o,dirtyLeaves:a,dirtyElements:l,tags:c})=>{const u=t.current,f=t.redoStack,g=t.undoStack,h=u===null?null:u.editorState;if(u!==null&&s===h)return;const d=r(o,s,u,a,l,c);if(d===Qt)f.length!==0&&(t.redoStack=[],n.dispatchCommand(bt,!1)),u!==null&&(g.push({...u}),n.dispatchCommand(Ct,!0));else if(d===te)return;t.current={editor:n,editorState:s}})))}function yo(){return{current:null,redoStack:[],undoStack:[]}}const gs=new Set(["http:","https:","mailto:","sms:","tel:"]);let Mt=class tr extends Y{__url;__target;__rel;__title;static getType(){return"link"}static clone(t){return new tr(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(t="",e={},r){super(r);const{target:i=null,rel:s=null,title:o=null}=e;this.__url=t,this.__target=i,this.__rel=s,this.__title=o}createDOM(t){const e=document.createElement("a");return this.updateLinkDOM(null,e,t),B(e,t.theme.link),e}updateLinkDOM(t,e,r){if(Nn(e)){t&&t.__url===this.__url||(e.href=this.sanitizeUrl(this.__url));for(const i of["target","rel","title"]){const s=`__${i}`,o=this[s];t&&t[s]===o||(o?e[i]=o:e.removeAttribute(i))}}}updateDOM(t,e,r){return this.updateLinkDOM(t,e,r),!1}static importDOM(){return{a:t=>({conversion:hs,priority:1})}}static importJSON(t){return ft().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setURL(t.url).setRel(t.rel||null).setTarget(t.target||null).setTitle(t.title||null)}sanitizeUrl(t){t=rn(t);try{const e=new URL(rn(t));if(!gs.has(e.protocol))return"about:blank"}catch{return t}return t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(t){const e=this.getWritable();return e.__url=t,e}getTarget(){return this.getLatest().__target}setTarget(t){const e=this.getWritable();return e.__target=t,e}getRel(){return this.getLatest().__rel}setRel(t){const e=this.getWritable();return e.__rel=t,e}getTitle(){return this.getLatest().__title}setTitle(t){const e=this.getWritable();return e.__title=t,e}insertNewAfter(t,e=!0){const r=ft(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(r,e),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,e,r){if(!x(e))return!1;const i=e.anchor.getNode(),s=e.focus.getNode();return this.isParentOf(i)&&this.isParentOf(s)&&e.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function hs(n){let t=null;if(Nn(n)){const e=n.textContent;(e!==null&&e!==""||n.children.length>0)&&(t=ft(n.getAttribute("href")||"",{rel:n.getAttribute("rel"),target:n.getAttribute("target"),title:n.getAttribute("title")}))}return{node:t}}function ft(n="",t){return et(new Mt(n,t))}function q(n){return n instanceof Mt}let er=class nr extends Mt{__isUnlinked;constructor(t="",e={},r){super(t,e,r),this.__isUnlinked=e.isUnlinked!==void 0&&e.isUnlinked!==null&&e.isUnlinked}static getType(){return"autolink"}static clone(t){return new nr(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(t){const e=this.getWritable();return e.__isUnlinked=t,e}createDOM(t){return this.__isUnlinked?document.createElement("span"):super.createDOM(t)}updateDOM(t,e,r){return super.updateDOM(t,e,r)||t.__isUnlinked!==this.__isUnlinked}static importJSON(t){return tn().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setIsUnlinked(t.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(t,e=!0){const r=this.getParentOrThrow().insertNewAfter(t,e);if(w(r)){const i=tn(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return r.append(i),i}return null}};function tn(n="",t){return et(new er(n,t))}function mt(n){return n instanceof er}const en=gt("TOGGLE_LINK_COMMAND");function nn(n,t){if(n.type==="element"){const e=n.getNode();return w(e)||(function(r,...i){const s=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams;o.append("code",r);for(const a of i)o.append("v",a);throw s.search=o.toString(),Error(`Minified Lexical error #${r}; visit ${s.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(252),e.getChildren()[n.offset+t]||null}return null}function zt(n,t={}){let e;if(n&&typeof n=="object"){const{url:u,...f}=n;e=u,t={...f,...t}}else e=n;const{target:r,title:i}=t,s=t.rel===void 0?"noreferrer":t.rel,o=v();if(o===null||!x(o)&&!U(o))return;if(U(o)){const u=o.getNodes();return u.length===0?void 0:void u.forEach((f=>{if(e===null){const g=j(f,(h=>!mt(h)&&q(h)));g&&(g.insertBefore(f),g.getChildren().length===0&&g.remove())}else{const g=j(f,(h=>!mt(h)&&q(h)));if(g)g.setURL(e),r!==void 0&&g.setTarget(r),s!==void 0&&g.setRel(s);else{const h=ft(e,{rel:s,target:r});f.insertBefore(h),h.append(f)}}}))}const a=o.extract();if(e===null)return void a.forEach((u=>{const f=j(u,(g=>!mt(g)&&q(g)));if(f){const g=f.getChildren();for(let h=0;h<g.length;h++)f.insertBefore(g[h]);f.remove()}}));const l=new Set,c=u=>{l.has(u.getKey())||(l.add(u.getKey()),u.setURL(e),r!==void 0&&u.setTarget(r),s!==void 0&&u.setRel(s),i!==void 0&&u.setTitle(i))};if(a.length===1){const u=a[0],f=j(u,q);if(f!==null)return c(f)}(function(u){const f=v();if(!x(f))return u();const g=qt(f),h=g.isBackward(),d=nn(g.anchor,h?-1:0),p=nn(g.focus,h?0:-1);if(u(),d||p){const m=v();if(x(m)){const y=m.clone();if(d){const _=d.getParent();_&&y.anchor.set(_.getKey(),d.getIndexWithinParent()+(h?1:0),"element")}if(p){const _=p.getParent();_&&y.focus.set(_.getKey(),p.getIndexWithinParent()+(h?0:1),"element")}Ft(qt(y))}}})((()=>{let u=null;for(const f of a){if(!f.isAttached())continue;const g=j(f,q);if(g){c(g);continue}if(w(f)){if(!f.isInline())continue;if(q(f)){if(!(mt(f)||u!==null&&u.getParentOrThrow().isParentOf(f))){c(f),u=f;continue}for(const d of f.getChildren())f.insertBefore(d);f.remove();continue}}const h=f.getPreviousSibling();q(h)&&h.is(u)?h.append(f):(u=ft(e,{rel:s,target:r,title:i}),f.insertAfter(u),u.append(f))}}))}const ps=/^\+?[0-9\s()-]{5,}$/;function rn(n){return n.match(/^[a-z][a-z0-9+.-]*:/i)||n.match(/^[/#.]/)?n:n.includes("@")?`mailto:${n}`:ps.test(n)?`tel:${n}`:`https://${n}`}function xo(n,t){return ut(Xt((()=>n.registerCommand(en,(e=>{const r=t.validateUrl.peek(),i=t.attributes.peek();if(e===null)return zt(null),!0;if(typeof e=="string")return!(r!==void 0&&!r(e))&&(zt(e,i),!0);{const{url:s,target:o,rel:a,title:l}=e;return zt(s,{...i,rel:a,target:o,title:l}),!0}}),X))),Xt((()=>{const e=t.validateUrl.value;if(!e)return;const r=t.attributes.value;return n.registerCommand(En,(i=>{const s=v();if(!x(s)||s.isCollapsed()||!G(i,ClipboardEvent)||i.clipboardData===null)return!1;const o=i.clipboardData.getData("text");return!!e(o)&&!s.getNodes().some((a=>w(a)))&&(n.dispatchCommand(en,{...r,url:o}),i.preventDefault(),!0)}),X)})))}function Z(n,...t){const e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of t)r.append("v",i);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function ee(n){let t=1,e=n.getParent();for(;e!=null;){if(C(e)){const r=e.getParent();if(S(r)){t++,e=r.getParent();continue}Z(40)}return t}return t}function ne(n){let t=n.getParent();S(t)||Z(40);let e=t;for(;e!==null;)e=e.getParent(),S(e)&&(t=e);return t}function rr(n){let t=[];const e=n.getChildren().filter(C);for(let r=0;r<e.length;r++){const i=e[r],s=i.getFirstChild();S(s)?t=t.concat(rr(s)):t.push(i)}return t}function K(n){return C(n)&&S(n.getFirstChild())}function sn(n){return R().append(n)}function ir(n,t){return C(n)&&(t.length===0||t.length===1&&n.is(t[0])&&n.getChildrenSize()===0)}function on(n){const t=v();if(t!==null){let e=t.getNodes();if(x(t)){const i=t.getStartEndPoints();i===null&&Z(143);const[s]=i,o=s.getNode(),a=o.getParent();if(z(o)){const l=o.getFirstChild();if(l)e=l.selectStart().getNodes();else{const c=L();o.append(c),e=c.select().getNodes()}}else if(ir(o,e)){const l=M(n);if(z(a)){o.replace(l);const c=R();w(o)&&(c.setFormat(o.getFormatType()),c.setIndent(o.getIndent())),l.append(c)}else if(C(o)){const c=o.getParentOrThrow();Q(l,c.getChildren()),c.replace(l)}return}}const r=new Set;for(let i=0;i<e.length;i++){const s=e[i];if(w(s)&&s.isEmpty()&&!C(s)&&!r.has(s.getKey())){an(s,n);continue}let o=ie(s)?s.getParent():C(s)&&s.isEmpty()?s:null;for(;o!=null;){const a=o.getKey();if(S(o)){if(!r.has(a)){const l=M(n);Q(l,o.getChildren()),o.replace(l),r.add(a)}break}{const l=o.getParent();if(z(l)&&!r.has(a)){r.add(a),an(o,n);break}o=l}}}}}function Q(n,t){n.splice(n.getChildrenSize(),0,t)}function an(n,t){if(S(n))return n;const e=n.getPreviousSibling(),r=n.getNextSibling(),i=R();let s;if(Q(i,n.getChildren()),S(e)&&t===e.getListType())e.append(i),S(r)&&t===r.getListType()&&(Q(e,r.getChildren()),r.remove()),s=e;else if(S(r)&&t===r.getListType())r.getFirstChildOrThrow().insertBefore(i),s=r;else{const o=M(t);o.append(i),n.replace(o),s=o}return i.setFormat(n.getFormatType()),i.setIndent(n.getIndent()),n.remove(),s}function he(n,t){const e=n.getLastChild(),r=t.getFirstChild();e&&r&&K(e)&&K(r)&&(he(e.getFirstChild(),r.getFirstChild()),r.remove());const i=t.getChildren();i.length>0&&n.append(...i),t.remove()}function ms(){const n=v();if(x(n)){const t=new Set,e=n.getNodes(),r=n.anchor.getNode();if(ir(r,e))t.add(ne(r));else for(let i=0;i<e.length;i++){const s=e[i];if(ie(s)){const o=ki(s,ht);o!=null&&t.add(ne(o))}}for(const i of t){let s=i;const o=rr(i);for(const a of o){const l=L().setTextStyle(n.style).setTextFormat(n.format);Q(l,a.getChildren()),s.insertAfter(l),s=l,a.__key===n.anchor.key&&$e(n.anchor,Oe(Ht(l,"next"))),a.__key===n.focus.key&&$e(n.focus,Oe(Ht(l,"next"))),a.remove()}i.remove()}}}function sr(n){const t=n.getListType()!=="check";let e=n.getStart();for(const r of n.getChildren())C(r)&&(r.getValue()!==e&&r.setValue(e),t&&r.getLatest().__checked!=null&&r.setChecked(void 0),S(r.getFirstChild())||e++)}function _s(n){const t=new Set;if(K(n)||t.has(n.getKey()))return;const e=n.getParent(),r=n.getNextSibling(),i=n.getPreviousSibling();if(K(r)&&K(i)){const s=i.getFirstChild();if(S(s)){s.append(n);const o=r.getFirstChild();S(o)&&(Q(s,o.getChildren()),r.remove(),t.add(r.getKey()))}}else if(K(r)){const s=r.getFirstChild();if(S(s)){const o=s.getFirstChild();o!==null&&o.insertBefore(n)}}else if(K(i)){const s=i.getFirstChild();S(s)&&s.append(n)}else if(S(e)){const s=R().setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle()),o=M(e.getListType()).setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle());s.append(o),o.append(n),i?i.insertAfter(s):r?r.insertBefore(s):e.append(s)}}function ys(n){if(K(n))return;const t=n.getParent(),e=t?t.getParent():void 0;if(S(e?e.getParent():void 0)&&C(e)&&S(t)){const r=t?t.getFirstChild():void 0,i=t?t.getLastChild():void 0;if(n.is(r))e.insertBefore(n),t.isEmpty()&&e.remove();else if(n.is(i))e.insertAfter(n),t.isEmpty()&&e.remove();else{const s=t.getListType(),o=R(),a=M(s);o.append(a),n.getPreviousSiblings().forEach((u=>a.append(u)));const l=R(),c=M(s);l.append(c),Q(c,n.getNextSiblings()),e.insertBefore(o),e.insertAfter(l),e.replace(n)}}}function xs(){const n=v();if(!x(n)||!n.isCollapsed())return!1;const t=n.anchor.getNode();if(!C(t)||t.getChildrenSize()!==0)return!1;const e=ne(t),r=t.getParent();S(r)||Z(40);const i=r.getParent();let s;if(z(i))s=L(),e.insertAfter(s);else{if(!C(i))return!1;s=R(),i.insertAfter(s)}s.setTextStyle(n.style).setTextFormat(n.format).select();const o=t.getNextSiblings();if(o.length>0){const a=M(r.getListType());if(C(s)){const l=R();l.append(a),s.insertAfter(l)}else s.insertAfter(a);a.append(...o)}return(function(a){let l=a;for(;l.getNextSibling()==null&&l.getPreviousSibling()==null;){const c=l.getParent();if(c==null||!C(c)&&!S(c))break;l=c}l.remove()})(t),!0}function Dt(...n){const t=[];for(const e of n)if(e&&typeof e=="string")for(const[r]of e.matchAll(/\S+/g))t.push(r);return t}let ht=class extends Y{__value;__checked;$config(){return this.config("listitem",{$transform:t=>{if(t.__checked==null)return;const e=t.getParent();S(e)&&e.getListType()!=="check"&&t.getChecked()!=null&&t.setChecked(void 0)},extends:Y,importDOM:$n({li:()=>({conversion:vs,priority:0})})})}constructor(t=1,e=void 0,r){super(r),this.__value=t===void 0?1:t,this.__checked=e}afterCloneFrom(t){super.afterCloneFrom(t),this.__value=t.__value,this.__checked=t.__checked}createDOM(t){const e=document.createElement("li");return this.updateListItemDOM(null,e,t),e}updateListItemDOM(t,e,r){(function(o,a,l){const c=a.getParent();!S(c)||c.getListType()!=="check"||S(a.getFirstChild())?(o.removeAttribute("role"),o.removeAttribute("tabIndex"),o.removeAttribute("aria-checked")):(o.setAttribute("role","checkbox"),o.setAttribute("tabIndex","-1"),l&&a.__checked===l.__checked||o.setAttribute("aria-checked",a.getChecked()?"true":"false"))})(e,this,t),e.value=this.__value,(function(o,a,l){const c=[],u=[],f=a.list,g=f?f.listitem:void 0;let h;if(f&&f.nested&&(h=f.nested.listitem),g!==void 0&&c.push(...Dt(g)),f){const d=l.getParent(),p=S(d)&&d.getListType()==="check",m=l.getChecked();p&&!m||u.push(f.listitemUnchecked),p&&m||u.push(f.listitemChecked),p&&c.push(m?f.listitemChecked:f.listitemUnchecked)}if(h!==void 0){const d=Dt(h);l.getChildren().some((p=>S(p)))?c.push(...d):u.push(...d)}u.length>0&&le(o,...u),c.length>0&&B(o,...c)})(e,r.theme,this);const i=t?t.__style:"",s=this.__style;i!==s&&(s===""?e.removeAttribute("style"):e.style.cssText=s),(function(o,a,l){const c=ke(a.__textStyle);for(const u in c)o.style.setProperty(`--listitem-marker-${u}`,c[u]);if(l)for(const u in ke(l.__textStyle))u in c||o.style.removeProperty(`--listitem-marker-${u}`)})(e,this,t)}updateDOM(t,e,r){const i=e;return this.updateListItemDOM(t,i,r),!1}updateFromJSON(t){return super.updateFromJSON(t).setValue(t.value).setChecked(t.checked)}exportDOM(t){const e=this.createDOM(t._config),r=this.getFormatType();r&&(e.style.textAlign=r);const i=this.getDirection();return i&&(e.dir=i),{element:e}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...t){for(let e=0;e<t.length;e++){const r=t[e];if(w(r)&&this.canMergeWith(r)){const i=r.getChildren();this.append(...i),r.remove()}else super.append(r)}return this}replace(t,e){if(C(t))return super.replace(t);this.setIndent(0);const r=this.getParentOrThrow();if(!S(r))return t;if(r.__first===this.getKey())r.insertBefore(t);else if(r.__last===this.getKey())r.insertAfter(t);else{const i=M(r.getListType());let s=this.getNextSibling();for(;s;){const o=s;s=s.getNextSibling(),i.append(o)}r.insertAfter(t),t.insertAfter(i)}return e&&(w(t)||Z(139),this.getChildren().forEach((i=>{t.append(i)}))),this.remove(),r.getChildrenSize()===0&&r.remove(),t}insertAfter(t,e=!0){const r=this.getParentOrThrow();if(S(r)||Z(39),C(t))return super.insertAfter(t,e);const i=this.getNextSiblings();if(r.insertAfter(t,e),i.length!==0){const s=M(r.getListType());i.forEach((o=>s.append(o))),t.insertAfter(s,e)}return t}remove(t){const e=this.getPreviousSibling(),r=this.getNextSibling();super.remove(t),e&&r&&K(e)&&K(r)&&(he(e.getFirstChild(),r.getFirstChild()),r.remove())}insertNewAfter(t,e=!0){const r=R().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(r,e),r}collapseAtStart(t){const e=L();this.getChildren().forEach((o=>e.append(o)));const r=this.getParentOrThrow(),i=r.getParentOrThrow(),s=C(i);if(r.getChildrenSize()===1)if(s)r.remove(),i.select();else{r.insertBefore(e),r.remove();const o=t.anchor,a=t.focus,l=e.getKey();o.type==="element"&&o.getNode().is(this)&&o.set(l,o.offset,"element"),a.type==="element"&&a.getNode().is(this)&&a.set(l,a.offset,"element")}else r.insertBefore(e),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(t){const e=this.getWritable();return e.__value=t,e}getChecked(){const t=this.getLatest();let e;const r=this.getParent();return S(r)&&(e=r.getListType()),e==="check"?!!t.__checked:void 0}setChecked(t){const e=this.getWritable();return e.__checked=t,e}toggleChecked(){const t=this.getWritable();return t.setChecked(!t.__checked)}getIndent(){const t=this.getParent();if(t===null||!this.isAttached())return this.getLatest().__indent;let e=t.getParentOrThrow(),r=0;for(;C(e);)e=e.getParentOrThrow().getParentOrThrow(),r++;return r}setIndent(t){typeof t!="number"&&Z(117),(t=Math.floor(t))>=0||Z(199);let e=this.getIndent();for(;e!==t;)e<t?(_s(this),e++):(ys(this),e--);return this}canInsertAfter(t){return C(t)}canReplaceWith(t){return C(t)}canMergeWith(t){return C(t)||xn(t)}extractWithChild(t,e){if(!x(e))return!1;const r=e.anchor.getNode(),i=e.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&this.getTextContent().length===e.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return M("bullet")}canMergeWhenEmpty(){return!0}};function vs(n){if(n.classList.contains("task-list-item")){for(const e of n.children)if(e.tagName==="INPUT")return Ss(e)}const t=n.getAttribute("aria-checked");return{node:R(t==="true"||t!=="false"&&void 0)}}function Ss(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:R(n.hasAttribute("checked"))}}function R(n){return et(new ht(void 0,n))}function C(n){return n instanceof ht}class vt extends Y{__tag;__start;__listType;$config(){return this.config("list",{$transform:t=>{(function(e){const r=e.getNextSibling();S(r)&&e.getListType()===r.getListType()&&he(e,r)})(t),sr(t)},extends:Y,importDOM:$n({ol:()=>({conversion:cn,priority:0}),ul:()=>({conversion:cn,priority:0})})})}constructor(t="number",e=1,r){super(r);const i=Cs[t]||t;this.__listType=i,this.__tag=i==="number"?"ol":"ul",this.__start=e}afterCloneFrom(t){super.afterCloneFrom(t),this.__listType=t.__listType,this.__tag=t.__tag,this.__start=t.__start}getTag(){return this.getLatest().__tag}setListType(t){const e=this.getWritable();return e.__listType=t,e.__tag=t==="number"?"ol":"ul",e}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(t){const e=this.getWritable();return e.__start=t,e}createDOM(t,e){const r=this.__tag,i=document.createElement(r);return this.__start!==1&&i.setAttribute("start",String(this.__start)),i.__lexicalListType=this.__listType,ln(i,t.theme,this),i}updateDOM(t,e,r){return t.__tag!==this.__tag||t.__listType!==this.__listType||(ln(e,r.theme,this),!1)}updateFromJSON(t){return super.updateFromJSON(t).setListType(t.listType).setStart(t.start)}exportDOM(t){const e=this.createDOM(t._config,t);return dt(e)&&(this.__start!==1&&e.setAttribute("start",String(this.__start)),this.__listType==="check"&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(t,e,r){let i=r;for(let s=0;s<r.length;s++){const o=r[s];C(o)||(i===r&&(i=[...r]),i[s]=R().append(!w(o)||S(o)||o.isInline()?o:At(o.getTextContent())))}return super.splice(t,e,i)}extractWithChild(t){return C(t)}}function ln(n,t,e){const r=[],i=[],s=t.list;if(s!==void 0){const o=s[`${e.__tag}Depth`]||[],a=ee(e)-1,l=a%o.length,c=o[l],u=s[e.__tag];let f;const g=s.nested,h=s.checklist;if(g!==void 0&&g.list&&(f=g.list),u!==void 0&&r.push(u),h!==void 0&&e.__listType==="check"&&r.push(h),c!==void 0){r.push(...Dt(c));for(let d=0;d<o.length;d++)d!==l&&i.push(e.__tag+d)}if(f!==void 0){const d=Dt(f);a>1?r.push(...d):i.push(...d)}}i.length>0&&le(n,...i),r.length>0&&B(n,...r)}function bs(n){const t=[];for(let e=0;e<n.length;e++){const r=n[e];if(C(r)){t.push(r);const i=r.getChildren();i.length>1&&i.forEach((s=>{S(s)&&t.push(sn(s))}))}else t.push(sn(r))}return t}function cn(n){const t=n.nodeName.toLowerCase();let e=null;return t==="ol"?e=M("number",n.start):t==="ul"&&(e=(function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list"))return!0;for(const i of r.childNodes)if(dt(i)&&i.hasAttribute("aria-checked"))return!0;return!1})(n)?M("check"):M("bullet")),{after:bs,node:e}}const Cs={ol:"number",ul:"bullet"};function M(n="number",t=1){return et(new vt(n,t))}function S(n){return n instanceof vt}const Ts=gt("UPDATE_LIST_START_COMMAND"),Es=gt("INSERT_UNORDERED_LIST_COMMAND"),ws=gt("INSERT_ORDERED_LIST_COMMAND"),Ns=gt("REMOVE_LIST_COMMAND");function So(n){return ut(n.registerCommand(ws,(()=>(on("number"),!0)),X),n.registerCommand(Ts,(t=>{const{listNodeKey:e,newStart:r}=t,i=xi(e);return!!S(i)&&(i.getListType()==="number"&&(i.setStart(r),sr(i)),!0)}),X),n.registerCommand(Es,(()=>(on("bullet"),!0)),X),n.registerCommand(Ns,(()=>(ms(),!0)),X),n.registerCommand(Gt,(()=>xs()),X),n.registerNodeTransform(ht,(t=>{const e=t.getFirstChild();if(e){if(k(e)){const r=e.getStyle(),i=e.getFormat();t.getTextStyle()!==r&&t.setTextStyle(r),t.getTextFormat()!==i&&t.setTextFormat(i)}}else{const r=v();x(r)&&(r.style!==t.getTextStyle()||r.format!==t.getTextFormat())&&r.isCollapsed()&&t.is(r.anchor.getNode())&&t.setTextStyle(r.style).setTextFormat(r.format)}})),n.registerNodeTransform(oe,(t=>{const e=t.getParent();if(C(e)&&t.is(e.getFirstChild())){const r=t.getStyle(),i=t.getFormat();r===e.getTextStyle()&&i===e.getTextFormat()||e.setTextStyle(r).setTextFormat(i)}})))}function bo(n){const t=e=>{const r=e.getParent();if(S(e.getFirstChild())||!S(r))return;const i=j(e,(s=>C(s)&&S(s.getParent())&&C(s.getPreviousSibling())));if(i===null&&e.getIndent()>0)e.setIndent(0);else if(C(i)){const s=i.getPreviousSibling();if(C(s)){const o=(function(l){let c=l,u=c.getFirstChild();for(;S(u);){const f=u.getLastChild();if(!C(f))break;c=f,u=c.getFirstChild()}return c})(s),a=o.getParent();if(S(a)){const l=ee(a);l+1<ee(r)&&e.setIndent(l)}}}};return n.registerNodeTransform(vt,(e=>{const r=[e];for(;r.length>0;){const i=r.shift();if(S(i)){for(const s of i.getChildren())if(C(s)){t(s);const o=s.getFirstChild();S(o)&&r.push(o)}}}}))}function or(n,t){for(const e of n.childNodes){if(dt(e)&&e.tagName===t)return!0;or(e,t)}return!1}const _t="data-language",pt="data-highlight-language",Nt="data-theme";class St extends Y{__language;__theme;__isSyntaxHighlightSupported;static getType(){return"code"}static clone(t){return new St(t.__language,t.__key)}constructor(t,e){super(e),this.__language=t||void 0,this.__isSyntaxHighlightSupported=!1,this.__theme=void 0}afterCloneFrom(t){super.afterCloneFrom(t),this.__language=t.__language,this.__theme=t.__theme,this.__isSyntaxHighlightSupported=t.__isSyntaxHighlightSupported}createDOM(t){const e=document.createElement("code");B(e,t.theme.code),e.setAttribute("spellcheck","false");const r=this.getLanguage();r&&(e.setAttribute(_t,r),this.getIsSyntaxHighlightSupported()&&e.setAttribute(pt,r));const i=this.getTheme();i&&e.setAttribute(Nt,i);const s=this.getStyle();return s&&e.setAttribute("style",s),e}updateDOM(t,e,r){const i=this.__language,s=t.__language;i?i!==s&&e.setAttribute(_t,i):s&&e.removeAttribute(_t);const o=this.__isSyntaxHighlightSupported;t.__isSyntaxHighlightSupported&&s?o&&i?i!==s&&e.setAttribute(pt,i):e.removeAttribute(pt):o&&i&&e.setAttribute(pt,i);const a=this.__theme,l=t.__theme;a?a!==l&&e.setAttribute(Nt,a):l&&e.removeAttribute(Nt);const c=this.__style,u=t.__style;return c?c!==u&&e.setAttribute("style",c):u&&e.removeAttribute("style"),!1}exportDOM(t){const e=document.createElement("pre");B(e,t._config.theme.code),e.setAttribute("spellcheck","false");const r=this.getLanguage();r&&(e.setAttribute(_t,r),this.getIsSyntaxHighlightSupported()&&e.setAttribute(pt,r));const i=this.getTheme();i&&e.setAttribute(Nt,i);const s=this.getStyle();return s&&e.setAttribute("style",s),{element:e}}static importDOM(){return{code:t=>t.textContent!=null&&(/\r?\n/.test(t.textContent)||or(t,"BR"))?{conversion:un,priority:1}:null,div:()=>({conversion:$s,priority:1}),pre:()=>({conversion:un,priority:0}),table:t=>Kt(t)?{conversion:Os,priority:3}:null,td:t=>{const e=t,r=e.closest("table");return e.classList.contains("js-file-line")||r&&Kt(r)?{conversion:fn,priority:3}:null},tr:t=>{const e=t.closest("table");return e&&Kt(e)?{conversion:fn,priority:3}:null}}}static importJSON(t){return H().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setLanguage(t.language).setTheme(t.theme)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),theme:this.getTheme()}}insertNewAfter(t,e=!0){const r=this.getChildren(),i=r.length;if(i>=2&&r[i-1].getTextContent()===`
`&&r[i-2].getTextContent()===`
`&&t.isCollapsed()&&t.anchor.key===this.__key&&t.anchor.offset===i){r[i-1].remove(),r[i-2].remove();const l=L();return this.insertAfter(l,e),l}const{anchor:s,focus:o}=t,a=(s.isBefore(o)?s:o).getNode();if(k(a)){let l=As(a);const c=[];for(;;)if(On(l))c.push(ae()),l=l.getNextSibling();else{if(!ur(l))break;{let m=0;const y=l.getTextContent(),_=l.getTextContentSize();for(;m<_&&y[m]===" ";)m++;if(m!==0&&c.push(cr(" ".repeat(m))),m!==_)break;l=l.getNextSibling()}}const u=a.splitText(s.offset)[0],f=s.offset===0?0:1,g=u.getIndexWithinParent()+f,h=a.getParentOrThrow(),d=[xt(),...c];h.splice(g,0,d);const p=c[c.length-1];p?p.select():s.offset===0?u.selectPrevious():u.getNextSibling().selectNext(0,0)}if(pe(a)){const{offset:l}=t.anchor;a.splice(l,0,[xt()]),a.select(l+1,l+1)}return null}canIndent(){return!1}collapseAtStart(){const t=L();return this.getChildren().forEach((e=>t.append(e))),this.replace(t),!0}setLanguage(t){const e=this.getWritable();return e.__language=t||void 0,e}getLanguage(){return this.getLatest().__language}setIsSyntaxHighlightSupported(t){const e=this.getWritable();return e.__isSyntaxHighlightSupported=t,e}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}setTheme(t){const e=this.getWritable();return e.__theme=t||void 0,e}getTheme(){return this.getLatest().__theme}}function H(n,t){return _n(St).setLanguage(n).setTheme(t)}function pe(n){return n instanceof St}function un(n){return{node:H(n.getAttribute(_t))}}function $s(n){const t=n,e=dn(t);return e||(function(r){let i=r.parentElement;for(;i!==null;){if(dn(i))return!0;i=i.parentElement}return!1})(t)?{node:e?H():null}:{node:null}}function Os(){return{node:H()}}function fn(){return{node:null}}function dn(n){return n.style.fontFamily.match("monospace")!==null}function Kt(n){return n.classList.contains("js-file-line-container")}let ar=class lr extends oe{__highlightType;constructor(t="",e,r){super(t,r),this.__highlightType=e}static getType(){return"code-highlight"}static clone(t){return new lr(t.__text,t.__highlightType||void 0,t.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(t){const e=this.getWritable();return e.__highlightType=t||void 0,e}canHaveFormat(){return!1}createDOM(t){const e=super.createDOM(t),r=Bt(t.theme,this.__highlightType);return B(e,r),e}updateDOM(t,e,r){const i=super.updateDOM(t,e,r),s=Bt(r.theme,t.__highlightType),o=Bt(r.theme,this.__highlightType);return s!==o&&(s&&le(e,s),o&&B(e,o)),i}static importJSON(t){return cr().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setHighlightType(t.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(t){return this}isParentRequired(){return!0}createParentElementNode(){return H()}};function Bt(n,t){return t&&n&&n.codeHighlight&&n.codeHighlight[t]}function cr(n="",t){return et(new ar(n,t))}function ur(n){return n instanceof ar}function ks(n,t){let e=n;for(let r=vi(n,t);r&&(ur(r.origin)||On(r.origin));r=Oi(r))e=r.origin;return e}function As(n){return ks(n,"previous")}(function(n){n.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach((function(e){var r=t[e],i=[];/^\w+$/.test(e)||i.push(/\w+/.exec(e)[0]),e==="diff"&&i.push("bold"),n.languages.diff[e]={pattern:RegExp("^(?:["+r+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(e)[0]}}}})),Object.defineProperty(n.languages.diff,"PREFIXES",{value:t})})(Prism);function re(n,t){const e={};for(const r of n){const i=t(r);i&&(e[i]?e[i].push(r):e[i]=[r])}return e}function Ps(n){const t=re(n,(e=>e.type));return{element:t.element||[],multilineElement:t["multiline-element"]||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}const gn=/[!-/:-@[-`{-~\s]/;function Ds(n){return k(n)&&!n.hasFormat("code")}function Fs(n,...t){const e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const i of t)r.append("v",i);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Ms=/^(\s*)(\d{1,})\.\s/,Ls=/^(\s*)[-*+]\s/,Rs=/^(#{1,6})\s/,Is=/^>\s/,Us=/^[ \t]*```([\w-]+)?/,Js=/[ \t]*```$/,fr=n=>(t,e,r,i)=>{const s=n(r);s.append(...e),t.replace(s),i||s.select(0,0)},dr=n=>(t,e,r,i)=>{const s=t.getPreviousSibling(),o=t.getNextSibling(),a=R(n==="check"?r[3]==="x":void 0);if(S(o)&&o.getListType()===n){const c=o.getFirstChild();c!==null?c.insertBefore(a):o.append(a),t.remove()}else if(S(s)&&s.getListType()===n)s.append(a),t.remove();else{const c=M(n,n==="number"?Number(r[2]):void 0);c.append(a),t.replace(c)}a.append(...e),i||a.select(0,0);const l=(function(c){const u=c.match(/\t/g),f=c.match(/ /g);let g=0;return u&&(g+=u.length),f&&(g+=Math.floor(f.length/4)),g})(r[1]);l&&a.setIndent(l)},me=(n,t,e)=>{const r=[],i=n.getChildren();let s=0;for(const o of i)if(C(o)){if(o.getChildrenSize()===1){const u=o.getFirstChild();if(S(u)){r.push(me(u,t,e+1));continue}}const a=" ".repeat(4*e),l=n.getListType(),c=l==="number"?`${n.getStart()+s}. `:l==="check"?`- [${o.getChecked()?"x":" "}] `:"- ";r.push(a+c+t(o)),s++}return r.join(`
`)},Ws={dependencies:[ge],export:(n,t)=>{if(!as(n))return null;const e=Number(n.getTag().slice(1));return"#".repeat(e)+" "+t(n)},regExp:Rs,replace:fr((n=>{const t="h"+n[1].length;return at(t)})),type:"element"},zs={dependencies:[fe],export:(n,t)=>{if(!qe(n))return null;const e=t(n).split(`
`),r=[];for(const i of e)r.push("> "+i);return r.join(`
`)},regExp:Is,replace:(n,t,e,r)=>{if(r){const s=n.getPreviousSibling();if(qe(s))return s.splice(s.getChildrenSize(),0,[xt(),...t]),void n.remove()}const i=de();i.append(...t),n.replace(i),r||i.select(0,0)},type:"element"},Ks={dependencies:[St],export:n=>{if(!pe(n))return null;const t=n.getTextContent();return"```"+(n.getLanguage()||"")+(t?`
`+t:"")+"\n```"},regExpEnd:{optional:!0,regExp:Js},regExpStart:Us,replace:(n,t,e,r,i,s)=>{let o,a;if(!t&&i){if(i.length===1)r?(o=H(),a=e[1]+i[0]):(o=H(e[1]),a=i[0].startsWith(" ")?i[0].slice(1):i[0]);else{if(o=H(e[1]),i[0].trim().length===0)for(;i.length>0&&!i[0].length;)i.shift();else i[0]=i[0].startsWith(" ")?i[0].slice(1):i[0];for(;i.length>0&&!i[i.length-1].length;)i.pop();a=i.join(`
`)}const l=At(a);o.append(l),n.append(o)}else t&&fr((l=>H(l?l[1]:void 0)))(n,t,e,s)},type:"multiline-element"},Bs={dependencies:[vt,ht],export:(n,t)=>S(n)?me(n,t,0):null,regExp:Ls,replace:dr("bullet"),type:"element"},js={dependencies:[vt,ht],export:(n,t)=>S(n)?me(n,t,0):null,regExp:Ms,replace:dr("number"),type:"element"},Hs={format:["code"],tag:"`",type:"text-format"},Vs={format:["highlight"],tag:"==",type:"text-format"},qs={format:["bold","italic"],tag:"***",type:"text-format"},Gs={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},Zs={format:["bold"],tag:"**",type:"text-format"},Ys={format:["bold"],intraword:!1,tag:"__",type:"text-format"},Xs={format:["strikethrough"],tag:"~~",type:"text-format"},Qs={format:["italic"],tag:"*",type:"text-format"},to={format:["italic"],intraword:!1,tag:"_",type:"text-format"},eo={dependencies:[Mt],export:(n,t,e)=>{if(!q(n)||mt(n))return null;const r=n.getTitle(),i=t(n);return r?`[${i}](${n.getURL()} "${r}")`:`[${i}](${n.getURL()})`},importRegExp:/(?:\[(.*?)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[(.*?)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(n,t)=>{const[,e,r,i]=t,s=ft(r,{title:i}),o=e.split("[").length-1,a=e.split("]").length-1;let l=e,c="";if(o<a)return;if(o>a){const f=e.split("[");c="["+f[0],l=f.slice(1).join("[")}const u=At(l);return u.setFormat(n.getFormat()),s.append(u),n.replace(s),c&&s.insertBefore(At(c)),u},trigger:")",type:"text-match"},no=[Ws,zs,Bs,js],ro=[Ks],io=[Hs,qs,Gs,Zs,Ys,Vs,Qs,to,Xs],so=[eo],oo=[...no,...ro,...io,...so];function hn(n,t,e){const r=e.length;for(let i=t;i>=r;i--){const s=i-r;if(gr(n,s,e,0,r)&&n[s+r]!==" ")return s}return-1}function gr(n,t,e,r,i){for(let s=0;s<i;s++)if(n[t+s]!==e[r+s])return!1;return!0}function Co(n,t=oo){const e=Ps(t),r=re(e.textFormat,(({tag:o})=>o[o.length-1])),i=re(e.textMatch,(({trigger:o})=>o));for(const o of t){const a=o.type;if(a==="element"||a==="text-match"||a==="multiline-element"){const l=o.dependencies;for(const c of l)n.hasNode(c)||Fs(173,c.getType())}}const s=(o,a,l)=>{(function(c,u,f,g){const h=c.getParent();if(!z(h)||c.getFirstChild()!==u)return!1;const d=u.getTextContent();if(d[f-1]!==" ")return!1;for(const{regExp:p,replace:m}of g){const y=d.match(p);if(y&&y[0].length===(y[0].endsWith(" ")?f:f-1)){const _=u.getNextSiblings(),[T,O]=u.splitText(f);if(m(c,O?[O,..._]:_,y,!1)!==!1)return T.remove(),!0}}return!1})(o,a,l,e.element)||(function(c,u,f,g){const h=c.getParent();if(!z(h)||c.getFirstChild()!==u)return!1;const d=u.getTextContent();if(d[f-1]!==" ")return!1;for(const{regExpStart:p,replace:m,regExpEnd:y}of g){if(y&&!("optional"in y)||y&&"optional"in y&&!y.optional)continue;const _=d.match(p);if(_&&_[0].length===(_[0].endsWith(" ")?f:f-1)){const T=u.getNextSiblings(),[O,P]=u.splitText(f);if(m(c,P?[P,...T]:T,_,null,null,!1)!==!1)return O.remove(),!0}}return!1})(o,a,l,e.multilineElement)||(function(c,u,f){let g=c.getTextContent();const h=f[g[u-1]];if(h==null)return!1;u<g.length&&(g=g.slice(0,u));for(const d of h){if(!d.replace||!d.regExp)continue;const p=g.match(d.regExp);if(p===null)continue;const m=p.index||0,y=m+p[0].length;let _;return m===0?[_]=c.splitText(y):[,_]=c.splitText(m,y),_.selectNext(0,0),d.replace(_,p),!0}return!1})(a,l,i)||(function(c,u,f){const g=c.getTextContent(),h=u-1,d=g[h],p=f[d];if(!p)return!1;for(const m of p){const{tag:y}=m,_=y.length,T=h-_+1;if(_>1&&!gr(g,T,y,0,_)||g[T-1]===" ")continue;const O=g[h+1];if(m.intraword===!1&&O&&!gn.test(O))continue;const P=c;let D=P,A=hn(g,T,y),J=D;for(;A<0&&(J=J.getPreviousSibling())&&!bi(J);)if(k(J)){if(J.hasFormat("code"))continue;const V=J.getTextContent();D=J,A=hn(V,V.length,y)}if(A<0||D===P&&A+_===T)continue;const Lt=D.getTextContent();if(A>0&&Lt[A-1]===d)continue;const _e=Lt[A-1];if(m.intraword===!1&&_e&&!gn.test(_e))continue;const ye=P.getTextContent(),xe=ye.slice(0,T)+ye.slice(h+1);P.setTextContent(xe);const ve=D===P?xe:Lt;D.setTextContent(ve.slice(0,A)+ve.slice(A+_));const Se=v(),I=wn();Ft(I);const hr=h-_*(D===P?2:1)+1;I.anchor.set(D.__key,A,"text"),I.focus.set(P.__key,hr,"text");for(const V of m.format)I.hasFormat(V)||I.formatText(V);I.anchor.set(I.focus.key,I.focus.offset,I.focus.type);for(const V of m.format)I.hasFormat(V)&&I.toggleFormat(V);return x(Se)&&(I.format=Se.format),!0}})(a,l,r)};return n.registerUpdateListener((({tags:o,dirtyLeaves:a,editorState:l,prevEditorState:c})=>{if(o.has(Si)||o.has(kt)||n.isComposing())return;const u=l.read(v),f=c.read(v);if(!x(f)||!x(u)||!u.isCollapsed()||u.is(f))return;const g=u.anchor.key,h=u.anchor.offset,d=l._nodeMap.get(g);!k(d)||!a.has(g)||h!==1&&h>f.anchor.offset+1||n.update((()=>{if(!Ds(d))return;const p=d.getParent();p===null||pe(p)||s(p,d,u.anchor.offset)}))}))}export{St as $,er as A,yo as D,fe as E,go as G,mo as J,bo as L,_o as N,ge as P,Mt as R,at as S,Bn as T,ut as U,H as W,ar as Z,de as _,oo as a,co as b,So as c,B as d,Co as e,ho as g,fo as k,vt as l,ht as n,lo as q,po as s,le as u,xo as z};
