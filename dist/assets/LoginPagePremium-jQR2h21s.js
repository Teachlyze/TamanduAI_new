import{r as i,u as q,g as B,j as e,o as O,m as r,B as R,p as b,b as j,U as T,k as _,z as p}from"./main-C_d-NeC0.js";import{n as v}from"./roleNavigation-mm4rSh2G.js";import{P as F}from"./PremiumButton-BXe4rVF6.js";import{M as K}from"./mail-9plXJUuN.js";import{L as M}from"./lock-DCQPQPki.js";import{A as U}from"./arrow-right-DhlRnrPQ.js";import{S as V}from"./sparkles-DRXR8Ndr.js";const X=()=>{const[o,w]=i.useState(""),[l,N]=i.useState(""),[k,h]=i.useState(!1),[n,A]=i.useState({}),[c,f]=i.useState({}),[E,S]=i.useState(!0),{signIn:C,user:d,loading:g}=q(),u=B();if(i.useEffect(()=>{if(d){const s=d.user_metadata?.role||"student";v(u,s)}else g||S(!1)},[d,g,u]),E)return e.jsx(O,{message:"Verificando autenticação..."});const x=(s,a)=>{const t={...n};switch(s){case"email":a?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?delete t.email:t.email="Por favor, insira um e-mail válido":t.email="O e-mail é obrigatório";break;case"password":a?a.length<6?t.password="A senha deve ter pelo menos 6 caracteres":delete t.password:t.password="A senha é obrigatória";break}return A(t),t},y=s=>{f(a=>({...a,[s]:!0})),x(s,s==="email"?o:l)},L=async s=>{s.preventDefault(),f({email:!0,password:!0});const a=x("email",o),t=x("password",l),I={...a,...t};if(Object.keys(I).length>0){p.error("Por favor, corrija os erros no formulário");return}h(!0);try{const m=await C(o,l);p.success("Login realizado com sucesso!");const P=m?.user?.user_metadata?.role||d?.user_metadata?.role||"student";v(u,P)}catch(m){console.error("Login error:",m),p.error(m.message||"Erro ao fazer login. Verifique suas credenciais.")}finally{h(!1)}},z=[{icon:V,title:"IA Avançada",description:"Chatbot inteligente para suas turmas"},{icon:T,title:"Gestão Fácil",description:"Organize alunos e professores"},{icon:_,title:"Analytics",description:"Acompanhe o progresso em tempo real"}];return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-background",children:e.jsxs(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"w-full max-w-md",children:[e.jsxs(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"flex items-center justify-center mb-8",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-primary rounded-2xl flex items-center justify-center shadow-themed-lg",children:e.jsx(R,{className:"w-7 h-7 text-white"})}),e.jsx("h1",{className:"ml-3 text-3xl font-bold text-gradient-primary",children:"TamanduAI"})]}),e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Bem-vindo de volta!"}),e.jsx("p",{className:"text-muted-foreground",children:"Entre para continuar gerenciando suas turmas"})]}),e.jsxs(r.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onSubmit:L,className:"space-y-6",children:[e.jsx(b,{label:"E-mail",type:"email",value:o,onChange:s=>w(s.target.value),onBlur:()=>y("email"),leftIcon:K,error:c.email&&n.email,success:c.email&&!n.email&&o,clearable:!0,required:!0,placeholder:"seu@email.com",autoComplete:"email"}),e.jsx(b,{label:"Senha",type:"password",value:l,onChange:s=>N(s.target.value),onBlur:()=>y("password"),leftIcon:M,error:c.password&&n.password,success:c.password&&!n.password&&l,required:!0,placeholder:"••••••••",autoComplete:"current-password"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-border text-primary focus:ring-2 focus:ring-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Lembrar-me"})]}),e.jsx(j,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Esqueceu a senha?"})]}),e.jsx(F,{type:"submit",variant:"gradient",size:"lg",fullWidth:!0,loading:k,rightIcon:U,children:"Entrar"})]}),e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"my-8 flex items-center gap-4",children:[e.jsx("div",{className:"flex-1 h-px bg-border"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"ou"}),e.jsx("div",{className:"flex-1 h-px bg-border"})]}),e.jsxs(r.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center text-muted-foreground",children:["Não tem uma conta?"," ",e.jsx(j,{to:"/register",className:"text-primary font-semibold hover:underline",children:"Cadastre-se grátis"})]})]})}),e.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-primary relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),e.jsx("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:e.jsxs(r.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:[e.jsxs("h2",{className:"text-4xl font-bold mb-6",children:["A plataforma educacional",e.jsx("br",{}),"que professores adoram"]}),e.jsxs("p",{className:"text-xl text-white/90 mb-12",children:["Reduza 70% do tempo em tarefas administrativas e",e.jsx("br",{}),"foque no que realmente importa: ensinar."]}),e.jsx("div",{className:"space-y-6",children:z.map((s,a)=>e.jsxs(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+a*.1},className:"flex items-start gap-4 p-4 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center flex-shrink-0",children:e.jsx(s.icon,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:s.title}),e.jsx("p",{className:"text-white/80 text-sm",children:s.description})]})]},s.title))}),e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"mt-12 grid grid-cols-3 gap-6",children:[{value:"10K+",label:"Professores"},{value:"50K+",label:"Alunos"},{value:"99%",label:"Satisfação"}].map((s,a)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:s.value}),e.jsx("div",{className:"text-sm text-white/70",children:s.label})]},a))})]})})]})]})};export{X as default};
