import{u as S,g as P,j as e,m as s,i as M,A as R,M as E,a0 as g,d as p,C as B,k as H,ag as x,U as j,T as N}from"./main-Bujpyeg-.js";import{u as I}from"./useRedisCache-CW6qvIqY.js";import{T as U}from"./triangle-alert-Cw-mO2fL.js";import{B as w}from"./brain-vNXhM8pG.js";import{A as k}from"./arrow-up-right-DugP5kmW.js";import{P as L}from"./plus-C0dvgUSL.js";import{G as y}from"./graduation-cap-Ch-mLRIV.js";const _=i=>{const[r,o]=x.useState(null),[u,d]=x.useState(!0),[h,n]=x.useState(null);return x.useEffect(()=>{(async()=>{if(!i){d(!1);return}try{d(!0),n(null),await new Promise(l=>setTimeout(l,300)),o(null)}catch(l){console.error("Error fetching dashboard data:",l),n(l.message)}finally{d(!1)}})()},[i]),{data:r,loading:u,error:h}},K=()=>{const{user:i}=S(),r=P(),{data:o,loading:u}=I(i?.id),{data:d,loading:h,error:n}=_(i?.id),l=(()=>{if(d?.stats)return d.stats;if(!o){const c=parseInt("0"),m=parseInt("0"),$=parseInt("0"),D=parseInt("0");return[{icon:j,label:"Total de Alunos",value:c.toString(),change:"+12%",changeType:"positive",gradient:"from-blue-500 to-cyan-500"},{icon:y,label:"Turmas Ativas",value:m.toString(),change:"+2",changeType:"positive",gradient:"from-green-500 to-emerald-500"},{icon:g,label:"Atividades",value:$.toString(),change:"+5",changeType:"positive",gradient:"from-purple-500 to-pink-500"},{icon:N,label:"Taxa de Conclus칚o",value:`${D}%`,change:"+3%",changeType:"positive",gradient:"from-orange-500 to-red-500"}]}const a=o.reduce((c,m)=>c+(m.students_count||0),0),t=o.length,b=o.reduce((c,m)=>c+(m.activities_count||0),0),C=b>0?Math.round(b/(t*10)*100):0;return[{icon:j,label:"Total de Alunos",value:a.toString(),change:"+12%",changeType:"positive",gradient:"from-blue-500 to-cyan-500"},{icon:y,label:"Turmas Ativas",value:t.toString(),change:"+2",changeType:"positive",gradient:"from-green-500 to-emerald-500"},{icon:g,label:"Atividades",value:b.toString(),change:"+5",changeType:"positive",gradient:"from-purple-500 to-pink-500"},{icon:N,label:"Taxa de Conclus칚o",value:`${C}%`,change:"+3%",changeType:"positive",gradient:"from-orange-500 to-red-500"}]})(),v=[{icon:L,title:"Nova turma criada",description:"Matem치tica Avan칞ada 2024",time:"H치 2 horas",color:"blue"},{icon:R,title:"Atividade conclu칤da",description:"25 alunos completaram a tarefa",time:"H치 5 horas",color:"green"},{icon:E,title:"Novo coment치rio",description:"Professor Jo칚o comentou na atividade",time:"H치 1 dia",color:"purple"}],f=[{title:"Trabalho de Matem치tica - Cap. 5",class:"Matem치tica 9A",dueDate:"Hoje",dueTime:"23:59",status:"urgent",completed:18,total:32},{title:"Prova de F칤sica - Mec칙nica",class:"F칤sica 2B",dueDate:"Amanh칚",dueTime:"10:00",status:"warning",completed:25,total:30},{title:"Projeto de Qu칤mica",class:"Qu칤mica 3C",dueDate:"18/10/2025",dueTime:"23:59",status:"normal",completed:12,total:28}],T=[{icon:y,label:"Nova Turma",description:"Criar uma nova turma",gradient:"from-blue-500 to-cyan-500",action:()=>r("/dashboard/classes")},{icon:g,label:"Nova Atividade",description:"Criar atividade interativa",gradient:"from-green-500 to-emerald-500",action:()=>r("/dashboard/activities/new")},{icon:w,label:"Chatbot IA",description:"Configurar assistente",gradient:"from-purple-500 to-pink-500",action:()=>r("/dashboard/chatbot")},{icon:H,label:"Relat칩rios",description:"Ver analytics detalhados",gradient:"from-orange-500 to-red-500",action:()=>r("/dashboard/reports")},{icon:p,label:"Agenda",description:"Ver agenda educacional",gradient:"from-indigo-500 to-blue-500",action:()=>r("/dashboard/calendar")}];return h||u?e.jsx("div",{className:"w-full space-y-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 rounded-3xl mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((a,t)=>e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded-2xl"},t))}),e.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:[...Array(2)].map((a,t)=>e.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded-2xl"},t))})]})}):n?e.jsx("div",{className:"w-full space-y-8",children:e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center",children:e.jsx(U,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-200",children:"Erro ao carregar dados do dashboard"}),e.jsx("p",{className:"text-red-600 dark:text-red-300",children:n})]})]})})}):e.jsxs("div",{className:"w-full space-y-8",children:[e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative overflow-hidden bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-600 rounded-3xl p-8 text-white",children:[e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold mb-3",children:["Bem-vindo de volta, ",i?.name,"! 游녦"]}),e.jsx("p",{className:"text-blue-100 text-lg max-w-2xl",children:"Aqui est치 um resumo das suas atividades educacionais hoje. Continue transformando a educa칞칚o com IA!"})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"w-32 h-32 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm",children:e.jsx(w,{className:"w-16 h-16 text-white"})})})]})}),e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-white/10 to-transparent rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-white/5 to-transparent rounded-full blur-2xl"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((a,t)=>e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:t*.1},className:"group",children:e.jsxs("div",{className:"relative p-6 bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-14 h-14 bg-gradient-to-r ${a.gradient} rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform`,children:e.jsx(a.icon,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:`flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${a.changeType==="positive"?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400"}`,children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:a.change})]})]}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:a.value}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:a.label})]})},a.label))}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Atividades Recentes"}),e.jsxs(M,{variant:"ghost",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-muted/30",onClick:()=>r("/dashboard/activities"),children:["Ver todas",e.jsx(k,{className:"w-4 h-4 ml-1"})]})]}),e.jsx("div",{className:"space-y-4",children:v.length>0?v.map((a,t)=>e.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.1},className:"flex items-start space-x-4 p-4 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer group",children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${a.color==="blue"?"from-blue-500 to-cyan-500":a.color==="green"?"from-green-500 to-emerald-500":a.color==="purple"?"from-purple-500 to-pink-500":"from-orange-500 to-red-500"} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform`,children:e.jsx(a.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:a.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:a.description}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:a.time})]})]},t)):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(g,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Nenhuma atividade recente encontrada"})]})})]}),e.jsxs(s.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.5},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pr칩ximos Prazos"}),e.jsx(p,{className:"w-6 h-6 text-gray-400"})]}),e.jsx("div",{className:"space-y-4",children:f.length>0?f.map((a,t)=>e.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.1},className:"p-4 rounded-xl border-l-4 bg-white dark:bg-gray-800 hover:shadow-lg transition-all cursor-pointer group",style:{borderLeftColor:a.status==="urgent"?"#ef4444":a.status==="warning"?"#f59e0b":"#10b981"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:a.title}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:a.class})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${a.status==="urgent"?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":a.status==="warning"?"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400":"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400"}`,children:a.dueDate})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:a.dueTime})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.completed}),e.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["/",a.total," alunos"]})]})]}),e.jsx("div",{className:"mt-3 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full transition-all duration-500",style:{width:`${a.completed/a.total*100}%`}})})]},t)):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(p,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Nenhum prazo pr칩ximo encontrado"})]})})]})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"A칞칫es R치pidas"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:T.map((a,t)=>e.jsxs(s.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.1},className:"group p-6 rounded-2xl border-2 border-dashed border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:bg-blue-50 dark:hover:bg-muted/30 transition-all transform hover:-translate-y-1",onClick:a.action,children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${a.gradient} rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform`,children:e.jsx(a.icon,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:a.label}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:a.description})]},a.label))})]})]})};export{K as default};
