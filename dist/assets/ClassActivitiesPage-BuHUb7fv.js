import{j as e,r as u,x as q,a6 as it,g as lt,q as ct,ag as dt}from"./main-Bujpyeg-.js";import{P as ut}from"./PageHeader-CCEdZZFz.js";import{b as pt}from"./useRedisCache-CW6qvIqY.js";import{g as Y,d as Z,u as K,s as A,a as _,m as X,e as Fe,T as C,t as je,c as O,f as Ne,h as ne,q as Ve,v as Oe,l as mt,k as rt,n as xt,B as z,C as ht}from"./Box-NaiYw42A.js";import{t as Se,c as ft}from"./toDate-B_SDEMqy.js";import{B as re}from"./Button-CfmhfUqK.js";import{u as bt,a as gt,m as vt,L as se,g as Ct,b as yt,l as ve,A as qe,T as jt,I as ae,M as Pe,c as ee,d as te,D as Ce,e as Ue,f as St,E as It,h as Pt}from"./Today-C_oXJFga.js";import{i as kt,C as ke,a as we,G as pe}from"./Grid-NCGmANaT.js";import{c as R,u as H,b as wt,i as Ge,T as zt,a as ie}from"./Tabs-drcFLL3o.js";import{C as ze}from"./Chip-VGEWAhJr.js";import{c as At}from"./constructNow-BUe0KqNa.js";import{i as Mt}from"./isSameDay-BluXUBZm.js";import{p as me}from"./parseISO-CUV0sbTS.js";import{f as We}from"./format-C6ZKAeCj.js";import"./assertThisInitialized-b-KHx1rs.js";import"./extends-BFqQA52f.js";import"./inheritsLoose-CMRHYPv0.js";import"./index-D_P3mdcN.js";import"./popper-B_2vCoY7.js";import"./useThemeProps-BKnoFtyh.js";function Rt(t,s){return+Se(t)>+Se(s)}function Qe(t,s){return+Se(t)<+Se(s)}function Lt(t,s){return Mt(ft(t,t),At(t))}const Tt=R(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function $t(t){return Y("MuiAvatar",t)}Z("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Bt=t=>{const{classes:s,variant:r,colorDefault:n}=t;return _({root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]},$t,s)},Ht=A("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[s.root,s[r.variant],r.colorDefault&&s.colorDefault]}})(X(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),Dt=A("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Ft=A(Tt,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function Nt({crossOrigin:t,referrerPolicy:s,src:r,srcSet:n}){const[i,l]=u.useState(!1);return u.useEffect(()=>{if(!r&&!n)return;l(!1);let d=!0;const c=new Image;return c.onload=()=>{d&&l("loaded")},c.onerror=()=>{d&&l("error")},c.crossOrigin=t,c.referrerPolicy=s,c.src=r,n&&(c.srcset=n),()=>{d=!1}},[t,s,r,n]),i}const _e=u.forwardRef(function(s,r){const n=K({props:s,name:"MuiAvatar"}),{alt:i,children:l,className:d,component:c="div",slots:p={},slotProps:y={},imgProps:j,sizes:w,src:S,srcSet:P,variant:f="circular",...v}=n;let b=null;const g={...n,component:c,variant:f},k=Nt({...j,...typeof y.img=="function"?y.img(g):y.img,src:S,srcSet:P}),M=S||P,m=M&&k!=="error";g.colorDefault=!m,delete g.ownerState;const I=Bt(g),[L,U]=H("root",{ref:r,className:q(I.root,d),elementType:Ht,externalForwardedProps:{slots:p,slotProps:y,component:c,...v},ownerState:g}),[T,N]=H("img",{className:I.img,elementType:Dt,externalForwardedProps:{slots:p,slotProps:{img:{...j,...y.img}}},additionalProps:{alt:i,src:S,srcSet:P,sizes:w},ownerState:g}),[D,G]=H("fallback",{className:I.fallback,elementType:Ft,externalForwardedProps:{slots:p,slotProps:y},shouldForwardComponentProp:!0,ownerState:g});return m?b=e.jsx(T,{...N}):l||l===0?b=l:M&&i?b=i[0]:b=e.jsx(D,{...G}),e.jsx(L,{...U,children:b})});function Vt(t){return Y("MuiCardActionArea",t)}const Ae=Z("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Ot=t=>{const{classes:s}=t;return _({root:["root"],focusHighlight:["focusHighlight"]},Vt,s)},Et=A(Fe,{name:"MuiCardActionArea",slot:"Root"})(X(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${Ae.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Ae.focusVisible} .${Ae.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}))),qt=A("span",{name:"MuiCardActionArea",slot:"FocusHighlight"})(X(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}))),Ut=u.forwardRef(function(s,r){const n=K({props:s,name:"MuiCardActionArea"}),{children:i,className:l,focusVisibleClassName:d,slots:c={},slotProps:p={},...y}=n,j=n,w=Ot(j),S={slots:c,slotProps:p},[P,f]=H("root",{elementType:Et,externalForwardedProps:{...S,...y},shouldForwardComponentProp:!0,ownerState:j,ref:r,className:q(w.root,l),additionalProps:{focusVisibleClassName:q(d,w.focusVisible)}}),[v,b]=H("focusHighlight",{elementType:qt,externalForwardedProps:S,ownerState:j,ref:r,className:w.focusHighlight});return e.jsxs(P,{...f,children:[i,e.jsx(v,{...b})]})});function Gt(t){return Y("MuiCardActions",t)}Z("MuiCardActions",["root","spacing"]);const Wt=t=>{const{classes:s,disableSpacing:r}=t;return _({root:["root",!r&&"spacing"]},Gt,s)},Qt=A("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[s.root,!r.disableSpacing&&s.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),_t=u.forwardRef(function(s,r){const n=K({props:s,name:"MuiCardActions"}),{disableSpacing:i=!1,className:l,...d}=n,c={...n,disableSpacing:i},p=Wt(c);return e.jsx(Qt,{className:q(p.root,l),ownerState:c,ref:r,...d})});function Kt(t){return Y("MuiCardHeader",t)}const Ie=Z("MuiCardHeader",["root","avatar","action","content","title","subheader"]),Xt=t=>{const{classes:s}=t;return _({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Kt,s)},Yt=A("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,s)=>[{[`& .${Ie.title}`]:s.title},{[`& .${Ie.subheader}`]:s.subheader},s.root]})({display:"flex",alignItems:"center",padding:16}),Zt=A("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),Jt=A("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),es=A("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${je.root}:where(& .${Ie.title})`]:{display:"block"},[`.${je.root}:where(& .${Ie.subheader})`]:{display:"block"}}),ts=u.forwardRef(function(s,r){const n=K({props:s,name:"MuiCardHeader"}),{action:i,avatar:l,component:d="div",disableTypography:c=!1,subheader:p,subheaderTypographyProps:y,title:j,titleTypographyProps:w,slots:S={},slotProps:P={},...f}=n,v={...n,component:d,disableTypography:c},b=Xt(v),g={slots:S,slotProps:{title:w,subheader:y,...P}};let k=j;const[M,m]=H("title",{className:b.title,elementType:C,externalForwardedProps:g,ownerState:v,additionalProps:{variant:l?"body2":"h5",component:"span"}});k!=null&&k.type!==C&&!c&&(k=e.jsx(M,{...m,children:k}));let I=p;const[L,U]=H("subheader",{className:b.subheader,elementType:C,externalForwardedProps:g,ownerState:v,additionalProps:{variant:l?"body2":"body1",color:"textSecondary",component:"span"}});I!=null&&I.type!==C&&!c&&(I=e.jsx(L,{...U,children:I}));const[T,N]=H("root",{ref:r,className:b.root,elementType:Yt,externalForwardedProps:{...g,...f,component:d},ownerState:v}),[D,G]=H("avatar",{className:b.avatar,elementType:Zt,externalForwardedProps:g,ownerState:v}),[B,W]=H("content",{className:b.content,elementType:es,externalForwardedProps:g,ownerState:v}),[Q,F]=H("action",{className:b.action,elementType:Jt,externalForwardedProps:g,ownerState:v});return e.jsxs(T,{...N,children:[l&&e.jsx(D,{...G,children:l}),e.jsxs(B,{...W,children:[k,I]}),i&&e.jsx(Q,{...F,children:i})]})});function ss(t){return Y("PrivateSwitchBase",t)}Z("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const os=t=>{const{classes:s,checked:r,disabled:n,edge:i}=t,l={root:["root",r&&"checked",n&&"disabled",i&&`edge${O(i)}`],input:["input"]};return _(l,ss,s)},rs=A(Fe,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:s})=>t==="start"&&s.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:s})=>t==="end"&&s.size!=="small",style:{marginRight:-12}}]}),as=A("input",{name:"MuiSwitchBase",shouldForwardProp:Ne})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),ns=u.forwardRef(function(s,r){const{autoFocus:n,checked:i,checkedIcon:l,defaultChecked:d,disabled:c,disableFocusRipple:p=!1,edge:y=!1,icon:j,id:w,inputProps:S,inputRef:P,name:f,onBlur:v,onChange:b,onFocus:g,readOnly:k,required:M=!1,tabIndex:m,type:I,value:L,slots:U={},slotProps:T={},...N}=s,[D,G]=bt({controlled:i,default:!!d,name:"SwitchBase",state:"checked"}),B=gt(),W=$=>{g&&g($),B&&B.onFocus&&B.onFocus($)},Q=$=>{v&&v($),B&&B.onBlur&&B.onBlur($)},F=$=>{if($.nativeEvent.defaultPrevented)return;const E=$.target.checked;G(E),b&&b($,E)};let V=c;B&&typeof V>"u"&&(V=B.disabled);const xe=I==="checkbox"||I==="radio",oe={...s,checked:D,disabled:V,disableFocusRipple:p,edge:y},J=os(oe),he={slots:U,slotProps:{input:S,...T}},[ue,fe]=H("root",{ref:r,elementType:rs,className:J.root,shouldForwardComponentProp:!0,externalForwardedProps:{...he,component:"span",...N},getSlotProps:$=>({...$,onFocus:E=>{$.onFocus?.(E),W(E)},onBlur:E=>{$.onBlur?.(E),Q(E)}}),ownerState:oe,additionalProps:{centerRipple:!0,focusRipple:!p,disabled:V,role:void 0,tabIndex:null}}),[be,ge]=H("input",{ref:P,elementType:as,className:J.input,externalForwardedProps:he,getSlotProps:$=>({...$,onChange:E=>{$.onChange?.(E),F(E)}}),ownerState:oe,additionalProps:{autoFocus:n,checked:i,defaultChecked:d,disabled:V,id:xe?w:void 0,name:f,readOnly:k,required:M,tabIndex:m,type:I,...I==="checkbox"&&L===void 0?{}:{value:L}}});return e.jsxs(ue,{...fe,children:[e.jsx(be,{...ge}),D?l:j]})}),is=R(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),ls=R(e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),cs=R(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function ds(t){return Y("MuiCheckbox",t)}const Me=Z("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),us=t=>{const{classes:s,indeterminate:r,color:n,size:i}=t,l={root:["root",r&&"indeterminate",`color${O(n)}`,`size${O(i)}`]},d=_(l,ds,s);return{...s,...d}},ps=A(ns,{shouldForwardProp:t=>Ne(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[s.root,r.indeterminate&&s.indeterminate,s[`size${O(r.size)}`],r.color!=="default"&&s[`color${O(r.color)}`]]}})(X(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(ne()).map(([s])=>({props:{color:s,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(ne()).map(([s])=>({props:{color:s},style:{[`&.${Me.checked}, &.${Me.indeterminate}`]:{color:(t.vars||t).palette[s].main},[`&.${Me.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),ms=e.jsx(ls,{}),xs=e.jsx(is,{}),hs=e.jsx(cs,{}),ye=u.forwardRef(function(s,r){const n=K({props:s,name:"MuiCheckbox"}),{checkedIcon:i=ms,color:l="primary",icon:d=xs,indeterminate:c=!1,indeterminateIcon:p=hs,inputProps:y,size:j="medium",disableRipple:w=!1,className:S,slots:P={},slotProps:f={},...v}=n,b=c?p:d,g=c?p:i,k={...n,disableRipple:w,color:l,indeterminate:c,size:j},M=us(k),m=f.input??y,[I,L]=H("root",{ref:r,elementType:ps,className:q(M.root,S),shouldForwardComponentProp:!0,externalForwardedProps:{slots:P,slotProps:f,...v},ownerState:k,additionalProps:{type:"checkbox",icon:u.cloneElement(b,{fontSize:b.props.fontSize??j}),checkedIcon:u.cloneElement(g,{fontSize:g.props.fontSize??j}),disableRipple:w,slots:P,slotProps:{input:vt(typeof m=="function"?m(k):m,{"data-indeterminate":c})}}});return e.jsx(I,{...L,classes:M})});function fs(t){return Y("MuiLinearProgress",t)}Z("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const $e=4,Be=Oe`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,bs=typeof Be!="string"?Ve`
        animation: ${Be} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,He=Oe`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,gs=typeof He!="string"?Ve`
        animation: ${He} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,De=Oe`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,vs=typeof De!="string"?Ve`
        animation: ${De} 3s infinite linear;
      `:null,Cs=t=>{const{classes:s,variant:r,color:n}=t,i={root:["root",`color${O(n)}`,r],dashed:["dashed",`dashedColor${O(n)}`],bar1:["bar","bar1",`barColor${O(n)}`,(r==="indeterminate"||r==="query")&&"bar1Indeterminate",r==="determinate"&&"bar1Determinate",r==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",r!=="buffer"&&`barColor${O(n)}`,r==="buffer"&&`color${O(n)}`,(r==="indeterminate"||r==="query")&&"bar2Indeterminate",r==="buffer"&&"bar2Buffer"]};return _(i,fs,s)},Ee=(t,s)=>t.vars?t.vars.palette.LinearProgress[`${s}Bg`]:t.palette.mode==="light"?t.lighten(t.palette[s].main,.62):t.darken(t.palette[s].main,.5),ys=A("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[s.root,s[`color${O(r.color)}`],s[r.variant]]}})(X(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(ne()).map(([s])=>({props:{color:s},style:{backgroundColor:Ee(t,s)}})),{props:({ownerState:s})=>s.color==="inherit"&&s.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),js=A("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[s.dashed,s[`dashedColor${O(r.color)}`]]}})(X(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(ne()).map(([s])=>{const r=Ee(t,s);return{props:{color:s},style:{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`}}})]})),vs||{animation:`${De} 3s infinite linear`}),Ss=A("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[s.bar,s.bar1,s[`barColor${O(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&s.bar1Indeterminate,r.variant==="determinate"&&s.bar1Determinate,r.variant==="buffer"&&s.bar1Buffer]}})(X(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(ne()).map(([s])=>({props:{color:s},style:{backgroundColor:(t.vars||t).palette[s].main}})),{props:{variant:"determinate"},style:{transition:`transform .${$e}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${$e}s linear`}},{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:{width:"auto"}},{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:bs||{animation:`${Be} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),Is=A("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[s.bar,s.bar2,s[`barColor${O(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&s.bar2Indeterminate,r.variant==="buffer"&&s.bar2Buffer]}})(X(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(ne()).map(([s])=>({props:{color:s},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[s].main}})),{props:({ownerState:s})=>s.variant!=="buffer"&&s.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:s})=>s.variant!=="buffer"&&s.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(ne()).map(([s])=>({props:{color:s,variant:"buffer"},style:{backgroundColor:Ee(t,s),transition:`transform .${$e}s linear`}})),{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:{width:"auto"}},{props:({ownerState:s})=>s.variant==="indeterminate"||s.variant==="query",style:gs||{animation:`${He} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Ke=u.forwardRef(function(s,r){const n=K({props:s,name:"MuiLinearProgress"}),{className:i,color:l="primary",value:d,valueBuffer:c,variant:p="indeterminate",...y}=n,j={...n,color:l,variant:p},w=Cs(j),S=wt(),P={},f={bar1:{},bar2:{}};if((p==="determinate"||p==="buffer")&&d!==void 0){P["aria-valuenow"]=Math.round(d),P["aria-valuemin"]=0,P["aria-valuemax"]=100;let v=d-100;S&&(v=-v),f.bar1.transform=`translateX(${v}%)`}if(p==="buffer"&&c!==void 0){let v=(c||0)-100;S&&(v=-v),f.bar2.transform=`translateX(${v}%)`}return e.jsxs(ys,{className:q(w.root,i),ownerState:j,role:"progressbar",...P,ref:r,...y,children:[p==="buffer"?e.jsx(js,{className:w.dashed,ownerState:j}):null,e.jsx(Ss,{className:w.bar1,ownerState:j,style:f.bar1}),p==="determinate"?null:e.jsx(Is,{className:w.bar2,ownerState:j,style:f.bar2})]})});function Ps(t){return Y("MuiListItem",t)}Z("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function ks(t){return Y("MuiListItemButton",t)}const de=Z("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),ws=(t,s)=>{const{ownerState:r}=t;return[s.root,r.dense&&s.dense,r.alignItems==="flex-start"&&s.alignItemsFlexStart,r.divider&&s.divider,!r.disableGutters&&s.gutters]},zs=t=>{const{alignItems:s,classes:r,dense:n,disabled:i,disableGutters:l,divider:d,selected:c}=t,y=_({root:["root",n&&"dense",!l&&"gutters",d&&"divider",i&&"disabled",s==="flex-start"&&"alignItemsFlexStart",c&&"selected"]},ks,r);return{...r,...y}},As=A(Fe,{shouldForwardProp:t=>Ne(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:ws})(X(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${de.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${de.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}},[`&.${de.selected}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},[`&.${de.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${de.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Ms=u.forwardRef(function(s,r){const n=K({props:s,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:l=!1,component:d="div",children:c,dense:p=!1,disableGutters:y=!1,divider:j=!1,focusVisibleClassName:w,selected:S=!1,className:P,...f}=n,v=u.useContext(se),b=u.useMemo(()=>({dense:p||v.dense||!1,alignItems:i,disableGutters:y}),[i,v.dense,p,y]),g=u.useRef(null);mt(()=>{l&&g.current&&g.current.focus()},[l]);const k={...n,alignItems:i,dense:b.dense,disableGutters:y,divider:j,selected:S},M=zs(k),m=rt(g,r);return e.jsx(se.Provider,{value:b,children:e.jsx(As,{ref:m,href:f.href||f.to,component:(f.href||f.to)&&d==="div"?"button":d,focusVisibleClassName:q(M.focusVisible,w),ownerState:k,className:q(M.root,P),...f,classes:M,children:c})})});function Rs(t){return Y("MuiListItemSecondaryAction",t)}Z("MuiListItemSecondaryAction",["root","disableGutters"]);const Ls=t=>{const{disableGutters:s,classes:r}=t;return _({root:["root",s&&"disableGutters"]},Rs,r)},Ts=A("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[s.root,r.disableGutters&&s.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),at=u.forwardRef(function(s,r){const n=K({props:s,name:"MuiListItemSecondaryAction"}),{className:i,...l}=n,d=u.useContext(se),c={...n,disableGutters:d.disableGutters},p=Ls(c);return e.jsx(Ts,{className:q(p.root,i),ownerState:c,ref:r,...l})});at.muiName="ListItemSecondaryAction";const $s=(t,s)=>{const{ownerState:r}=t;return[s.root,r.dense&&s.dense,r.alignItems==="flex-start"&&s.alignItemsFlexStart,r.divider&&s.divider,!r.disableGutters&&s.gutters,!r.disablePadding&&s.padding,r.hasSecondaryAction&&s.secondaryAction]},Bs=t=>{const{alignItems:s,classes:r,dense:n,disableGutters:i,disablePadding:l,divider:d,hasSecondaryAction:c}=t;return _({root:["root",n&&"dense",!i&&"gutters",!l&&"padding",d&&"divider",s==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction"],container:["container"]},Ps,r)},Hs=A("div",{name:"MuiListItem",slot:"Root",overridesResolver:$s})(X(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:s})=>!s.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:s})=>!s.disablePadding&&s.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:s})=>!s.disablePadding&&!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>!s.disablePadding&&!!s.secondaryAction,style:{paddingRight:48}},{props:({ownerState:s})=>!!s.secondaryAction,style:{[`& > .${de.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>s.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:s})=>s.hasSecondaryAction,style:{paddingRight:48}}]}))),Ds=A("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),Fs=u.forwardRef(function(s,r){const n=K({props:s,name:"MuiListItem"}),{alignItems:i="center",children:l,className:d,component:c,components:p={},componentsProps:y={},ContainerComponent:j="li",ContainerProps:{className:w,...S}={},dense:P=!1,disableGutters:f=!1,disablePadding:v=!1,divider:b=!1,secondaryAction:g,slotProps:k={},slots:M={},...m}=n,I=u.useContext(se),L=u.useMemo(()=>({dense:P||I.dense||!1,alignItems:i,disableGutters:f}),[i,I.dense,P,f]),U=u.useRef(null),T=u.Children.toArray(l),N=T.length&&kt(T[T.length-1],["ListItemSecondaryAction"]),D={...n,alignItems:i,dense:L.dense,disableGutters:f,disablePadding:v,divider:b,hasSecondaryAction:N},G=Bs(D),B=rt(U,r),W=M.root||p.Root||Hs,Q=k.root||y.root||{},F={className:q(G.root,Q.className,d),...m};let V=c||"li";return N?(V=!F.component&&!c?"div":V,j==="li"&&(V==="li"?V="div":F.component==="li"&&(F.component="div")),e.jsx(se.Provider,{value:L,children:e.jsxs(Ds,{as:j,className:q(G.container,w),ref:B,ownerState:D,...S,children:[e.jsx(W,{...Q,...!Ge(W)&&{as:V,ownerState:{...D,...Q.ownerState}},...F,children:T}),T.pop()]})})):e.jsx(se.Provider,{value:L,children:e.jsxs(W,{...Q,as:V,ref:B,...!Ge(W)&&{ownerState:{...D,...Q.ownerState}},...F,children:[T,g&&e.jsx(at,{children:g})]})})}),Ns=t=>{const{alignItems:s,classes:r}=t;return _({root:["root",s==="flex-start"&&"alignItemsFlexStart"]},Ct,r)},Vs=A("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[s.root,r.alignItems==="flex-start"&&s.alignItemsFlexStart]}})(X(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),le=u.forwardRef(function(s,r){const n=K({props:s,name:"MuiListItemIcon"}),{className:i,...l}=n,d=u.useContext(se),c={...n,alignItems:d.alignItems},p=Ns(c);return e.jsx(Vs,{className:q(p.root,i),ownerState:c,ref:r,...l})}),Os=t=>{const{classes:s,inset:r,primary:n,secondary:i,dense:l}=t;return _({root:["root",r&&"inset",l&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},yt,s)},Es=A("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:r}=t;return[{[`& .${ve.primary}`]:s.primary},{[`& .${ve.secondary}`]:s.secondary},s.root,r.inset&&s.inset,r.primary&&r.secondary&&s.multiline,r.dense&&s.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${je.root}:where(& .${ve.primary})`]:{display:"block"},[`.${je.root}:where(& .${ve.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),ce=u.forwardRef(function(s,r){const n=K({props:s,name:"MuiListItemText"}),{children:i,className:l,disableTypography:d=!1,inset:c=!1,primary:p,primaryTypographyProps:y,secondary:j,secondaryTypographyProps:w,slots:S={},slotProps:P={},...f}=n,{dense:v}=u.useContext(se);let b=p??i,g=j;const k={...n,disableTypography:d,inset:c,primary:!!b,secondary:!!g,dense:v},M=Os(k),m={slots:S,slotProps:{primary:y,secondary:w,...P}},[I,L]=H("root",{className:q(M.root,l),elementType:Es,externalForwardedProps:{...m,...f},ownerState:k,ref:r}),[U,T]=H("primary",{className:M.primary,elementType:C,externalForwardedProps:m,ownerState:k}),[N,D]=H("secondary",{className:M.secondary,elementType:C,externalForwardedProps:m,ownerState:k});return b!=null&&b.type!==C&&!d&&(b=e.jsx(U,{variant:v?"body2":"body1",component:T?.variant?void 0:"span",...T,children:b})),g!=null&&g.type!==C&&!d&&(g=e.jsx(N,{variant:"body2",color:"textSecondary",...D,children:g})),e.jsxs(I,{...L,children:[b,g]})}),Xe=R(e.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),Ye=R(e.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m-2 14-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"})),Ze=R(e.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 4h5v8l-2.5-1.5L6 12z"})),qs=R(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Je=R(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Re=R(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),Us=R(e.jsx("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"})),Gs=R(e.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),Le=R(e.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),et=R(e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),Ws=R(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"})),tt=R([e.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4z"},"0"),e.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-5.99 13c-.59 0-1.05-.47-1.05-1.05 0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04-.01.58-.45 1.05-1.04 1.05m2.5-6.17c-.63.93-1.23 1.21-1.56 1.81-.13.24-.18.4-.18 1.18h-1.52c0-.41-.06-1.08.26-1.65.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.88 0-1.32.67-1.5 1.23l-1.37-.57C11.51 5.96 12.52 5 13.99 5c1.23 0 2.08.56 2.51 1.26.37.61.58 1.73.01 2.57"},"1")]),Qs=R(e.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),_s=R(e.jsx("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"})),Ks=R(e.jsx("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"})),Xs=R(e.jsx("path",{d:"M14.67 5v6.5H9.33V5zm1 6.5H21V5h-5.33zm-1 7.5v-6.5H9.33V19zm1-6.5V19H21v-6.5zm-7.34 0H3V19h5.33zm0-1V5H3v6.5z"})),Te=R(e.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),Ys=R(e.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Zs=[{id:"act-1",type:"assignment",title:"Trabalho de Álgebra Linear",description:"Resolva os exercícios dos capítulos 1 e 2 do livro texto.",dueDate:"2023-10-15T23:59:59",points:10,status:"pending",submissionCount:15,totalStudents:25,createdAt:"2023-09-10T14:30:00",attachments:[{id:"file1",name:"enunciado.pdf",type:"pdf",size:"2.4 MB"},{id:"file2",name:"material-apoio.docx",type:"doc",size:"1.2 MB"}]},{id:"act-2",type:"quiz",title:"Prova de Trigonometria",description:"Prova sobre identidades trigonométricas e resolução de triângulos.",dueDate:"2023-10-05T10:00:00",points:20,status:"graded",averageScore:7.8,submissionCount:24,totalStudents:25,createdAt:"2023-09-01T09:15:00",timeLimit:60,questionCount:15},{id:"act-3",type:"material",title:"Apostila de Cálculo I",description:"Material de apoio para a unidade de derivadas e integrais.",status:"published",createdAt:"2023-08-28T16:45:00",attachments:[{id:"file3",name:"apostila-calculo.pdf",type:"pdf",size:"5.7 MB"}],viewCount:42},{id:"act-4",type:"assignment",title:"Exercícios de Geometria Analítica",description:"Lista de exercícios sobre retas e planos no espaço.",dueDate:"2023-09-28T23:59:59",points:15,status:"submitted",submissionCount:18,totalStudents:25,createdAt:"2023-09-15T11:20:00",isGraded:!1},{id:"act-5",type:"quiz",title:"Questionário de Revisão",description:"Perguntas sobre os tópicos da última aula.",dueDate:"2023-09-20T23:59:59",points:5,status:"pending",submissionCount:10,totalStudents:25,createdAt:"2023-09-18T08:30:00",timeLimit:30,questionCount:10}],st=[{value:"all",label:"Todas as atividades"},{value:"assignment",label:"Trabalhos"},{value:"quiz",label:"Questionários"},{value:"material",label:"Materiais"},{value:"pending",label:"Pendentes"},{value:"submitted",label:"Entregues"},{value:"graded",label:"Avaliados"},{value:"overdue",label:"Atrasados"}],ot=[{value:"newest",label:"Mais recentes primeiro"},{value:"oldest",label:"Mais antigas primeiro"},{value:"dueDate",label:"Data de entrega"},{value:"title",label:"Título (A-Z)"}],yo=()=>{const{classId:t}=it(),s=lt(),r=xt(),{currentUser:n}=ct(),[i,l]=u.useState([]),[d,c]=u.useState(!0),[p,y]=u.useState(""),[j,w]=u.useState("all"),[S,P]=u.useState(""),[f,v]=u.useState("all"),[b,g]=u.useState("newest"),[k,M]=u.useState("list"),[m,I]=u.useState([]),[L,U]=u.useState(null),[T,N]=u.useState(null),[D,G]=u.useState(null),{data:B,loading:W,error:Q}=pt(t);u.useEffect(()=>{(async()=>{if(t)try{if(c(W),y(Q),B){const a=B.map((x,h)=>({id:x.id,type:x.type||"assignment",title:x.title||`Atividade ${h+1}`,description:x.description||"Sem descrição",dueDate:x.due_date||null,points:x.total_points||10,status:x.status||"pending",submissionCount:0,totalStudents:25,createdAt:x.created_at||new Date().toISOString(),attachments:x.instructions?[{id:"file1",name:"instructions.txt",type:"text",size:"1 KB"}]:[],isGraded:!1}));l(a)}else W||(await new Promise(a=>setTimeout(a,800)),l(Zs))}catch(a){console.error("Error processing activities:",a),y("Erro ao processar as atividades")}})()},[t,B,W,Q]);const F=u.useMemo(()=>{let o=[...i];if(S){const a=S.toLowerCase();o=o.filter(x=>x.title.toLowerCase().includes(a)||x.description&&x.description.toLowerCase().includes(a))}if(f!=="all")if(["assignment","quiz","material"].includes(f))o=o.filter(a=>a.type===f);else switch(f){case"pending":o=o.filter(a=>a.dueDate&&Rt(me(a.dueDate),new Date)&&(!a.submissionCount||a.submissionCount<a.totalStudents));break;case"submitted":o=o.filter(a=>a.status==="submitted"||a.status==="graded");break;case"graded":o=o.filter(a=>a.status==="graded");break;case"overdue":o=o.filter(a=>a.dueDate&&Qe(me(a.dueDate),new Date)&&(!a.submissionCount||a.submissionCount<a.totalStudents));break}return o.sort((a,x)=>{switch(b){case"newest":return new Date(x.createdAt)-new Date(a.createdAt);case"oldest":return new Date(a.createdAt)-new Date(x.createdAt);case"dueDate":return a.dueDate?x.dueDate?new Date(a.dueDate)-new Date(x.dueDate):-1:1;case"title":return a.title.localeCompare(x.title);default:return 0}}),o},[i,S,f,b]),V=(o,a)=>{w(a),v(a==="all"?"all":a)},xe=(o,a)=>{U(o.currentTarget),o.currentTarget.dataset.activityId=a},oe=()=>{U(null)},J=o=>{const a=L?.dataset?.activityId;if(oe(),!!a)switch(o){case"view":s(`/dashboard/classes/${t}/activities/${a}`);break;case"edit":s(`/dashboard/classes/${t}/activities/${a}/edit`);break;case"grade":s(`/dashboard/classes/${t}/activities/${a}/grade`);break;case"duplicate":console.log("Duplicate activity:",a);break;case"delete":window.confirm("Tem certeza que deseja excluir esta atividade?")&&(console.log("Delete activity:",a),l(x=>x.filter(h=>h.id!==a)));break}},he=o=>{o.target.checked?I(F.map(a=>a.id)):I([])},ue=(o,a)=>{const x=m.indexOf(a);let h=[];x===-1?h=h.concat(m,a):x===0?h=h.concat(m.slice(1)):x===m.length-1?h=h.concat(m.slice(0,-1)):x>0&&(h=h.concat(m.slice(0,x),m.slice(x+1))),I(h)},fe=o=>{switch(o){case"delete":window.confirm(`Tem certeza que deseja excluir as ${m.length} atividades selecionadas?`)&&(console.log("Delete activities:",m),l(a=>a.filter(x=>!m.includes(x.id))),I([]));break;case"publish":console.log("Publish activities:",m),I([]);break;case"unpublish":console.log("Unpublish activities:",m),I([]);break}},be=o=>{if(!o.dueDate)return null;const a=me(o.dueDate),x=Qe(a,new Date);return o.status==="graded"?{text:"Avaliado",color:"success"}:o.status==="submitted"?{text:"Entregue",color:"info"}:x?{text:"Atrasado",color:"error"}:Lt(a)?{text:"Vence hoje",color:"warning"}:null},ge=o=>{switch(o){case"assignment":return e.jsx(Xe,{});case"quiz":return e.jsx(tt,{});case"material":return e.jsx(Ze,{});default:return e.jsx(Re,{})}},$=o=>{const a=be(o),x=m.includes(o.id);return e.jsxs(ke,{sx:{height:"100%",display:"flex",flexDirection:"column",border:x?`2px solid ${r.palette.primary.main}`:"1px solid",borderColor:"divider","&:hover":{boxShadow:r.shadows[4]}},children:[e.jsxs(Ut,{component:"div",onClick:()=>s(`/dashboard/classes/${t}/activities/${o.id}`),sx:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[e.jsx(ts,{avatar:e.jsx(_e,{sx:{bgcolor:r.palette.primary.main},children:ge(o.type)}),action:e.jsx(ye,{checked:x,onClick:h=>h.stopPropagation(),onChange:h=>ue(h,o.id),inputProps:{"aria-label":"selecionar atividade"},sx:{p:1}}),title:e.jsx(C,{variant:"subtitle1",noWrap:!0,sx:{width:"100%"},children:o.title}),subheader:e.jsx(C,{variant:"body2",color:"text.secondary",noWrap:!0,children:o.type==="assignment"?"Trabalho":o.type==="quiz"?"Questionário":"Material"}),sx:{width:"100%",p:1.5,pb:0}}),e.jsxs(we,{sx:{width:"100%",p:2,pt:0},children:[e.jsx(C,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",mb:1.5,minHeight:60},children:o.description||"Sem descrição"}),o.dueDate&&e.jsxs(z,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Us,{fontSize:"small",color:"action",sx:{mr:1}}),e.jsx(C,{variant:"body2",color:"text.secondary",children:We(me(o.dueDate),"dd/MM/yyyy 'às' HH:mm")})]}),o.points>0&&e.jsxs(z,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Le,{fontSize:"small",color:"action",sx:{mr:1}}),e.jsxs(C,{variant:"body2",color:"text.secondary",children:[o.points," ",o.points===1?"ponto":"pontos"]})]}),o.type==="quiz"&&o.timeLimit&&e.jsxs(z,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Pt,{fontSize:"small",color:"action",sx:{mr:1}}),e.jsxs(C,{variant:"body2",color:"text.secondary",children:[o.timeLimit," min • ",o.questionCount," perguntas"]})]}),a&&e.jsx(ze,{label:a.text,size:"small",color:a.color,variant:"outlined",sx:{mt:1}}),o.attachments&&o.attachments.length>0&&e.jsxs(z,{sx:{mt:1.5},children:[e.jsxs(C,{variant:"caption",color:"text.secondary",display:"block",gutterBottom:!0,children:["Anexos (",o.attachments.length,"):"]}),o.attachments.slice(0,2).map((h,Js)=>e.jsx(ze,{icon:e.jsx(Re,{}),label:`${h.name} (${h.size})`,size:"small",variant:"outlined",sx:{mr:.5,mb:.5,maxWidth:"100%"},onClick:nt=>{nt.stopPropagation(),console.log("Download file:",h.id)}},h.id)),o.attachments.length>2&&e.jsxs(C,{variant:"caption",color:"text.secondary",display:"block",sx:{mt:.5},children:["+",o.attachments.length-2," mais"]})]}),o.type==="assignment"&&o.submissionCount!==void 0&&e.jsxs(z,{sx:{mt:2,mb:1},children:[e.jsxs(z,{display:"flex",justifyContent:"space-between",mb:.5,children:[e.jsx(C,{variant:"caption",color:"text.secondary",children:"Entregas"}),e.jsxs(C,{variant:"caption",color:"text.secondary",children:[o.submissionCount,"/",o.totalStudents]})]}),e.jsx(Ke,{variant:"determinate",value:o.submissionCount/o.totalStudents*100,sx:{height:6,borderRadius:3}})]}),o.type==="quiz"&&o.averageScore!==void 0&&e.jsxs(z,{sx:{mt:2,mb:1},children:[e.jsxs(z,{display:"flex",justifyContent:"space-between",mb:.5,children:[e.jsx(C,{variant:"caption",color:"text.secondary",children:"Média da turma"}),e.jsxs(C,{variant:"caption",color:"text.secondary",children:[o.averageScore.toFixed(1),"/",o.points]})]}),e.jsx(Ke,{variant:"determinate",value:o.averageScore/o.points*100,color:o.averageScore>=o.points*.7?"success":"primary",sx:{height:6,borderRadius:3}})]})]})]}),e.jsx(Ce,{}),e.jsxs(_t,{sx:{p:1,justifyContent:"space-between"},children:[e.jsxs(z,{children:[o.type==="assignment"&&e.jsx(te,{title:"Ver entregas",children:e.jsx(ae,{size:"small",onClick:h=>{h.stopPropagation(),s(`/dashboard/classes/${t}/activities/${o.id}/submissions`)},children:e.jsx(Ye,{fontSize:"small"})})}),o.type==="quiz"&&o.averageScore!==void 0&&e.jsx(te,{title:"Ver resultados",children:e.jsx(ae,{size:"small",onClick:h=>{h.stopPropagation(),s(`/dashboard/classes/${t}/activities/${o.id}/results`)},children:e.jsx(BarChartIcon,{fontSize:"small"})})}),o.viewCount!==void 0&&e.jsx(te,{title:`Visualizado ${o.viewCount} vezes`,children:e.jsxs(z,{display:"inline-flex",alignItems:"center",ml:1,color:"text.secondary",children:[e.jsx(Te,{fontSize:"small",sx:{mr:.5}}),e.jsx(C,{variant:"caption",children:o.viewCount})]})})]}),e.jsx(z,{children:e.jsx(ae,{size:"small",onClick:h=>{h.stopPropagation(),xe(h,o.id)},children:e.jsx(et,{fontSize:"small"})})})]})]},o.id)},E=o=>{const a=be(o),x=m.includes(o.id);return e.jsx(dt.Fragment,{children:e.jsx(Fs,{sx:{p:0,bgcolor:x?"action.selected":"background.paper",border:"1px solid",borderColor:"divider",mb:1,borderRadius:1,overflow:"hidden","&:hover":{boxShadow:r.shadows[1]}},secondaryAction:e.jsxs(z,{display:"flex",alignItems:"center",children:[o.dueDate&&e.jsx(C,{variant:"body2",color:"text.secondary",sx:{mr:2,display:{xs:"none",md:"block"},whiteSpace:"nowrap"},children:We(me(o.dueDate),"dd/MM/yyyy 'às' HH:mm")}),a&&e.jsx(ze,{label:a.text,size:"small",color:a.color,variant:"outlined",sx:{mr:1,display:{xs:"none",sm:"flex"}}}),e.jsx(ye,{checked:x,onChange:h=>ue(h,o.id),onClick:h=>h.stopPropagation(),inputProps:{"aria-label":"selecionar atividade"},sx:{p:1}}),e.jsx(ae,{edge:"end","aria-label":"mais opções",onClick:h=>xe(h,o.id),children:e.jsx(et,{})})]}),children:e.jsxs(Ms,{component:"div",onClick:()=>s(`/dashboard/classes/${t}/activities/${o.id}`),sx:{py:1.5},children:[e.jsxs(le,{sx:{minWidth:40},children:[e.jsx(ye,{checked:x,tabIndex:-1,disableRipple:!0,onClick:h=>{h.stopPropagation(),ue(h,o.id)},inputProps:{"aria-label":"selecionar atividade"},sx:{p:0,mr:1}}),e.jsx(_e,{sx:{bgcolor:r.palette.primary.main,width:40,height:40},children:ge(o.type)})]}),e.jsx(ce,{primary:e.jsx(C,{variant:"subtitle1",noWrap:!0,children:o.title}),secondary:e.jsxs(e.Fragment,{children:[e.jsx(C,{component:"span",variant:"body2",color:"text.secondary",sx:{display:"inline",mr:1},children:o.type==="assignment"?"Trabalho":o.type==="quiz"?"Questionário":"Material"}),o.points>0&&e.jsxs(C,{component:"span",variant:"body2",color:"text.secondary",sx:{display:"inline",mr:1},children:["• ",o.points," ",o.points===1?"ponto":"pontos"]}),o.type==="quiz"&&o.timeLimit&&e.jsxs(C,{component:"span",variant:"body2",color:"text.secondary",sx:{display:"inline"},children:["• ",o.timeLimit," min • ",o.questionCount," perguntas"]}),e.jsx(C,{variant:"body2",color:"text.secondary",sx:{mt:.5,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:o.description||"Sem descrição"})]}),secondaryTypographyProps:{component:"div"},sx:{mr:2,"& .MuiListItemText-primary":{display:"flex",alignItems:"center"}}}),e.jsxs(z,{sx:{display:{xs:"none",sm:"flex"},flexDirection:"column",alignItems:"flex-end",ml:2},children:[o.type==="assignment"&&o.submissionCount!==void 0&&e.jsx(te,{title:`${o.submissionCount} de ${o.totalStudents} alunos entregaram`,children:e.jsxs(z,{display:"flex",alignItems:"center",mb:.5,children:[e.jsx(Ye,{fontSize:"small",color:"action",sx:{mr:.5}}),e.jsxs(C,{variant:"body2",color:"text.secondary",children:[o.submissionCount,"/",o.totalStudents]})]})}),o.type==="quiz"&&o.averageScore!==void 0&&e.jsx(te,{title:`Média da turma: ${o.averageScore.toFixed(1)}/${o.points}`,children:e.jsxs(z,{display:"flex",alignItems:"center",children:[e.jsx(Le,{fontSize:"small",color:"action",sx:{mr:.5}}),e.jsxs(C,{variant:"body2",color:"text.secondary",children:[o.averageScore.toFixed(1),"/",o.points]})]})}),o.viewCount!==void 0&&e.jsx(te,{title:`Visualizado ${o.viewCount} vezes`,children:e.jsxs(z,{display:"flex",alignItems:"center",mt:.5,children:[e.jsx(Te,{fontSize:"small",color:"action",sx:{mr:.5}}),e.jsx(C,{variant:"body2",color:"text.secondary",children:o.viewCount})]})})]})]})})},o.id)};return e.jsxs(z,{children:[e.jsx(ut,{title:"Atividades da Turma",breadcrumbs:[{title:"Dashboard",href:"/dashboard"},{title:"Turmas",href:"/dashboard/classes"},{title:t,href:`/dashboard/classes/${t}`},{title:"Atividades"}],action:e.jsx(re,{variant:"contained",color:"primary",startIcon:e.jsx(qe,{}),onClick:()=>s(`/dashboard/classes/${t}/activities/new`),children:"Nova Atividade"})}),e.jsxs(ke,{sx:{mb:3},children:[e.jsx(we,{sx:{p:2},children:e.jsxs(pe,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(pe,{item:!0,xs:12,sm:6,md:4,children:e.jsx(jt,{fullWidth:!0,variant:"outlined",size:"small",placeholder:"Buscar atividades...",value:S,onChange:o=>P(o.target.value),InputProps:{startAdornment:e.jsx(Qs,{color:"action",sx:{mr:1}}),endAdornment:S&&e.jsx(ae,{size:"small",onClick:()=>P(""),edge:"end",children:e.jsx(Je,{fontSize:"small"})})}})}),e.jsx(pe,{item:!0,xs:12,sm:6,md:8,children:e.jsxs(z,{display:"flex",justifyContent:"flex-end",flexWrap:"wrap",gap:1,children:[e.jsx(re,{variant:"outlined",size:"small",startIcon:e.jsx(Gs,{}),onClick:o=>N(o.currentTarget),sx:{textTransform:"none"},children:st.find(o=>o.value===f)?.label||"Filtrar"}),e.jsxs(Pe,{anchorEl:T,open:!!T,onClose:()=>N(null),children:[e.jsx(ee,{disabled:!0,children:e.jsx(C,{variant:"subtitle2",color:"text.secondary",children:"Filtrar por tipo"})}),st.map(o=>e.jsx(ee,{selected:f===o.value,onClick:()=>{v(o.value),N(null)},children:o.label},o.value))]}),e.jsx(re,{variant:"outlined",size:"small",startIcon:e.jsx(_s,{}),onClick:o=>G(o.currentTarget),sx:{textTransform:"none"},children:ot.find(o=>o.value===b)?.label||"Ordenar"}),e.jsx(Pe,{anchorEl:D,open:!!D,onClose:()=>G(null),children:ot.map(o=>e.jsx(ee,{selected:b===o.value,onClick:()=>{g(o.value),G(null)},children:o.label},o.value))}),e.jsxs(z,{display:"flex",border:1,borderColor:"divider",borderRadius:1,children:[e.jsx(te,{title:"Visualização em lista",children:e.jsx(ae,{size:"small",onClick:()=>M("list"),color:k==="list"?"primary":"default",sx:{borderRadius:0,borderTopLeftRadius:4,borderBottomLeftRadius:4},children:e.jsx(Ks,{})})}),e.jsx(Ce,{orientation:"vertical",flexItem:!0}),e.jsx(te,{title:"Visualização em grade",children:e.jsx(ae,{size:"small",onClick:()=>M("grid"),color:k==="grid"?"primary":"default",sx:{borderRadius:0,borderTopRightRadius:4,borderBottomRightRadius:4},children:e.jsx(Xs,{})})})]})]})})]})}),e.jsxs(zt,{value:j,onChange:V,variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider","& .MuiTabs-flexContainer":{borderBottom:"none"}},children:[e.jsx(ie,{label:"Todas",value:"all",sx:{textTransform:"none",minWidth:"auto",px:2}}),e.jsx(ie,{label:"Trabalhos",value:"assignment",icon:e.jsx(Xe,{fontSize:"small",sx:{mb:0,mr:.5}}),iconPosition:"start",sx:{textTransform:"none",minWidth:"auto",px:2}}),e.jsx(ie,{label:"Questionários",value:"quiz",icon:e.jsx(tt,{fontSize:"small",sx:{mb:0,mr:.5}}),iconPosition:"start",sx:{textTransform:"none",minWidth:"auto",px:2}}),e.jsx(ie,{label:"Materiais",value:"material",icon:e.jsx(Ze,{fontSize:"small",sx:{mb:0,mr:.5}}),iconPosition:"start",sx:{textTransform:"none",minWidth:"auto",px:2}}),e.jsx(ie,{label:"Pendentes",value:"pending",icon:e.jsx(Ws,{fontSize:"small",sx:{mb:0,mr:.5}}),iconPosition:"start",sx:{textTransform:"none",minWidth:"auto",px:2}}),e.jsx(ie,{label:"Atrasados",value:"overdue",icon:e.jsx(Ys,{fontSize:"small",color:"error",sx:{mb:0,mr:.5}}),iconPosition:"start",sx:{textTransform:"none",minWidth:"auto",px:2}})]})]}),m.length>0&&e.jsx(ke,{sx:{mb:3,bgcolor:"action.selected"},children:e.jsx(we,{sx:{p:1.5},children:e.jsxs(z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(z,{display:"flex",alignItems:"center",children:[e.jsx(ye,{checked:m.length===F.length,indeterminate:m.length>0&&m.length<F.length,onChange:he,inputProps:{"aria-label":"selecionar todas as atividades"},sx:{mr:1}}),e.jsxs(C,{variant:"subtitle2",children:[m.length," ",m.length===1?"atividade selecionada":"atividades selecionadas"]})]}),e.jsxs(z,{children:[e.jsx(re,{size:"small",startIcon:e.jsx(Ue,{}),onClick:()=>fe("delete"),sx:{mr:1},children:"Excluir"}),e.jsx(re,{size:"small",variant:"contained",startIcon:e.jsx(qs,{}),onClick:()=>fe("publish"),sx:{mr:1},children:"Publicar"}),e.jsx(re,{size:"small",variant:"outlined",startIcon:e.jsx(Je,{}),onClick:()=>I([]),children:"Cancelar"})]})]})})}),d?e.jsx(z,{display:"flex",justifyContent:"center",my:8,children:e.jsx(ht,{})}):p?e.jsx(Alert,{severity:"error",sx:{mb:3},children:p}):F.length===0?e.jsxs(z,{textAlign:"center",py:6,children:[e.jsx(Re,{sx:{fontSize:64,color:"text.disabled",mb:2}}),e.jsx(C,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Nenhuma atividade encontrada"}),e.jsx(C,{variant:"body2",color:"text.secondary",paragraph:!0,children:S||f!=="all"?"Tente ajustar sua busca ou filtros.":"Comece criando uma nova atividade para esta turma."}),!S&&f==="all"&&e.jsx(re,{variant:"contained",color:"primary",startIcon:e.jsx(qe,{}),onClick:()=>s(`/dashboard/classes/${t}/activities/new`),sx:{mt:2},children:"Criar Primeira Atividade"})]}):k==="grid"?e.jsx(pe,{container:!0,spacing:3,children:F.map(o=>e.jsx(pe,{item:!0,xs:12,sm:6,md:4,lg:3,children:$(o)},o.id))}):e.jsx(St,{disablePadding:!0,children:F.map(o=>E(o))}),e.jsxs(Pe,{anchorEl:L,open:!!L,onClose:oe,onClick:oe,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e.jsxs(ee,{onClick:()=>J("view"),children:[e.jsx(le,{children:e.jsx(Te,{fontSize:"small"})}),e.jsx(ce,{children:"Visualizar"})]}),e.jsxs(ee,{onClick:()=>J("edit"),children:[e.jsx(le,{children:e.jsx(It,{fontSize:"small"})}),e.jsx(ce,{children:"Editar"})]}),e.jsxs(ee,{onClick:()=>J("grade"),children:[e.jsx(le,{children:e.jsx(Le,{fontSize:"small"})}),e.jsx(ce,{children:"Avaliar"})]}),e.jsx(Ce,{}),e.jsxs(ee,{onClick:()=>J("duplicate"),children:[e.jsx(le,{children:e.jsx(FileCopyIcon,{fontSize:"small"})}),e.jsx(ce,{children:"Duplicar"})]}),e.jsx(Ce,{}),e.jsxs(ee,{onClick:()=>J("delete"),sx:{color:"error.main"},children:[e.jsx(le,{sx:{color:"error.main"},children:e.jsx(Ue,{fontSize:"small"})}),e.jsx(ce,{children:"Excluir"})]})]})]})};export{yo as default};
