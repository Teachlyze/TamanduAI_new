const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StudentCard-R6gFjsRj.js","assets/main-NgjJy_CG.js","assets/main-Cl0sLNFQ.css","assets/badge-DS8upoqS.js","assets/user-CtDOwJP2.js","assets/graduation-cap-AfoLybfB.js","assets/ellipsis-vertical-CZUUuaw-.js","assets/square-pen-eBdyYMhc.js","assets/trash-2-Bhwmq7t6.js","assets/mail-DQtjMnR0.js","assets/phone-C1xfcdjP.js","assets/StudentListItem-Clz_uLSS.js"])))=>i.map(i=>d[i]);
import{f as se,r,g as de,j as e,aM as oe,m,i as v,aN as Q,x,F as f,H as A,U as X,y as N,ah as ne,K as ce,aO as K,aP as W,aQ as Y,aR as Z,aS as g,aT as M,aU as V,aV as z,D as xe,$ as he,aW as q,aX as J,aY as u,aZ as ee,a_ as ae,a$ as me,_ as re,b0 as b}from"./main-NgjJy_CG.js";import{u as ge}from"./use-toast-GUBWlXfL.js";import{G as ue}from"./graduation-cap-AfoLybfB.js";import{U as be}from"./user-check-C-AAn5f8.js";import{C as pe}from"./chart-no-axes-column-Ds0A47fU.js";import{U as je}from"./user-plus-DbpNqADK.js";import{L as ye}from"./list-CKRPLVFM.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]],fe=se("funnel-x",ve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],we=se("layout-grid",Ne);function ke(o,n){const[d,P]=r.useState(o);return r.useEffect(()=>{const w=setTimeout(()=>{P(o)},n);return()=>{clearTimeout(w)}},[o,n]),d}const Ce=r.lazy(()=>re(()=>import("./StudentCard-R6gFjsRj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),Se=r.lazy(()=>re(()=>import("./StudentListItem-Clz_uLSS.js"),__vite__mapDeps([11,1,2,3,9,10,6,7,8]))),Ae=[{id:1,name:"Ana Silva",email:"ana.silva@email.com",phone:"(11) 99999-9999",status:"active",classes:["Matemática 9º A","Física 9º A"],avgGrade:8.5,joinDate:"2024-01-15"},{id:2,name:"Bruno Santos",email:"bruno.santos@email.com",phone:"(11) 88888-8888",status:"active",classes:["História 8º B","Geografia 8º B","Português 8º B"],avgGrade:7.8,joinDate:"2024-02-01"},{id:3,name:"Carla Oliveira",email:"carla.oliveira@email.com",phone:"(11) 77777-7777",status:"pending",classes:["Química 1º A"],avgGrade:9.2,joinDate:"2024-03-10"},{id:4,name:"Diego Costa",email:"diego.costa@email.com",phone:"(11) 66666-6666",status:"active",classes:["Biologia 2º C","Química 2º C"],avgGrade:6.9,joinDate:"2024-01-20"},{id:5,name:"Elena Rodriguez",email:"elena.rodriguez@email.com",phone:"(11) 55555-5555",status:"inactive",classes:["Inglês 7º A"],avgGrade:8.1,joinDate:"2023-11-15"}],ze=()=>{const o=de(),{toast:n}=ge(),[d,P]=r.useState(Ae),[w,G]=r.useState(""),[p,E]=r.useState("all"),[j,$]=r.useState("all"),[y,I]=r.useState("grid"),[l,T]=r.useState(1),[_,F]=r.useState(!1),[c]=r.useState(12),k=ke(w,300),te=r.useMemo(()=>{const a=d.flatMap(s=>s.classes||[]);return[...new Set(a)].sort()},[d]),C=r.useMemo(()=>d.filter(a=>{const s=a.name.toLowerCase().includes(k.toLowerCase())||a.email.toLowerCase().includes(k.toLowerCase()),t=p==="all"||a.classes?.includes(p),ie=j==="all"||a.status===j;return s&&t&&ie}),[d,k,p,j]),i=r.useMemo(()=>Math.ceil(C.length/c),[C.length,c]),D=r.useMemo(()=>{const a=(l-1)*c;return C.slice(a,a+c)},[C,l,c]),B=r.useMemo(()=>{const a=[];if(i<=5)for(let t=1;t<=i;t++)a.push(t);else if(l<=3){for(let t=1;t<=4;t++)a.push(t);a.push("..."),a.push(i)}else if(l>=i-2){a.push(1),a.push("...");for(let t=i-3;t<=i;t++)a.push(t)}else{a.push(1),a.push("...");for(let t=l-1;t<=l+1;t++)a.push(t);a.push("..."),a.push(i)}return a},[l,i]),S=r.useMemo(()=>({total:d.length,active:d.filter(a=>a.status==="active").length,avgGrade:d.length>0?(d.reduce((a,s)=>a+(s.avgGrade||0),0)/d.length).toFixed(1):"0.0",newStudents:d.filter(a=>{const s=new Date(a.joinDate),t=new Date;return t.setMonth(t.getMonth()-1),s>=t}).length}),[d]),R=r.useCallback(a=>{o(`/dashboard/students/${a.id}`)},[o]),U=r.useCallback(a=>{o(`/dashboard/students/${a.id}/edit`)},[o]),L=r.useCallback(a=>{P(s=>s.filter(t=>t.id!==a.id)),n({title:"Aluno removido",description:`${a.name} foi removido com sucesso.`})},[n]);r.useCallback((a,s=null)=>{switch(a){case"view":o(`/dashboard/students/${s.id}`);break;case"edit":o(`/dashboard/students/${s.id}/edit`);break;case"delete":L(s);break;case"invite":o("/dashboard/students/invite");break}},[o]);const le=r.useCallback(()=>{F(!0),setTimeout(()=>{F(!1),n({title:"Lista atualizada",description:"A lista de alunos foi atualizada com sucesso."})},1e3)},[n]),h=r.useCallback(a=>{T(a)},[]),H=r.useCallback(()=>{G(""),E("all"),$("all"),T(1)},[]);r.useEffect(()=>{T(1)},[k,p,j]);const O=()=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((a,s)=>e.jsxs(x,{className:"h-64",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(b,{className:"h-14 w-14 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{className:"h-4 w-32"}),e.jsx(b,{className:"h-3 w-24"})]})]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{className:"h-3 w-full"}),e.jsx(b,{className:"h-3 w-3/4"}),e.jsx(b,{className:"h-8 w-20"})]})})]},s))});return e.jsx(oe,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10 rounded-2xl blur-xl text-white hover:opacity-90"}),e.jsx("div",{className:"relative bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-gray-700/20 shadow-xl",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg text-white hover:opacity-90",children:e.jsx(ue,{className:"h-6 w-6 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent text-white hover:opacity-90",children:"Gerenciar Alunos"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Alunos aparecem automaticamente ao aceitar convites de turmas"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(v,{variant:"outline",size:"sm",onClick:le,disabled:_,className:"bg-white dark:bg-slate-900 text-foreground border-border bg-white/50 dark:bg-gray-700/50 backdrop-blur-sm border-white/20 dark:border-gray-600/20 hover:bg-white/80 dark:hover:bg-gray-600/80",children:[e.jsx(Q,{className:`h-4 w-4 ${_?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline ml-2",children:"Atualizar"})]})})]})})]}),e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(x,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total de Alunos"}),e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-white hover:opacity-90",children:e.jsx(X,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:S.total}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"+5 em relação ao mês passado"})]})]}),e.jsxs(x,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Alunos Ativos"}),e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-emerald-500/20 to-green-500/20 text-white hover:opacity-90",children:e.jsx(be,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})})]}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:S.active}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Estudando ativamente"})]})]}),e.jsxs(x,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Média Geral"}),e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-amber-500/20 to-orange-500/20 text-white hover:opacity-90",children:e.jsx(pe,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:S.avgGrade}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"+0.3 em relação ao mês passado"})]})]}),e.jsxs(x,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs(f,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(A,{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Novos Alunos"}),e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500/20 to-indigo-500/20 text-white hover:opacity-90",children:e.jsx(je,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:S.newStudents}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"+2 em relação ao mês passado"})]})]})]}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(x,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Filtrar Alunos"}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"relative flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500 dark:text-gray-400 z-10"}),e.jsx(ce,{placeholder:"Buscar alunos por nome ou e-mail...",className:"bg-white dark:bg-slate-900 text-foreground pl-9 pr-4 py-2.5 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-500 dark:focus:border-blue-500 w-full transition-all duration-200",value:w,onChange:a=>G(a.target.value)})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-gray-50 dark:bg-gray-800/50 px-4 py-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mr-2",children:"Filtros:"}),e.jsxs(K,{value:p,onValueChange:E,children:[e.jsx(W,{className:"w-[180px] bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 transition-colors rounded-lg",children:e.jsx(Y,{placeholder:"Todas as turmas",className:"text-sm"})}),e.jsxs(Z,{children:[e.jsx(g,{value:"all",children:"Todas as turmas"}),te.map((a,s)=>e.jsx(g,{value:a,children:a},s))]})]}),e.jsxs(K,{value:j,onValueChange:$,children:[e.jsx(W,{className:"w-[140px] bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 transition-colors rounded-lg",children:e.jsx(Y,{placeholder:"Status",className:"text-sm"})}),e.jsxs(Z,{children:[e.jsx(g,{value:"all",children:"Todos"}),e.jsx(g,{value:"active",children:"Ativos"}),e.jsx(g,{value:"inactive",children:"Inativos"}),e.jsx(g,{value:"pending",children:"Pendentes"})]})]}),e.jsxs(M,{children:[e.jsx(V,{asChild:!0,children:e.jsx(v,{variant:"outline",size:"icon",className:"bg-white dark:bg-slate-900 text-foreground border-border dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors rounded-lg",onClick:H,children:e.jsx(fe,{className:"h-4 w-4"})})}),e.jsx(z,{children:e.jsx("p",{children:"Limpar filtros"})})]}),e.jsxs("div",{className:"flex items-center gap-1 p-1 rounded-lg bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 ml-auto",children:[e.jsxs(M,{children:[e.jsx(V,{asChild:!0,children:e.jsx(v,{variant:y==="grid"?"default":"ghost",size:"icon",className:y==="grid"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"",onClick:()=>I("grid"),children:e.jsx(we,{className:"h-4 w-4"})})}),e.jsx(z,{children:e.jsx("p",{children:"Visualização em grade"})})]}),e.jsxs(M,{children:[e.jsx(V,{asChild:!0,children:e.jsx(v,{variant:y==="list"?"default":"ghost",size:"icon",className:y==="list"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"",onClick:()=>I("list"),children:e.jsx(ye,{className:"h-4 w-4"})})}),e.jsx(z,{children:e.jsx("p",{children:"Visualização em lista"})})]})]})]})]})]})})}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(x,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-white/20 dark:border-gray-700/20 shadow-xl min-h-[400px]",children:e.jsx("div",{className:"p-6",children:_?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(xe,{className:"h-12 w-12 animate-spin text-blue-500 mx-auto"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Carregando alunos..."})]})}):D.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-xl text-white hover:opacity-90"}),e.jsx(X,{className:"relative h-16 w-16 mx-auto text-gray-400 mb-4"})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Nenhum aluno encontrado"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Tente ajustar sua busca ou filtros"}),e.jsxs(v,{variant:"outline",className:"bg-white dark:bg-slate-900 text-foreground border-border bg-white/50 dark:bg-gray-700/50 border-white/20 dark:border-gray-600/20 hover:bg-white/80 dark:hover:bg-gray-600/80",onClick:H,children:[e.jsx(Q,{className:"mr-2 h-4 w-4"})," Limpar filtros"]})]}):y==="grid"?e.jsxs("div",{className:"space-y-6",children:[e.jsx(Suspense,{fallback:e.jsx(O,{}),children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.jsx(he,{children:D.map((a,s)=>e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:s%c*.05},className:"h-full",children:e.jsx(Ce,{student:a,onView:R,onEdit:U,onDelete:L})},a.id))})})}),i>1&&e.jsx("div",{className:"flex justify-center mt-6 w-full",children:e.jsx(q,{children:e.jsxs(J,{className:"flex items-center gap-1",children:[e.jsx(u,{children:e.jsx(ee,{onClick:()=>l>1&&h(l-1),className:l===1?"pointer-events-none opacity-50":"cursor-pointer"})}),B.map((a,s)=>e.jsx(u,{children:a==="..."?e.jsx("span",{className:"px-2 py-1",children:"..."}):e.jsx("button",{onClick:()=>h(a),className:`px-3 py-1 rounded-md ${l===a?"bg-blue-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:a})},s)),e.jsx(u,{children:e.jsx(ae,{onClick:()=>l<i&&h(l+1),className:l===i?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl overflow-hidden border border-white/20 dark:border-gray-600/20",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-gray-50/50 dark:bg-gray-700/50 text-sm font-medium text-gray-600 dark:text-gray-300 border-b border-white/20 dark:border-gray-600/20",children:[e.jsx("div",{className:"col-span-4",children:"Nome"}),e.jsx("div",{className:"col-span-3",children:"Turma"}),e.jsx("div",{className:"col-span-2",children:"Status"}),e.jsx("div",{className:"col-span-2 text-center",children:"Atividades"}),e.jsx("div",{className:"col-span-1"})]}),e.jsx(me,{className:"h-[500px]",children:e.jsx("div",{className:"divide-y divide-white/10 dark:divide-gray-600/20",children:e.jsx(Suspense,{fallback:e.jsx(O,{}),children:D.map((a,s)=>e.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s%c*.03},children:e.jsx(Se,{student:a,onView:R,onEdit:U,onDelete:L})},a.id))})})})]}),i>1&&e.jsx("div",{className:"flex justify-center w-full mt-4",children:e.jsx(q,{children:e.jsxs(J,{className:"flex items-center gap-1",children:[e.jsx(u,{children:e.jsx(ee,{onClick:()=>l>1&&h(l-1),className:l===1?"pointer-events-none opacity-50":"cursor-pointer"})}),B.map((a,s)=>e.jsx(u,{children:a==="..."?e.jsx("span",{className:"px-2 py-1",children:"..."}):e.jsx("button",{onClick:()=>h(a),className:`px-3 py-1 rounded-md ${l===a?"bg-blue-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:a})},s)),e.jsx(u,{children:e.jsx(ae,{onClick:()=>l<i&&h(l+1),className:l===i?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})})})})]})})})};export{ze as default};
