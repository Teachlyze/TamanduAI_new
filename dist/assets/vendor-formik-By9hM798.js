import{A as H,B as br,C as hr,D as Tr}from"./utils-vendor-DsQmHAQY.js";import{r as f}from"./react-vendor-C2HUFn5N.js";import{i as L}from"./vendor-react-fast-compare-BAoalpv7.js";var Pr=function(t){return Gr(t)&&!Hr(t)};function Gr(e){return!!e&&typeof e=="object"}function Hr(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Kr(e)}var Wr=typeof Symbol=="function"&&Symbol.for,$r=Wr?Symbol.for("react.element"):60103;function Kr(e){return e.$$typeof===$r}function zr(e){return Array.isArray(e)?[]:{}}function $(e,t){return t.clone!==!1&&t.isMergeableObject(e)?j(zr(e),e,t):e}function Yr(e,t,i){return e.concat(t).map(function(a){return $(a,i)})}function qr(e,t,i){var a={};return i.isMergeableObject(e)&&Object.keys(e).forEach(function(n){a[n]=$(e[n],i)}),Object.keys(t).forEach(function(n){!i.isMergeableObject(t[n])||!e[n]?a[n]=$(t[n],i):a[n]=j(e[n],t[n],i)}),a}function j(e,t,i){i=i||{},i.arrayMerge=i.arrayMerge||Yr,i.isMergeableObject=i.isMergeableObject||Pr;var a=Array.isArray(t),n=Array.isArray(e),c=a===n;return c?a?i.arrayMerge(e,t,i):qr(e,t,i):$(t,i)}j.all=function(t,i){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(a,n){return j(a,n,i)},{})};var er=j;function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},h.apply(this,arguments)}function mr(e,t){if(e==null)return{};var i={},a=Object.keys(e),n,c;for(c=0;c<a.length;c++)n=a[c],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}var Ar=f.createContext(void 0);Ar.displayName="FormikContext";function xr(){var e=f.useContext(Ar);return e}var _=function(t){return typeof t=="function"},K=function(t){return t!==null&&typeof t=="object"},Jr=function(t){return String(Math.floor(Number(t)))===t},Z=function(t){return Object.prototype.toString.call(t)==="[object String]"},rr=function(t){return K(t)&&_(t.then)};function b(e,t,i,a){a===void 0&&(a=0);for(var n=br(t);e&&a<n.length;)e=e[n[a++]];return a!==n.length&&!e||e===void 0?i:e}function w(e,t,i){for(var a=hr(e),n=a,c=0,v=br(t);c<v.length-1;c++){var S=v[c],F=b(e,v.slice(0,c+1));if(F&&(K(F)||Array.isArray(F)))n=n[S]=hr(F);else{var A=v[c+1];n=n[S]=Jr(A)&&Number(A)>=0?[]:{}}}return(c===0?e:n)[v[c]]===i?e:(i===void 0?delete n[v[c]]:n[v[c]]=i,c===0&&i===void 0&&delete a[v[c]],a)}function gr(e,t,i,a){i===void 0&&(i=new WeakMap),a===void 0&&(a={});for(var n=0,c=Object.keys(e);n<c.length;n++){var v=c[n],S=e[v];K(S)?i.get(S)||(i.set(S,!0),a[v]=Array.isArray(S)?[]:{},gr(S,t,i,a[v])):a[v]=t}return a}function Qr(e,t){switch(t.type){case"SET_VALUES":return h({},e,{values:t.payload});case"SET_TOUCHED":return h({},e,{touched:t.payload});case"SET_ERRORS":return L(e.errors,t.payload)?e:h({},e,{errors:t.payload});case"SET_STATUS":return h({},e,{status:t.payload});case"SET_ISSUBMITTING":return h({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return h({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return h({},e,{values:w(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return h({},e,{touched:w(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return h({},e,{errors:w(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return h({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return h({},e,{touched:gr(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return h({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return h({},e,{isSubmitting:!1});default:return e}}var D={},W={};function oe(e){var t=e.validateOnChange,i=t===void 0?!0:t,a=e.validateOnBlur,n=a===void 0?!0:a,c=e.validateOnMount,v=c===void 0?!1:c,S=e.isInitialValid,F=e.enableReinitialize,A=F===void 0?!1:F,ir=e.onSubmit,Ir=mr(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),s=h({validateOnChange:i,validateOnBlur:n,validateOnMount:v,onSubmit:ir},Ir),g=f.useRef(s.initialValues),M=f.useRef(s.initialErrors||D),V=f.useRef(s.initialTouched||W),U=f.useRef(s.initialStatus),I=f.useRef(!1),O=f.useRef({});f.useEffect(function(){return I.current=!0,function(){I.current=!1}},[]);var Rr=f.useState(0),_r=Rr[1],P=f.useRef({values:H(s.initialValues),errors:H(s.initialErrors)||D,touched:H(s.initialTouched)||W,status:H(s.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),p=P.current,y=f.useCallback(function(r){var u=P.current;P.current=Qr(u,r),u!==P.current&&_r(function(l){return l+1})},[]),ar=f.useCallback(function(r,u){return new Promise(function(l,o){var d=s.validate(r,u);d==null?l(D):rr(d)?d.then(function(E){l(E||D)},function(E){o(E)}):l(d)})},[s.validate]),z=f.useCallback(function(r,u){var l=s.validationSchema,o=_(l)?l(u):l,d=u&&o.validateAt?o.validateAt(u,r):Zr(r,o);return new Promise(function(E,T){d.then(function(){E(D)},function(C){C.name==="ValidationError"?E(Xr(C)):T(C)})})},[s.validationSchema]),nr=f.useCallback(function(r,u){return new Promise(function(l){return l(O.current[r].validate(u))})},[]),ur=f.useCallback(function(r){var u=Object.keys(O.current).filter(function(o){return _(O.current[o].validate)}),l=u.length>0?u.map(function(o){return nr(o,b(r,o))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(l).then(function(o){return o.reduce(function(d,E,T){return E==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||E&&(d=w(d,u[T],E)),d},{})})},[nr]),Fr=f.useCallback(function(r){return Promise.all([ur(r),s.validationSchema?z(r):{},s.validate?ar(r):{}]).then(function(u){var l=u[0],o=u[1],d=u[2],E=er.all([l,o,d],{arrayMerge:re});return E})},[s.validate,s.validationSchema,ur,ar,z]),R=m(function(r){return r===void 0&&(r=p.values),y({type:"SET_ISVALIDATING",payload:!0}),Fr(r).then(function(u){return I.current&&(y({type:"SET_ISVALIDATING",payload:!1}),y({type:"SET_ERRORS",payload:u})),u})});f.useEffect(function(){v&&I.current===!0&&L(g.current,s.initialValues)&&R(g.current)},[v,R]);var N=f.useCallback(function(r){var u=r&&r.values?r.values:g.current,l=r&&r.errors?r.errors:M.current?M.current:s.initialErrors||{},o=r&&r.touched?r.touched:V.current?V.current:s.initialTouched||{},d=r&&r.status?r.status:U.current?U.current:s.initialStatus;g.current=u,M.current=l,V.current=o,U.current=d;var E=function(){y({type:"RESET_FORM",payload:{isSubmitting:!!r&&!!r.isSubmitting,errors:l,touched:o,status:d,values:u,isValidating:!!r&&!!r.isValidating,submitCount:r&&r.submitCount&&typeof r.submitCount=="number"?r.submitCount:0}})};if(s.onReset){var T=s.onReset(p.values,pr);rr(T)?T.then(E):E()}else E()},[s.initialErrors,s.initialStatus,s.initialTouched,s.onReset]);f.useEffect(function(){I.current===!0&&!L(g.current,s.initialValues)&&A&&(g.current=s.initialValues,N(),v&&R(g.current))},[A,s.initialValues,N,v,R]),f.useEffect(function(){A&&I.current===!0&&!L(M.current,s.initialErrors)&&(M.current=s.initialErrors||D,y({type:"SET_ERRORS",payload:s.initialErrors||D}))},[A,s.initialErrors]),f.useEffect(function(){A&&I.current===!0&&!L(V.current,s.initialTouched)&&(V.current=s.initialTouched||W,y({type:"SET_TOUCHED",payload:s.initialTouched||W}))},[A,s.initialTouched]),f.useEffect(function(){A&&I.current===!0&&!L(U.current,s.initialStatus)&&(U.current=s.initialStatus,y({type:"SET_STATUS",payload:s.initialStatus}))},[A,s.initialStatus,s.initialTouched]);var lr=m(function(r){if(O.current[r]&&_(O.current[r].validate)){var u=b(p.values,r),l=O.current[r].validate(u);return rr(l)?(y({type:"SET_ISVALIDATING",payload:!0}),l.then(function(o){return o}).then(function(o){y({type:"SET_FIELD_ERROR",payload:{field:r,value:o}}),y({type:"SET_ISVALIDATING",payload:!1})})):(y({type:"SET_FIELD_ERROR",payload:{field:r,value:l}}),Promise.resolve(l))}else if(s.validationSchema)return y({type:"SET_ISVALIDATING",payload:!0}),z(p.values,r).then(function(o){return o}).then(function(o){y({type:"SET_FIELD_ERROR",payload:{field:r,value:b(o,r)}}),y({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Cr=f.useCallback(function(r,u){var l=u.validate;O.current[r]={validate:l}},[]),Or=f.useCallback(function(r){delete O.current[r]},[]),or=m(function(r,u){y({type:"SET_TOUCHED",payload:r});var l=u===void 0?n:u;return l?R(p.values):Promise.resolve()}),cr=f.useCallback(function(r){y({type:"SET_ERRORS",payload:r})},[]),sr=m(function(r,u){var l=_(r)?r(p.values):r;y({type:"SET_VALUES",payload:l});var o=u===void 0?i:u;return o?R(l):Promise.resolve()}),G=f.useCallback(function(r,u){y({type:"SET_FIELD_ERROR",payload:{field:r,value:u}})},[]),k=m(function(r,u,l){y({type:"SET_FIELD_VALUE",payload:{field:r,value:u}});var o=l===void 0?i:l;return o?R(w(p.values,r,u)):Promise.resolve()}),fr=f.useCallback(function(r,u){var l=u,o=r,d;if(!Z(r)){r.persist&&r.persist();var E=r.target?r.target:r.currentTarget,T=E.type,C=E.name,Q=E.id,X=E.value,Nr=E.checked,Sr=E.options,jr=E.multiple;l=u||C||Q,o=/number|range/.test(T)?(d=parseFloat(X),isNaN(d)?"":d):/checkbox/.test(T)?te(b(p.values,l),Nr,X):Sr&&jr?ee(Sr):X}l&&k(l,o)},[k,p.values]),Y=m(function(r){if(Z(r))return function(u){return fr(u,r)};fr(r)}),B=m(function(r,u,l){u===void 0&&(u=!0),y({type:"SET_FIELD_TOUCHED",payload:{field:r,value:u}});var o=l===void 0?n:l;return o?R(p.values):Promise.resolve()}),dr=f.useCallback(function(r,u){r.persist&&r.persist();var l=r.target,o=l.name,d=l.id,E=u||o||d;B(E,!0)},[B]),q=m(function(r){if(Z(r))return function(u){return dr(u,r)};dr(r)}),vr=f.useCallback(function(r){_(r)?y({type:"SET_FORMIK_STATE",payload:r}):y({type:"SET_FORMIK_STATE",payload:function(){return r}})},[]),Er=f.useCallback(function(r){y({type:"SET_STATUS",payload:r})},[]),yr=f.useCallback(function(r){y({type:"SET_ISSUBMITTING",payload:r})},[]),x=m(function(){return y({type:"SUBMIT_ATTEMPT"}),R().then(function(r){var u=r instanceof Error,l=!u&&Object.keys(r).length===0;if(l){var o;try{if(o=Vr(),o===void 0)return}catch(d){throw d}return Promise.resolve(o).then(function(d){return I.current&&y({type:"SUBMIT_SUCCESS"}),d}).catch(function(d){if(I.current)throw y({type:"SUBMIT_FAILURE"}),d})}else if(I.current&&(y({type:"SUBMIT_FAILURE"}),u))throw r})}),Mr=m(function(r){r&&r.preventDefault&&_(r.preventDefault)&&r.preventDefault(),r&&r.stopPropagation&&_(r.stopPropagation)&&r.stopPropagation(),x().catch(function(u){console.warn("Warning: An unhandled error was caught from submitForm()",u)})}),pr={resetForm:N,validateForm:R,validateField:lr,setErrors:cr,setFieldError:G,setFieldTouched:B,setFieldValue:k,setStatus:Er,setSubmitting:yr,setTouched:or,setValues:sr,setFormikState:vr,submitForm:x},Vr=m(function(){return ir(p.values,pr)}),Dr=m(function(r){r&&r.preventDefault&&_(r.preventDefault)&&r.preventDefault(),r&&r.stopPropagation&&_(r.stopPropagation)&&r.stopPropagation(),N()}),Lr=f.useCallback(function(r){return{value:b(p.values,r),error:b(p.errors,r),touched:!!b(p.touched,r),initialValue:b(g.current,r),initialTouched:!!b(V.current,r),initialError:b(M.current,r)}},[p.errors,p.touched,p.values]),wr=f.useCallback(function(r){return{setValue:function(l,o){return k(r,l,o)},setTouched:function(l,o){return B(r,l,o)},setError:function(l){return G(r,l)}}},[k,B,G]),Ur=f.useCallback(function(r){var u=K(r),l=u?r.name:r,o=b(p.values,l),d={name:l,value:o,onChange:Y,onBlur:q};if(u){var E=r.type,T=r.value,C=r.as,Q=r.multiple;E==="checkbox"?T===void 0?d.checked=!!o:(d.checked=!!(Array.isArray(o)&&~o.indexOf(T)),d.value=T):E==="radio"?(d.checked=o===T,d.value=T):C==="select"&&Q&&(d.value=d.value||[],d.multiple=!0)}return d},[q,Y,p.values]),J=f.useMemo(function(){return!L(g.current,p.values)},[g.current,p.values]),kr=f.useMemo(function(){return typeof S<"u"?J?p.errors&&Object.keys(p.errors).length===0:S!==!1&&_(S)?S(s):S:p.errors&&Object.keys(p.errors).length===0},[S,J,p.errors,s]),Br=h({},p,{initialValues:g.current,initialErrors:M.current,initialTouched:V.current,initialStatus:U.current,handleBlur:q,handleChange:Y,handleReset:Dr,handleSubmit:Mr,resetForm:N,setErrors:cr,setFormikState:vr,setFieldTouched:B,setFieldValue:k,setFieldError:G,setStatus:Er,setSubmitting:yr,setTouched:or,setValues:sr,submitForm:x,validateForm:R,validateField:lr,isValid:kr,dirty:J,unregisterField:Or,registerField:Cr,getFieldProps:Ur,getFieldMeta:Lr,getFieldHelpers:wr,validateOnBlur:n,validateOnChange:i,validateOnMount:v});return Br}function Xr(e){var t={};if(e.inner){if(e.inner.length===0)return w(t,e.path,e.message);for(var n=e.inner,i=Array.isArray(n),a=0,n=i?n:n[Symbol.iterator]();;){var c;if(i){if(a>=n.length)break;c=n[a++]}else{if(a=n.next(),a.done)break;c=a.value}var v=c;b(t,v.path)||(t=w(t,v.path,v.message))}}return t}function Zr(e,t,i,a){i===void 0&&(i=!1);var n=tr(e);return t[i?"validateSync":"validate"](n,{abortEarly:!1,context:n})}function tr(e){var t=Array.isArray(e)?[]:{};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=String(i);Array.isArray(e[a])===!0?t[a]=e[a].map(function(n){return Array.isArray(n)===!0||Tr(n)?tr(n):n!==""?n:void 0}):Tr(e[a])?t[a]=tr(e[a]):t[a]=e[a]!==""?e[a]:void 0}return t}function re(e,t,i){var a=e.slice();return t.forEach(function(c,v){if(typeof a[v]>"u"){var S=i.clone!==!1,F=S&&i.isMergeableObject(c);a[v]=F?er(Array.isArray(c)?[]:{},c,i):c}else i.isMergeableObject(c)?a[v]=er(e[v],c,i):e.indexOf(c)===-1&&a.push(c)}),a}function ee(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function te(e,t,i){if(typeof e=="boolean")return!!t;var a=[],n=!1,c=-1;if(Array.isArray(e))a=e,c=e.indexOf(i),n=c>=0;else if(!i||i=="true"||i=="false")return!!t;return t&&i&&!n?a.concat(i):n?a.slice(0,c).concat(a.slice(c+1)):a}var ie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?f.useLayoutEffect:f.useEffect;function m(e){var t=f.useRef(e);return ie(function(){t.current=e}),f.useCallback(function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t.current.apply(void 0,a)},[])}var ae=f.forwardRef(function(e,t){var i=e.action,a=mr(e,["action"]),n=i??"#",c=xr(),v=c.handleReset,S=c.handleSubmit;return f.createElement("form",h({onSubmit:S,ref:t,onReset:v,action:n},a))});ae.displayName="Form";export{oe as u};
