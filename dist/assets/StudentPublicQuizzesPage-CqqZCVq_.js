import{g as f,r as a,j as e,K as g,x as n,y as o,F as p,H as j,i as v,s as w}from"./main-C_d-NeC0.js";const N=()=>{const i=f(),[u,x]=a.useState([]),[h,d]=a.useState(!0),[r,m]=a.useState("");a.useEffect(()=>{(async()=>{try{d(!0);const{data:t,error:l}=await w.from("quizzes").select("id, title, topic, grade, difficulty, created_at").eq("is_public",!0).order("created_at",{ascending:!1});if(l)throw l;x(t||[])}catch{}finally{d(!1)}})()},[]);const c=u.filter(s=>{if(!r)return!0;const t=r.toLowerCase();return s.title?.toLowerCase().includes(t)||s.topic?.toLowerCase().includes(t)||s.grade?.toLowerCase().includes(t)||s.difficulty?.toLowerCase().includes(t)});return h?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Quizzes Públicos"}),e.jsx("div",{className:"w-64",children:e.jsx(g,{placeholder:"Buscar...",value:r,onChange:s=>m(s.target.value),className:"bg-white dark:bg-slate-900 text-foreground border-border rounded-lg"})})]}),c.length===0?e.jsx(n,{children:e.jsx(o,{className:"py-10 text-center text-muted-foreground",children:"Nenhum quiz público encontrado"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(s=>e.jsxs(n,{className:"hover:shadow-lg transition cursor-pointer",onClick:()=>i(`/students/quizzes/${s.id}`),children:[e.jsx(p,{children:e.jsx(j,{className:"line-clamp-1",children:s.title})}),e.jsxs(o,{children:[e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.topic&&e.jsxs("div",{children:["Tema: ",s.topic]}),e.jsxs("div",{children:["Nível: ",s.grade||"n/d"]}),e.jsxs("div",{children:["Dificuldade: ",s.difficulty||"n/d"]}),e.jsxs("div",{className:"text-xs",children:["Criado em ",new Date(s.created_at).toLocaleDateString("pt-BR")]})]}),e.jsx(v,{className:"mt-4 w-full whitespace-nowrap inline-flex items-center justify-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg",onClick:t=>{t.stopPropagation(),i(`/students/quizzes/${s.id}`)},children:"Fazer Quiz"})]})]},s.id))})]})};export{N as default};
