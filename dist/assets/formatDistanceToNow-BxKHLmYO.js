import{c as y}from"./constructNow-BUe0KqNa.js";import{n as S,a as X,g as O,e as T}from"./en-US-C1KUdeex.js";import{t as h,b as I,d as D}from"./toDate-B_SDEMqy.js";import{e as _}from"./endOfMonth-5f4-gZt5.js";function M(e,n){const r=+h(e)-+h(n);return r<0?-1:r>0?1:r}function b(e,n,r){const[a,t]=S(r?.in,e,n),f=a.getFullYear()-t.getFullYear(),i=a.getMonth()-t.getMonth();return f*12+i}function w(e){return n=>{const a=(e?Math[e]:Math.trunc)(n);return a===0?0:a}}function Y(e,n){return+h(e)-+h(n)}function p(e,n){const r=h(e,n?.in);return r.setHours(23,59,59,999),r}function N(e,n){const r=h(e,n?.in);return+p(r,n)==+_(r,n)}function v(e,n,r){const[a,t,f]=S(r?.in,e,e,n),i=M(t,f),s=Math.abs(b(t,f));if(s<1)return 0;t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-i*s);let u=M(t,f)===-i;N(a)&&s===1&&M(a,f)===1&&(u=!1);const l=i*(s-+u);return l===0?0:l}function z(e,n,r){const a=Y(e,n)/1e3;return w(r?.roundingMethod)(a)}function A(e,n,r){const a=O(),t=r?.locale??a.locale??T,f=2520,i=M(e,n);if(isNaN(i))throw new RangeError("Invalid time value");const s=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:i}),[u,l]=S(r?.in,...i>0?[n,e]:[e,n]),m=z(l,u),x=(X(l)-X(u))/1e3,o=Math.round((m-x)/60);let d;if(o<2)return r?.includeSeconds?m<5?t.formatDistance("lessThanXSeconds",5,s):m<10?t.formatDistance("lessThanXSeconds",10,s):m<20?t.formatDistance("lessThanXSeconds",20,s):m<40?t.formatDistance("halfAMinute",0,s):m<60?t.formatDistance("lessThanXMinutes",1,s):t.formatDistance("xMinutes",1,s):o===0?t.formatDistance("lessThanXMinutes",1,s):t.formatDistance("xMinutes",o,s);if(o<45)return t.formatDistance("xMinutes",o,s);if(o<90)return t.formatDistance("aboutXHours",1,s);if(o<I){const c=Math.round(o/60);return t.formatDistance("aboutXHours",c,s)}else{if(o<f)return t.formatDistance("xDays",1,s);if(o<D){const c=Math.round(o/I);return t.formatDistance("xDays",c,s)}else if(o<D*2)return d=Math.round(o/D),t.formatDistance("aboutXMonths",d,s)}if(d=v(l,u),d<12){const c=Math.round(o/D);return t.formatDistance("xMonths",c,s)}else{const c=d%12,g=Math.trunc(d/12);return c<3?t.formatDistance("aboutXYears",g,s):c<9?t.formatDistance("overXYears",g,s):t.formatDistance("almostXYears",g+1,s)}}function j(e,n){return A(e,y(e),n)}export{j as f};
