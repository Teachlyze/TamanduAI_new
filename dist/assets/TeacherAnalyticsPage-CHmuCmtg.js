import{u as Se,r as d,j as e,o as ye,k as te,U as Y,ah as ae,A as we,T as W,s as G,ar as re}from"./main-BBAlbGLj.js";import{P as c}from"./PremiumCard-BClPpHrg.js";import{P as ie}from"./PremiumButton-CWdhOUBt.js";import{E as A}from"./EmptyState-Del568bV.js";import Ae from"./jspdf.es.min-wouSwBVw.js";import"./jspdf.plugin.autotable-DaH8ixQg.js";import{u as N,w as Me}from"./xlsx-BHh6c6ND.js";import{D as de}from"./download-CI4QKKyw.js";import{T as Ce}from"./target-DlA9JK4k.js";import{R as M,T as C}from"./CategoricalChart-DTJ2g2hZ.js";import{B as z,a as F}from"./BarChart-B2AT-Z1K.js";import{C as L,X as P,Y as T}from"./CartesianChart-Bdpru1KD.js";import{L as D}from"./Legend-Ci6apA5A.js";import{P as Te,a as De,C as ke}from"./PieChart-0f8a09xQ.js";import{L as ne,a as X}from"./LineChart-OAR9jqt8.js";import"./typeof-CPR7xHyo.js";import"./index-D_P3mdcN.js";const le=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"],Ue=()=>{const{user:$}=Se(),[oe,I]=d.useState(!0),[b,ce]=d.useState([]),[x,me]=d.useState([]),[v,ue]=d.useState([]),[f,xe]=d.useState([]),[q,he]=d.useState([]),[B,U]=d.useState(""),[H,ge]=d.useState(""),[p,Q]=d.useState(""),[_,pe]=d.useState(""),[E,je]=d.useState(30),[S,ve]=d.useState(null),[y,be]=d.useState(null);d.useEffect(()=>{(async()=>{if(!$?.id)return;I(!0);const t=new Date,a=new Date;a.setDate(a.getDate()-E),ve(a),be(t);try{const{data:r}=await G.from("classes").select("id, name, created_by").eq("created_by",$.id).eq("is_active",!0);ce(r||[]);const i=(r||[]).map(m=>m.id);if(i.length===0){I(!1);return}const{data:h}=await G.from("class_members").select("class_id, user_id, user:profiles(id, full_name)").in("class_id",i).eq("role","student");me(h||[]);const{data:n}=await G.from("activity_class_assignments").select("class_id, activity:activities(id, title, type, max_grade, created_at)").in("class_id",i),g=(n||[]).map(m=>({...m.activity,class_id:m.class_id})).filter(Boolean);ue(g);const o=g.map(m=>m.id);if(o.length>0){const{data:m}=await G.from("submissions").select("id, activity_id, student_id, grade, status, submitted_at, graded_at").in("activity_id",o);xe(m||[])}const j=[...new Set((h||[]).map(m=>m.user_id))];if(j.length>0){const{data:m}=await G.from("xp_log").select("user_id, xp, source, created_at").in("user_id",j);he(m||[])}}finally{I(!1)}})()},[$?.id,E]);const u=d.useMemo(()=>!S||!y?f:f.filter(s=>{if(!s.submitted_at)return!1;const t=new Date(s.submitted_at);return t>=S&&t<=y}),[f,S,y]),K=d.useMemo(()=>!S||!y?v:v.filter(s=>{if(!s.created_at)return!0;const t=new Date(s.created_at);return t>=S&&t<=y}),[v,S,y]),l=d.useMemo(()=>{const s=new Set(x.map(o=>o.user_id)).size,t=K.length,a=u.length,r=u.filter(o=>o.status==="graded").length,i=r>0?u.filter(o=>o.grade!=null).reduce((o,j)=>o+(j.grade||0),0)/r:0,h=u.filter(o=>{const j=K.find(m=>m.id===o.activity_id);return!j?.due_date||!o.submitted_at?!1:new Date(o.submitted_at)<=new Date(j.due_date)}).length,n=u.filter(o=>{const j=K.find(m=>m.id===o.activity_id);return!j?.due_date||!o.submitted_at?!1:new Date(o.submitted_at)>new Date(j.due_date)}).length,g=t>0&&s>0?(a/(t*s)*100).toFixed(1):0;return{totalStudents:s,totalActivities:t,totalSubmissions:a,gradedSubmissions:r,avgGrade:i.toFixed(1),onTime:h,late:n,completionRate:g}},[x,K,u]),R=d.useMemo(()=>{const s={};return x.forEach(t=>{const a=f.filter(n=>n.student_id===t.user_id),r=a.filter(n=>n.grade!=null),i=r.length>0?r.reduce((n,g)=>n+(g.grade||0),0)/r.length:0,h=q.filter(n=>n.user_id===t.user_id).reduce((n,g)=>n+(g.xp||0),0);s[t.user_id]={name:t.user?.full_name||"Aluno",avgGrade:i,totalSubmissions:a.length,xp:h}}),Object.values(s).sort((t,a)=>a.avgGrade-t.avgGrade).slice(0,10)},[x,f,q]),J=d.useMemo(()=>{const s=new Map;return x.forEach(t=>s.set(t.user_id,t)),s},[x]),w=d.useMemo(()=>{const s=new Map;return b.forEach(t=>s.set(t.id,t)),s},[b]),O=d.useMemo(()=>b.map(s=>{const t=x.filter(n=>n.class_id===s.id),a=v.filter(n=>n.class_id===s.id);t.map(n=>n.user_id);const r=f.filter(n=>{const g=v.find(o=>o.id===n.activity_id);return g&&g.class_id===s.id}),i=r.filter(n=>n.grade!=null),h=i.length>0?i.reduce((n,g)=>n+(g.grade||0),0)/i.length:0;return{name:s.name,students:t.length,activities:a.length,submissions:r.length,avgGrade:h}}),[b,x,v,f]),V=d.useMemo(()=>{const s=v.reduce((t,a)=>(t[a.type]=(t[a.type]||0)+1,t),{});return Object.entries(s).map(([t,a])=>({name:t==="assignment"?"Tarefa":t==="quiz"?"Quiz":"Projeto",value:a}))},[v]),Z=d.useMemo(()=>{const s=u.reduce((t,a)=>{if(!a.submitted_at)return t;const r=new Date(a.submitted_at).toLocaleDateString("pt-BR");return t[r]=(t[r]||0)+1,t},{});return Object.entries(s).map(([t,a])=>({date:t,count:a})).sort((t,a)=>new Date(t.date.split("/").reverse().join("-"))-new Date(a.date.split("/").reverse().join("-"))).slice(-30)},[u]),ee=d.useMemo(()=>{const s=Array(10).fill(0);return u.filter(t=>t.grade!=null).forEach(t=>{const a=t.grade||0,r=Math.min(Math.floor(a/10),9);s[r]++}),s.map((t,a)=>({range:`${a*10}-${(a+1)*10}`,count:t}))},[u]),k=d.useMemo(()=>{const s=u.filter(a=>a.grade!=null).map(a=>a.grade).sort((a,r)=>a-r);if(s.length===0)return{p10:0,p50:0,p90:0,p25:0,p75:0};const t=a=>{const r=Math.ceil(a/100*s.length)-1;return s[Math.max(0,r)]||0};return{p10:t(10),p25:t(25),p50:t(50),p75:t(75),p90:t(90)}},[u]),se=d.useMemo(()=>{const s={};return u.forEach(t=>{if(!t.submitted_at)return;const a=new Date(t.submitted_at),r=a.getFullYear(),i=fe(a),h=`${r}-W${i}`;s[h]||(s[h]={count:0,grades:[]}),s[h].count++,t.grade!=null&&s[h].grades.push(t.grade)}),Object.entries(s).map(([t,a])=>({week:t,count:a.count,avgGrade:a.grades.length>0?(a.grades.reduce((r,i)=>r+i,0)/a.grades.length).toFixed(1):0})).sort((t,a)=>t.week.localeCompare(a.week))},[u]),fe=s=>{const t=new Date(s);t.setHours(0,0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));const a=new Date(t.getFullYear(),0,1);return Math.ceil(((t-a)/864e5+1)/7)};if(oe)return e.jsx(ye,{message:"Carregando analytics..."});const Ne=()=>{const s=new Ae;s.setFontSize(18),s.text("Analytics Avançado - Professor",14,20),s.setFontSize(12),s.text(`Período: Últimos ${E} dias`,14,30),s.text("Métricas Gerais:",14,45);const t=[["Métrica","Valor"],["Total de Alunos",l.totalStudents],["Total de Atividades",l.totalActivities],["Total de Submissões",l.totalSubmissions],["Média Geral",l.avgGrade],["Taxa de Conclusão",`${l.completionRate}%`],["On-time",l.onTime],["Atrasadas",l.late]];s.autoTable({startY:50,head:[t[0]],body:t.slice(1)});const a=s.lastAutoTable.finalY+15;s.text("Top 10 Alunos:",14,a);const r=R.slice(0,10).map(i=>[J.get(i.studentId)?.full_name||"N/A",i.avgGrade,i.submissions,i.xp]);s.autoTable({startY:a+5,head:[["Nome","Média","Submissões","XP"]],body:r}),s.save("analytics_professor.pdf"),re({title:"Sucesso",description:"Relatório exportado em PDF!"})},_e=()=>{const s=N.json_to_sheet([{Métrica:"Total de Alunos",Valor:l.totalStudents},{Métrica:"Total de Atividades",Valor:l.totalActivities},{Métrica:"Total de Submissões",Valor:l.totalSubmissions},{Métrica:"Média Geral",Valor:l.avgGrade},{Métrica:"Taxa de Conclusão",Valor:`${l.completionRate}%`},{Métrica:"On-time",Valor:l.onTime},{Métrica:"Atrasadas",Valor:l.late}]),t=N.json_to_sheet(R.slice(0,20).map(i=>({Nome:J.get(i.studentId)?.full_name||"N/A",Média:i.avgGrade,Submissões:i.submissions,XP:i.xp}))),a=N.json_to_sheet(O.map(i=>({Turma:i.name,Alunos:i.students,Atividades:i.activities,Submissões:i.submissions,Média:i.avgGrade}))),r=N.book_new();N.book_append_sheet(r,s,"Métricas Gerais"),N.book_append_sheet(r,t,"Top Alunos"),N.book_append_sheet(r,a,"Comparação Turmas"),Me(r,"analytics_professor.xlsx"),re({title:"Sucesso",description:"Relatório exportado em Excel!"})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 p-8 rounded-2xl text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[e.jsx(te,{className:"w-6 h-6"})," Analytics Avançado"]}),e.jsx("p",{className:"text-white/90",children:"Métricas detalhadas e comparações"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(ie,{onClick:Ne,variant:"secondary",className:"whitespace-nowrap inline-flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"PDF"})]}),e.jsxs(ie,{onClick:_e,variant:"secondary",className:"whitespace-nowrap inline-flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Excel"})]})]})]})}),e.jsx(c,{variant:"elevated",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("span",{className:"font-semibold text-sm",children:"Período:"}),[7,15,30,90,180,365].map(s=>e.jsx("button",{onClick:()=>je(s),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${E===s?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:s===7?"7 dias":s===15?"15 dias":s===30?"30 dias":s===90?"3 meses":s===180?"6 meses":"1 ano"},s))]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Taxa de Conclusão"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[l.completionRate,"%"]})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"On-time / Late"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:l.onTime}),e.jsx("div",{className:"text-muted-foreground",children:"/"}),e.jsx("div",{className:"text-lg font-bold text-red-600",children:l.late})]})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Mediana (p50)"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k.p50})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Percentis"}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{children:["p10: ",e.jsx("strong",{children:k.p10})]}),e.jsxs("div",{children:["p25: ",e.jsx("strong",{children:k.p25})]}),e.jsxs("div",{children:["p75: ",e.jsx("strong",{children:k.p75})]}),e.jsxs("div",{children:["p90: ",e.jsx("strong",{children:k.p90})]})]})]})})]}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Comparação Manual: Aluno x Aluno"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{list:"students-list",placeholder:"Buscar aluno A por nome",className:"px-3 py-2 rounded-lg border border-border",onChange:s=>{const t=s.target.value.toLowerCase(),a=x.find(r=>(r.user?.full_name||"").toLowerCase()===t);U(a?a.user_id:"")}}),e.jsx("input",{list:"students-list",placeholder:"Buscar aluno B por nome",className:"px-3 py-2 rounded-lg border border-border",onChange:s=>{const t=s.target.value.toLowerCase(),a=x.find(r=>(r.user?.full_name||"").toLowerCase()===t);ge(a?a.user_id:"")}}),e.jsx("datalist",{id:"students-list",children:x.map(s=>e.jsx("option",{value:(s.user?.full_name||"").toLowerCase()},s.user_id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsx("div",{className:"font-semibold mb-2",children:"Aluno A"}),B?renderStudentMetrics(B):e.jsx("div",{className:"text-sm text-muted-foreground",children:"Selecione um aluno"})]}),e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsx("div",{className:"font-semibold mb-2",children:"Aluno B"}),H?renderStudentMetrics(H):e.jsx("div",{className:"text-sm text-muted-foreground",children:"Selecione um aluno"})]})]})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Comparação Manual: Turma x Turma"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("select",{className:"px-3 py-2 rounded-lg border border-border",value:p,onChange:s=>Q(s.target.value),children:[e.jsx("option",{value:"",children:"Selecione Turma A"}),b.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsxs("select",{className:"px-3 py-2 rounded-lg border border-border",value:_,onChange:s=>pe(s.target.value),children:[e.jsx("option",{value:"",children:"Selecione Turma B"}),b.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsxs("div",{className:"font-semibold mb-2",children:["Turma A ",p&&w.get(p)?.name?`- ${w.get(p).name}`:""]}),p?renderClassMetrics(p):e.jsx("div",{className:"text-sm text-muted-foreground",children:"Selecione uma turma"})]}),e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsxs("div",{className:"font-semibold mb-2",children:["Turma B ",_&&w.get(_)?.name?`- ${w.get(_).name}`:""]}),_?renderClassMetrics(_):e.jsx("div",{className:"text-sm text-muted-foreground",children:"Selecione uma turma"})]})]})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Comparação Manual: Aluno x Turma"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{list:"students-list-2",placeholder:"Buscar aluno por nome",className:"px-3 py-2 rounded-lg border border-border",onChange:s=>{const t=s.target.value.toLowerCase(),a=x.find(r=>(r.user?.full_name||"").toLowerCase()===t);U(a?a.user_id:"")}}),e.jsxs("select",{className:"px-3 py-2 rounded-lg border border-border",value:p,onChange:s=>Q(s.target.value),children:[e.jsx("option",{value:"",children:"Selecione Turma"}),b.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("datalist",{id:"students-list-2",children:x.map(s=>e.jsx("option",{value:(s.user?.full_name||"").toLowerCase()},s.user_id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsx("div",{className:"font-semibold mb-2",children:"Aluno"}),B?renderStudentMetrics(B):e.jsx("div",{className:"text-sm text-muted-foreground",children:"Selecione um aluno"})]}),e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsxs("div",{className:"font-semibold mb-2",children:["Turma ",p&&w.get(p)?.name?`- ${w.get(p).name}`:""]}),p?renderClassMetrics(p):e.jsx("div",{className:"text-sm text-muted-foreground",children:"Selecione uma turma"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4",children:[e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(Y,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),e.jsx("div",{className:"text-2xl font-bold",children:l.totalStudents}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Alunos"})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(ae,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),e.jsx("div",{className:"text-2xl font-bold",children:l.totalActivities}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Atividades"})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(Ce,{className:"w-8 h-8 mx-auto mb-2 text-amber-600"}),e.jsx("div",{className:"text-2xl font-bold",children:l.totalSubmissions}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Submissões"})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(we,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),e.jsx("div",{className:"text-2xl font-bold",children:l.gradedSubmissions}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avaliadas"})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(W,{className:"w-8 h-8 mx-auto mb-2 text-rose-600"}),e.jsx("div",{className:"text-2xl font-bold",children:l.avgGrade}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Nota Média"})]})})]}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Top 10 Alunos - Desempenho"}),R.length===0?e.jsx(A,{icon:Y,title:"Sem dados",description:"Aguardando submissões avaliadas."}):e.jsx(M,{width:"100%",height:300,children:e.jsxs(z,{data:R,children:[e.jsx(L,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"name",angle:-45,textAnchor:"end",height:100}),e.jsx(T,{}),e.jsx(C,{}),e.jsx(D,{}),e.jsx(F,{dataKey:"avgGrade",fill:"#3b82f6",name:"Nota Média"})]})})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Comparação de Turmas"}),O.length===0?e.jsx(A,{icon:Y,title:"Sem turmas"}):e.jsx(M,{width:"100%",height:300,children:e.jsxs(z,{data:O,children:[e.jsx(L,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"name"}),e.jsx(T,{}),e.jsx(C,{}),e.jsx(D,{}),e.jsx(F,{dataKey:"avgGrade",fill:"#10b981",name:"Nota Média"}),e.jsx(F,{dataKey:"submissions",fill:"#f59e0b",name:"Submissões"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Atividades por Tipo"}),V.length===0?e.jsx(A,{icon:ae,title:"Sem atividades"}):e.jsx(M,{width:"100%",height:250,children:e.jsxs(Te,{children:[e.jsx(De,{data:V,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:V.map((s,t)=>e.jsx(ke,{fill:le[t%le.length]},`cell-${t}`))}),e.jsx(C,{}),e.jsx(D,{})]})})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Submissões (últimos 30 dias)"}),Z.length===0?e.jsx(A,{icon:W,title:"Sem dados"}):e.jsx(M,{width:"100%",height:250,children:e.jsxs(ne,{data:Z,children:[e.jsx(L,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"date",angle:-45,textAnchor:"end",height:80}),e.jsx(T,{}),e.jsx(C,{}),e.jsx(D,{}),e.jsx(X,{type:"monotone",dataKey:"count",stroke:"#8b5cf6",name:"Submissões",strokeWidth:2})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Distribuição de Notas"}),ee.every(s=>s.count===0)?e.jsx(A,{icon:te,title:"Sem notas",description:"Aguardando avaliações."}):e.jsx(M,{width:"100%",height:250,children:e.jsxs(z,{data:ee,children:[e.jsx(L,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"range"}),e.jsx(T,{}),e.jsx(C,{}),e.jsx(D,{}),e.jsx(F,{dataKey:"count",fill:"#8b5cf6",name:"Quantidade"})]})})]})}),e.jsx(c,{variant:"elevated",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Tendências Semanais"}),se.length===0?e.jsx(A,{icon:W,title:"Sem dados"}):e.jsx(M,{width:"100%",height:250,children:e.jsxs(ne,{data:se,children:[e.jsx(L,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"week",angle:-45,textAnchor:"end",height:80}),e.jsx(T,{yAxisId:"left"}),e.jsx(T,{yAxisId:"right",orientation:"right"}),e.jsx(C,{}),e.jsx(D,{}),e.jsx(X,{yAxisId:"left",type:"monotone",dataKey:"count",stroke:"#3b82f6",name:"Submissões",strokeWidth:2}),e.jsx(X,{yAxisId:"right",type:"monotone",dataKey:"avgGrade",stroke:"#10b981",name:"Nota Média",strokeWidth:2})]})})]})})]})]})};export{Ue as default};
