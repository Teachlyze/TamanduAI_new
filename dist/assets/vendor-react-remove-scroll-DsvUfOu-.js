import{_ as E,a as F,b as j}from"./vendor-react-dropzone-JpbzFaVP.js";import{r as o}from"./react-vendor-C2HUFn5N.js";import{z as G,f as K,R as U}from"./vendor-react-remove-scroll-bar-CSW8oGnL.js";import{s as $}from"./vendor-react-style-singleton-Dz4UYqcM.js";function I(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function q(e,r){var t=o.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(n){var s=t.value;s!==n&&(t.value=n,t.callback(n,s))}}}})[0];return t.callback=r,t.facade}var J=typeof window<"u"?o.useLayoutEffect:o.useEffect,V=new WeakMap;function _(e,r){var t=q(null,function(n){return e.forEach(function(s){return I(s,n)})});return J(function(){var n=V.get(t);if(n){var s=new Set(n),u=new Set(e),c=t.current;s.forEach(function(l){u.has(l)||I(l,null)}),u.forEach(function(l){s.has(l)||I(l,c)})}V.set(t,e)},[e]),t}function ee(e){return e}function re(e,r){r===void 0&&(r=ee);var t=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(u){var c=r(u,n);return t.push(c),function(){t=t.filter(function(l){return l!==c})}},assignSyncMedium:function(u){for(n=!0;t.length;){var c=t;t=[],c.forEach(u)}t={push:function(l){return u(l)},filter:function(){return t}}},assignMedium:function(u){n=!0;var c=[];if(t.length){var l=t;t=[],l.forEach(u),c=t}var m=function(){var v=c;c=[],v.forEach(u)},g=function(){return Promise.resolve().then(m)};g(),t={push:function(v){c.push(v),g()},filter:function(v){return c=c.filter(v),t}}}};return s}function te(e){e===void 0&&(e={});var r=re(null);return r.options=E({async:!0,ssr:!1},e),r}var O=function(e){var r=e.sideCar,t=F(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=r.read();if(!n)throw new Error("Sidecar medium not found");return o.createElement(n,E({},t))};O.isSideCarExport=!0;function ne(e,r){return e.useMedium(r),O}var Z=te(),W=function(){},D=o.forwardRef(function(e,r){var t=o.useRef(null),n=o.useState({onScrollCapture:W,onWheelCapture:W,onTouchMoveCapture:W}),s=n[0],u=n[1],c=e.forwardProps,l=e.children,m=e.className,g=e.removeScrollBar,v=e.enabled,b=e.shards,k=e.sideCar,y=e.noRelative,R=e.noIsolation,a=e.inert,i=e.allowPinchZoom,h=e.as,f=h===void 0?"div":h,S=e.gapMode,w=F(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),d=k,M=_([t,r]),C=E(E({},w),s);return o.createElement(o.Fragment,null,v&&o.createElement(d,{sideCar:Z,removeScrollBar:g,shards:b,noRelative:y,noIsolation:R,inert:a,setCallbacks:u,allowPinchZoom:!!i,lockRef:t,gapMode:S}),c?o.cloneElement(o.Children.only(l),E(E({},C),{ref:M})):o.createElement(f,E({},C,{className:m,ref:M}),l))});D.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};D.classNames={fullWidth:K,zeroRight:G};var X=!1;if(typeof window<"u")try{var N=Object.defineProperty({},"passive",{get:function(){return X=!0,!0}});window.addEventListener("test",N,N),window.removeEventListener("test",N,N)}catch{X=!1}var P=X?{passive:!1}:!1,ae=function(e){return e.tagName==="TEXTAREA"},x=function(e,r){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!ae(e)&&t[r]==="visible")},oe=function(e){return x(e,"overflowY")},le=function(e){return x(e,"overflowX")},A=function(e,r){var t=r.ownerDocument,n=r;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=z(e,n);if(s){var u=Q(e,n),c=u[1],l=u[2];if(c>l)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},ce=function(e){var r=e.scrollTop,t=e.scrollHeight,n=e.clientHeight;return[r,t,n]},ie=function(e){var r=e.scrollLeft,t=e.scrollWidth,n=e.clientWidth;return[r,t,n]},z=function(e,r){return e==="v"?oe(r):le(r)},Q=function(e,r){return e==="v"?ce(r):ie(r)},ue=function(e,r){return e==="h"&&r==="rtl"?-1:1},se=function(e,r,t,n,s){var u=ue(e,window.getComputedStyle(r).direction),c=u*n,l=t.target,m=r.contains(l),g=!1,v=c>0,b=0,k=0;do{if(!l)break;var y=Q(e,l),R=y[0],a=y[1],i=y[2],h=a-i-u*R;(R||h)&&z(e,l)&&(b+=h,k+=R);var f=l.parentNode;l=f&&f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?f.host:f}while(!m&&l!==document.body||m&&(r.contains(l)||r===l));return(v&&Math.abs(b)<1||!v&&Math.abs(k)<1)&&(g=!0),g},T=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},p=function(e){return[e.deltaX,e.deltaY]},H=function(e){return e&&"current"in e?e.current:e},fe=function(e,r){return e[0]===r[0]&&e[1]===r[1]},de=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ve=0,L=[];function he(e){var r=o.useRef([]),t=o.useRef([0,0]),n=o.useRef(),s=o.useState(ve++)[0],u=o.useState($)[0],c=o.useRef(e);o.useEffect(function(){c.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var a=j([e.lockRef.current],(e.shards||[]).map(H),!0).filter(Boolean);return a.forEach(function(i){return i.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),a.forEach(function(i){return i.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=o.useCallback(function(a,i){if("touches"in a&&a.touches.length===2||a.type==="wheel"&&a.ctrlKey)return!c.current.allowPinchZoom;var h=T(a),f=t.current,S="deltaX"in a?a.deltaX:f[0]-h[0],w="deltaY"in a?a.deltaY:f[1]-h[1],d,M=a.target,C=Math.abs(S)>Math.abs(w)?"h":"v";if("touches"in a&&C==="h"&&M.type==="range")return!1;var B=A(C,M);if(!B)return!0;if(B?d=C:(d=C==="v"?"h":"v",B=A(C,M)),!B)return!1;if(!n.current&&"changedTouches"in a&&(S||w)&&(n.current=d),!d)return!0;var Y=n.current||d;return se(Y,i,a,Y==="h"?S:w)},[]),m=o.useCallback(function(a){var i=a;if(!(!L.length||L[L.length-1]!==u)){var h="deltaY"in i?p(i):T(i),f=r.current.filter(function(d){return d.name===i.type&&(d.target===i.target||i.target===d.shadowParent)&&fe(d.delta,h)})[0];if(f&&f.should){i.cancelable&&i.preventDefault();return}if(!f){var S=(c.current.shards||[]).map(H).filter(Boolean).filter(function(d){return d.contains(i.target)}),w=S.length>0?l(i,S[0]):!c.current.noIsolation;w&&i.cancelable&&i.preventDefault()}}},[]),g=o.useCallback(function(a,i,h,f){var S={name:a,delta:i,target:h,should:f,shadowParent:me(h)};r.current.push(S),setTimeout(function(){r.current=r.current.filter(function(w){return w!==S})},1)},[]),v=o.useCallback(function(a){t.current=T(a),n.current=void 0},[]),b=o.useCallback(function(a){g(a.type,p(a),a.target,l(a,e.lockRef.current))},[]),k=o.useCallback(function(a){g(a.type,T(a),a.target,l(a,e.lockRef.current))},[]);o.useEffect(function(){return L.push(u),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:k}),document.addEventListener("wheel",m,P),document.addEventListener("touchmove",m,P),document.addEventListener("touchstart",v,P),function(){L=L.filter(function(a){return a!==u}),document.removeEventListener("wheel",m,P),document.removeEventListener("touchmove",m,P),document.removeEventListener("touchstart",v,P)}},[]);var y=e.removeScrollBar,R=e.inert;return o.createElement(o.Fragment,null,R?o.createElement(u,{styles:de(s)}):null,y?o.createElement(U,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function me(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const ge=ne(Z,he);var Se=o.forwardRef(function(e,r){return o.createElement(D,E({},e,{ref:r,sideCar:ge}))});Se.classNames=D.classNames;export{Se as R};
