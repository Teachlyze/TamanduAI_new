import{u as v,r as n,j as e,K as j,z as t,s as b}from"./main-NgjJy_CG.js";import{P as k}from"./PremiumCard-BGO_It48.js";import{P as x}from"./PremiumButton-DDGOGflQ.js";import{s as N}from"./schoolService-0kUg_1__.js";import{U as w}from"./user-plus-DbpNqADK.js";import{M as C}from"./mail-DQtjMnR0.js";import{C as y}from"./circle-check-big-dDW7KbJv.js";import{C as E}from"./copy-DL6wqBrt.js";const z=()=>{const{user:i}=v(),[s,l]=n.useState(""),[c,d]=n.useState(!1),[r,p]=n.useState(""),h=async o=>{if(o.preventDefault(),!(!s||!i))try{d(!0);const a=await N.getUserSchool(i.id);if(!a?.id){t.error("Escola nÃ£o encontrada");return}const{data:u,error:m}=await b.from("school_teacher_invites").insert({school_id:a.id,email:s.toLowerCase(),invited_by:i.id,status:"pending"}).select().single();if(m)throw m;const f=`${window.location.origin}/accept-invite/${u.id}`;p(f),t.success("Convite criado! Envie o link ao professor."),l("")}catch(a){console.error("Error inviting teacher:",a),t.error("Erro ao criar convite")}finally{d(!1)}},g=()=>{r&&(navigator.clipboard.writeText(r),t.success("Link copiado!"))};return e.jsxs("div",{className:"space-y-6 pb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-600 via-emerald-600 to-teal-700 p-8 rounded-2xl text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(w,{className:"w-8 h-8"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Convidar Professor"})]}),e.jsx("p",{className:"text-white/90 text-lg",children:"Envie um convite para um novo professor se juntar Ã  sua instituiÃ§Ã£o"}),e.jsxs("div",{className:"mt-4 bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Como funciona:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-white/80",children:[e.jsx("li",{children:"1. Digite o email do professor que deseja convidar"}),e.jsx("li",{children:"2. Um link Ãºnico de convite serÃ¡ gerado"}),e.jsx("li",{children:"3. Copie e envie o link para o professor via email, WhatsApp, etc"}),e.jsx("li",{children:"4. O professor poderÃ¡ aceitar o convite e se juntar Ã  instituiÃ§Ã£o"})]})]})]}),e.jsx(k,{variant:"elevated",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email do Professor"}),e.jsx(j,{type:"email",value:s,onChange:o=>l(o.target.value),placeholder:"professor@email.com",className:"bg-white dark:bg-slate-900 text-foreground border-border",required:!0})]}),e.jsxs(x,{type:"submit",variant:"gradient",disabled:c||!s,className:"w-full whitespace-nowrap inline-flex items-center justify-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:c?"Criando...":"Criar Convite"})]})]}),r&&e.jsxs("div",{className:"mt-6 p-6 bg-green-50 dark:bg-green-900/20 rounded-lg border-2 border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(y,{className:"w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-green-800 dark:text-green-200",children:"âœ“ Convite criado com sucesso!"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Compartilhe este link com o professor para que ele possa aceitar o convite"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg p-4 mb-4",children:[e.jsx("label",{className:"text-xs font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:"Link de Convite:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-sm bg-slate-50 dark:bg-slate-800 px-3 py-2 rounded border border-slate-200 dark:border-slate-700 flex-1 overflow-x-auto",children:r}),e.jsxs(x,{variant:"gradient",onClick:g,className:"whitespace-nowrap inline-flex items-center gap-2 flex-shrink-0",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{children:"Copiar Link"})]})]})]}),e.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200 mb-2",children:"ðŸ’¡ PrÃ³ximos passos:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-green-700 dark:text-green-300",children:[e.jsx("li",{children:"â€¢ Envie este link por email, WhatsApp ou outro meio"}),e.jsx("li",{children:"â€¢ O professor deve clicar no link e aceitar o convite"}),e.jsx("li",{children:"â€¢ ApÃ³s aceitar, ele terÃ¡ acesso Ã  plataforma como professor"}),e.jsx("li",{children:"â€¢ VocÃª pode criar mÃºltiplos convites para diferentes professores"})]})]})]})]})})]})};export{z as default};
