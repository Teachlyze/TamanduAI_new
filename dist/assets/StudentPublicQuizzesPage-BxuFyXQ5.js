import{g as f,r as a,j as e,a2 as p,J as n,Q as o,K as g,N as j,i as v,s as z}from"./main-Bujpyeg-.js";const C=()=>{const r=f(),[u,x]=a.useState([]),[h,c]=a.useState(!0),[i,m]=a.useState("");a.useEffect(()=>{(async()=>{try{c(!0);const{data:t,error:l}=await z.from("quizzes").select("id, title, topic, grade, difficulty, created_at").eq("is_public",!0).order("created_at",{ascending:!1});if(l)throw l;x(t||[])}catch{}finally{c(!1)}})()},[]);const d=u.filter(s=>{if(!i)return!0;const t=i.toLowerCase();return s.title?.toLowerCase().includes(t)||s.topic?.toLowerCase().includes(t)||s.grade?.toLowerCase().includes(t)||s.difficulty?.toLowerCase().includes(t)});return h?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Quizzes Públicos"}),e.jsx("div",{className:"w-64",children:e.jsx(p,{placeholder:"Buscar...",value:i,onChange:s=>m(s.target.value)})})]}),d.length===0?e.jsx(n,{children:e.jsx(o,{className:"py-10 text-center text-muted-foreground",children:"Nenhum quiz público encontrado"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(s=>e.jsxs(n,{className:"hover:shadow-lg transition cursor-pointer",onClick:()=>r(`/students/quizzes/${s.id}`),children:[e.jsx(g,{children:e.jsx(j,{className:"line-clamp-1",children:s.title})}),e.jsxs(o,{children:[e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.topic&&e.jsxs("div",{children:["Tema: ",s.topic]}),e.jsxs("div",{children:["Nível: ",s.grade||"n/d"]}),e.jsxs("div",{children:["Dificuldade: ",s.difficulty||"n/d"]}),e.jsxs("div",{className:"text-xs",children:["Criado em ",new Date(s.created_at).toLocaleDateString("pt-BR")]})]}),e.jsx(v,{className:"mt-4 w-full",onClick:t=>{t.stopPropagation(),r(`/students/quizzes/${s.id}`)},children:"Fazer Quiz"})]})]},s.id))})]})};export{C as default};
