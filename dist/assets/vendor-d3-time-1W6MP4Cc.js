import{f as A,t as z}from"./vendor-d3-array-LGjaf_JI.js";const v=new Date,H=new Date;function o(e,t,u,F){function s(n){return e(n=arguments.length===0?new Date:new Date(+n)),n}return s.floor=n=>(e(n=new Date(+n)),n),s.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),s.round=n=>{const r=s(n),i=s.ceil(n);return n-r<i-n?r:i},s.offset=(n,r)=>(t(n=new Date(+n),r==null?1:Math.floor(r)),n),s.range=(n,r,i)=>{const D=[];if(n=s.ceil(n),i=i==null?1:Math.floor(i),!(n<r)||!(i>0))return D;let l;do D.push(l=new Date(+n)),t(n,i),e(n);while(l<n&&n<r);return D},s.filter=n=>o(r=>{if(r>=r)for(;e(r),!n(r);)r.setTime(r-1)},(r,i)=>{if(r>=r)if(i<0)for(;++i<=0;)for(;t(r,-1),!n(r););else for(;--i>=0;)for(;t(r,1),!n(r););}),u&&(s.count=(n,r)=>(v.setTime(+n),H.setTime(+r),e(v),e(H),Math.floor(u(v,H))),s.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?s.filter(F?r=>F(r)%n===0:r=>s.count(0,r)%n===0):s)),s}const S=o(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);S.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?o(t=>{t.setTime(Math.floor(t/e)*e)},(t,u)=>{t.setTime(+t+u*e)},(t,u)=>(u-t)/e):S);const M=1e3,c=M*60,C=c*60,U=C*24,I=U*7,O=U*30,w=U*365,y=o(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*M)},(e,t)=>(t-e)/M,e=>e.getUTCSeconds()),B=o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*M)},(e,t)=>{e.setTime(+e+t*c)},(e,t)=>(t-e)/c,e=>e.getMinutes()),E=o(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*c)},(e,t)=>(t-e)/c,e=>e.getUTCMinutes()),G=o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*M-e.getMinutes()*c)},(e,t)=>{e.setTime(+e+t*C)},(e,t)=>(t-e)/C,e=>e.getHours()),J=o(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*C)},(e,t)=>(t-e)/C,e=>e.getUTCHours()),K=o(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*c)/U,e=>e.getDate()-1),X=o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/U,e=>e.getUTCDate()-1),L=o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/U,e=>Math.floor(e/U));function a(e){return o(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,u)=>{t.setDate(t.getDate()+u*7)},(t,u)=>(u-t-(u.getTimezoneOffset()-t.getTimezoneOffset())*c)/I)}const N=a(0),Z=a(1);a(2);a(3);const _=a(4);a(5);a(6);function m(e){return o(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,u)=>{t.setUTCDate(t.getUTCDate()+u*7)},(t,u)=>(u-t)/I)}const P=m(0),$=m(1);m(2);m(3);const k=m(4);m(5);m(6);const Q=o(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),R=o(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),b=o(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());b.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:o(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,u)=>{t.setFullYear(t.getFullYear()+u*e)});const x=o(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());x.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:o(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,u)=>{t.setUTCFullYear(t.getUTCFullYear()+u*e)});function W(e,t,u,F,s,n){const r=[[y,1,M],[y,5,5*M],[y,15,15*M],[y,30,30*M],[n,1,c],[n,5,5*c],[n,15,15*c],[n,30,30*c],[s,1,C],[s,3,3*C],[s,6,6*C],[s,12,12*C],[F,1,U],[F,2,2*U],[u,1,I],[t,1,O],[t,3,3*O],[e,1,w]];function i(l,T,h){const f=T<l;f&&([l,T]=[T,l]);const g=h&&typeof h.range=="function"?h:D(l,T,h),Y=g?g.range(l,+T+1):[];return f?Y.reverse():Y}function D(l,T,h){const f=Math.abs(T-l)/h,g=A(([,,q])=>q).right(r,f);if(g===r.length)return e.every(z(l/w,T/w,h));if(g===0)return S.every(Math.max(z(l,T,h),1));const[Y,j]=r[f/r[g-1][2]<r[g][2]/f?g-1:g];return Y.every(j)}return[i,D]}const[p,d]=W(x,R,P,L,J,E),[ee,te]=W(b,Q,N,K,G,B);export{G as a,K as b,N as c,Q as d,b as e,te as f,ee as g,J as h,X as i,P as j,R as k,x as l,d as m,p as n,$ as o,Z as p,k as q,_ as r,y as s,B as t,E as u};
