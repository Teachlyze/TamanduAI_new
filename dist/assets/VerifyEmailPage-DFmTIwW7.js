import{r,v as u,g as x,j as e,m,D as f,n as g,s as h}from"./main-NgjJy_CG.js";import{P as p}from"./PremiumCard-BGO_It48.js";import{P as j}from"./PremiumButton-DDGOGflQ.js";import{C as b}from"./circle-check-big-dDW7KbJv.js";function P(){const[v,y]=r.useState(!0),[s]=u(),t=x(),[i,n]=r.useState("loading"),[c,o]=r.useState("");return r.useEffect(()=>{(async()=>{const l=s.get("token"),d=s.get("type");if(!l||d!=="email"){n("error"),o("Link de verificação inválido");return}try{const{error:a}=await h.auth.verifyOtp({token_hash:l,type:"email"});if(a)throw a;n("success"),o("Email verificado com sucesso!"),setTimeout(()=>{t("/login")},3e3)}catch(a){console.error("Erro na verificação:",a),n("error"),o(a.message||"Erro ao verificar email")}})()},[s,t]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:e.jsx(m.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:e.jsxs(p,{className:"max-w-md w-full p-8 text-center",children:[i==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-16 h-16 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Verificando Email"}),e.jsx("p",{className:"text-muted-foreground",children:"Aguarde enquanto verificamos seu email..."})]}),i==="success"&&e.jsxs(m.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(b,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2 text-green-600",children:"Email Verificado!"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:c}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecionando para login..."})]}),i==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(g,{className:"w-10 h-10 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2 text-red-600",children:"Erro na Verificação"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:c}),e.jsx(j,{onClick:()=>t("/login"),className:"w-full whitespace-nowrap inline-flex items-center gap-2 min-w-fit px-6 py-3",children:"Ir para Login"})]})]})})})}export{P as default};
