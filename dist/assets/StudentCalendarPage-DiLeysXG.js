import{u,r as n,j as e,o as p,d as i,C as g}from"./main-Bujpyeg-.js";import{C as h}from"./calendarService-CNZKtPfX.js";import{P as f}from"./PremiumCard-BaDWg06v.js";import{E as j}from"./EmptyState-CpVlA95H.js";import"./toDate-B_SDEMqy.js";import"./PremiumButton-skKgx_xy.js";const b=()=>{const{user:a}=u(),[l,o]=n.useState(!0),[d,c]=n.useState([]);return n.useEffect(()=>{if(!a?.id)return;(async()=>{o(!0);try{const s=new Date,r=new Date(s.getFullYear(),s.getMonth(),1),m=new Date(s.getFullYear(),s.getMonth()+1,0,23,59,59),x=await h.getUserCalendar({from:r,to:m,userId:a.id,userRole:"student"});c(x||[])}finally{o(!1)}})()},[a?.id]),l?e.jsx(p,{message:"Carregando sua agenda..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-teal-600 p-8 rounded-2xl text-white",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[e.jsx(i,{className:"w-6 h-6"})," Minha Agenda"]}),e.jsx("p",{className:"text-white/90",children:"Seus próximos eventos e prazos"})]}),e.jsx(f,{variant:"elevated",children:e.jsx("div",{className:"p-6 space-y-3",children:d.length===0?e.jsx(j,{icon:i,title:"Sem eventos",description:"Nenhum evento encontrado para este mês."}):d.map(t=>{const s=new Date(t.start_time),r=new Date(t.end_time);return e.jsxs("div",{className:"p-3 rounded-lg border border-border flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.title}),e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4"}),s.toLocaleString("pt-BR")," - ",r.toLocaleString("pt-BR")]})]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 capitalize",children:t.type||t.event_type||"evento"})]},t.id)})})})]})};export{b as default};
