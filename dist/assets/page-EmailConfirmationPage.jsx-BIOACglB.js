import{j as e,r as h}from"./react-vendor-C2HUFn5N.js";import{c as g}from"./lazy-CreateActivityPage.jsx-DYBofU2F.js";import{u as p}from"./i18n-vendor-WP9bSEud.js";import{c as j,u as y}from"./vendor-react-router-B4Bn0PSh.js";import{B as r,C as v,P as w,T as o,a as u,b}from"./mui-vendor-B2ef-T1O.js";const C=({title:m,description:n,className:x,children:l,titleKey:a,descriptionKey:s})=>{const{t}=p(),i=a?t(a):m,d=s?t(s):n;return e.jsxs("div",{className:g("flex flex-col space-y-2",x),children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:i}),d&&e.jsx("p",{className:"text-muted-foreground",children:d}),l]})},P=()=>{const[m,n]=h.useState("verifying"),[x,l]=h.useState(""),[a]=j(),s=y(),t=a.get("token"),i=a.get("email");h.useEffect(()=>{(async()=>{if(!t||!i){n("error"),l("Link de confirmação inválido ou expirado.");return}try{const c=await fetch("/api/auth/confirm-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,email:i})}),f=await c.json();if(!c.ok)throw new Error(f.message||"Falha ao confirmar o e-mail");n("success")}catch(c){console.error("Error confirming email:",c),n("error"),l(c.message||"Ocorreu um erro ao confirmar seu e-mail.")}})()},[t,i]);const d=()=>{switch(m){case"verifying":return e.jsxs(r,{sx:{textAlign:"center",py:4},children:[e.jsx(b,{size:60,thickness:4,sx:{mb:3}}),e.jsx(o,{variant:"h6",gutterBottom:!0,children:"Verificando seu e-mail..."}),e.jsx(o,{color:"textSecondary",children:"Por favor, aguarde enquanto confirmamos seu endereço de e-mail."})]});case"success":return e.jsxs(r,{sx:{textAlign:"center",py:4},children:[e.jsx(r,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:"success.light",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:3},children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"#fff"})})}),e.jsx(o,{variant:"h5",gutterBottom:!0,sx:{fontWeight:"bold"},children:"E-mail confirmado com sucesso!"}),e.jsx(o,{variant:"body1",color:"textSecondary",paragraph:!0,children:"Seu endereço de e-mail foi confirmado com sucesso."}),e.jsx(u,{variant:"contained",color:"primary",onClick:()=>s("/login"),sx:{mt:3,px:4,py:1.5},children:"Ir para o Login"})]});case"error":return e.jsxs(r,{sx:{textAlign:"center",py:4},children:[e.jsx(r,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:"error.light",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:3},children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z",fill:"#fff"})})}),e.jsx(o,{variant:"h5",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Falha na confirmação"}),e.jsx(o,{color:"error",paragraph:!0,children:x}),e.jsxs(r,{sx:{mt:3,display:"flex",gap:2,justifyContent:"center"},children:[e.jsx(u,{variant:"outlined",color:"primary",onClick:()=>window.location.reload(),children:"Tentar Novamente"}),e.jsx(u,{variant:"contained",color:"primary",onClick:()=>s("/"),children:"Página Inicial"})]})]});default:return null}};return e.jsxs(r,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",backgroundColor:"background.default"},children:[e.jsx(C,{}),e.jsx(v,{component:"main",maxWidth:"sm",sx:{mt:8,mb:4},children:e.jsx(w,{elevation:3,sx:{borderRadius:2,overflow:"hidden"},children:d()})})]})},N=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"}));export{N as E,C as P};
