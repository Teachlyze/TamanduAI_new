import{f,u as _,g as q,r as c,s as d,$ as B,U as S,a0 as $,T as u,k as I,B as g,d as L,j as e,m as t,W as b,l as M,bG as E,X as P,a5 as R,bH as z}from"./main-Bujpyeg-.js";import{B as O}from"./badge-BFkPUQ-P.js";import{C as U}from"./circle-check-big-CPiXxACV.js";import{G as p}from"./graduation-cap-Ch-mLRIV.js";import{M as F}from"./message-circle-BwRBSWf9.js";import{B as G}from"./bot-W1aPrpb0.js";import{T as V}from"./target-BbDyQUob.js";import{C as D}from"./chevron-left-v67NpT9C.js";import{B as Q}from"./bell-Cp3o7t82.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],X=f("clipboard-check",W);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],K=f("file-pen",J),Y=({collapsed:a,setCollapsed:h})=>{const{user:r,signOut:v}=_(),l=q(),[i,w]=c.useState({classes:0,students:0,activities:0}),[m,j]=c.useState(0);c.useEffect(()=>{r&&(N(),y())},[r]);const N=async()=>{try{const{count:s}=await d.from("classes").select("*",{count:"exact",head:!0}).eq("teacher_id",r.id),{count:x}=await d.from("activities").select("*",{count:"exact",head:!0}).eq("teacher_id",r.id),{data:n}=await d.from("classes").select("id").eq("teacher_id",r.id);let o=0;if(n&&n.length>0){const T=n.map(A=>A.id),{count:H}=await d.from("class_members").select("*",{count:"exact",head:!0}).in("class_id",T).eq("role","student");o=H||0}w({classes:s||0,students:o,activities:x||0})}catch(s){console.error("Erro ao carregar stats:",s)}},y=async()=>{try{const{count:s}=await d.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",r.id).eq("read",!1);j(s||0)}catch(s){console.error("Erro ao carregar notificações:",s)}},k=[{label:"Dashboard",icon:B,path:"/dashboard",gradient:"from-indigo-500 to-purple-500"},{label:"Turmas",icon:S,path:"/dashboard/classes",gradient:"from-blue-500 to-cyan-500",badge:i.classes},{label:"Atividades",icon:$,path:"/dashboard/activities",gradient:"from-purple-500 to-pink-500",badge:i.activities},{label:"Correções",icon:U,path:"/dashboard/corrections",gradient:"from-red-500 to-orange-500",badge:i.pendingCorrections||0},{label:"Alunos",icon:p,path:"/dashboard/students",gradient:"from-green-500 to-emerald-500",badge:i.students},{label:"Ranking",icon:u,path:"/dashboard/ranking",gradient:"from-yellow-500 to-amber-500"},{label:"Analytics",icon:I,path:"/dashboard/analytics",gradient:"from-orange-500 to-red-500"},{label:"Analytics Avançado",icon:u,path:"/dashboard/analytics-advanced",gradient:"from-pink-500 to-rose-500"},{label:"Banco de Questões",icon:g,path:"/dashboard/question-bank",gradient:"from-purple-500 to-indigo-500",badge:"Novo"},{label:"Relatórios",icon:X,path:"/dashboard/reports",gradient:"from-teal-500 to-cyan-500"},{label:"Agenda",icon:L,path:"/dashboard/calendar",gradient:"from-violet-500 to-purple-500"},{label:"Chatbot IA",icon:F,path:"/dashboard/chatbot",gradient:"from-indigo-500 to-blue-500",badge:"24/7"},{label:"Chatbot (Config.)",icon:G,path:"/dashboard/chatbot/settings",gradient:"from-fuchsia-500 to-purple-500"},{label:"Rascunhos",icon:K,path:"/dashboard/drafts",gradient:"from-gray-500 to-slate-500"},{label:"Missões",icon:V,path:"/dashboard/missions",gradient:"from-orange-500 to-red-500"}],C=async()=>{await v(),l("/login")};return e.jsx(t.aside,{initial:{x:-300},animate:{x:0,width:a?80:280},transition:{type:"spring",damping:20},className:"fixed left-0 top-0 h-screen bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 dark:from-emerald-900/30 dark:via-teal-900/30 dark:to-cyan-900/30 border-r border-emerald-200/50 dark:border-emerald-700/50 backdrop-blur-xl z-40 overflow-hidden shadow-xl",children:e.jsxs("div",{className:"flex flex-col h-full p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx(b,{mode:"wait",children:!a&&e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 via-purple-600 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(g,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"TamanduAI"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Professor"})]})]})}),e.jsx(t.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>h(!a),className:"p-2 rounded-lg hover:bg-muted transition-colors",children:a?e.jsx(M,{className:"w-5 h-5"}):e.jsx(D,{className:"w-5 h-5"})})]}),!a&&e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-2xl bg-gradient-to-br from-indigo-600 via-purple-600 to-blue-600 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"24px 24px"}})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:e.jsx(User,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"font-semibold text-sm truncate",children:["Prof. ",r?.user_metadata?.name?.split(" ")[0]||"Professor"]}),e.jsx("p",{className:"text-xs text-white/80 truncate",children:r?.email})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[e.jsxs(t.div,{whileHover:{scale:1.05},className:"text-center p-2 rounded-lg bg-white/10 backdrop-blur-sm",children:[e.jsx("div",{className:"text-lg font-bold text-yellow-300",children:i.classes}),e.jsx("div",{className:"text-xs text-white/80",children:"Turmas"})]}),e.jsxs(t.div,{whileHover:{scale:1.05},className:"text-center p-2 rounded-lg bg-white/10 backdrop-blur-sm",children:[e.jsx("div",{className:"text-lg font-bold text-blue-300",children:i.students}),e.jsx("div",{className:"text-xs text-white/80",children:"Alunos"})]}),e.jsxs(t.div,{whileHover:{scale:1.05},className:"text-center p-2 rounded-lg bg-white/10 backdrop-blur-sm",children:[e.jsx("div",{className:"text-lg font-bold text-green-300",children:i.activities}),e.jsx("div",{className:"text-xs text-white/80",children:"Atividades"})]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l("/dashboard/activities/new"),className:"flex-1 px-2 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-medium transition-colors",title:"Nova Atividade",children:"+ Atividade"}),e.jsx(t.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l("/dashboard/classes/new"),className:"flex-1 px-2 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-xs font-medium transition-colors",title:"Nova Turma",children:"+ Turma"})]})]})]}),e.jsx("nav",{className:"flex-1 space-y-1 overflow-y-auto scrollbar-thin scrollbar-thumb-muted",children:k.map((s,x)=>{const n=s.icon;return e.jsx(E,{to:s.path,className:({isActive:o})=>`group flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-200 ${o?"bg-gradient-to-r "+s.gradient+" text-white shadow-lg scale-105":"hover:bg-muted text-muted-foreground hover:text-foreground"}`,children:({isActive:o})=>e.jsxs(e.Fragment,{children:[e.jsx(t.div,{whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},className:`p-2 rounded-lg ${o?"bg-white/20":"bg-muted"}`,children:e.jsx(n,{className:"w-5 h-5"})}),e.jsx(b,{mode:"wait",children:!a&&e.jsxs(t.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex-1 flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:s.label}),s.badge&&e.jsx(O,{className:`${o?"bg-white/20 text-white":"bg-primary/10 text-primary"} text-xs`,children:s.badge})]})})]})},s.path)})}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-border/50",children:[e.jsxs(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("/dashboard/notifications"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-muted text-muted-foreground hover:text-foreground transition-all relative ${a?"justify-center":""}`,children:[e.jsxs("div",{className:"p-2 rounded-lg bg-muted relative",children:[e.jsx(Q,{className:"w-5 h-5"}),m>0&&e.jsx(t.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:m})]}),!a&&e.jsx("span",{className:"font-medium",children:"Notificações"})]}),e.jsxs(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("/dashboard/settings"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-muted text-muted-foreground hover:text-foreground transition-all ${a?"justify-center":""}`,children:[e.jsx("div",{className:"p-2 rounded-lg bg-muted",children:e.jsx(P,{className:"w-5 h-5"})}),!a&&e.jsx("span",{className:"font-medium",children:"Configurações"})]}),e.jsxs(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l("/profile/edit"),className:`w-full flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-muted text-muted-foreground hover:text-foreground transition-all ${a?"justify-center":""}`,children:[e.jsx("div",{className:"p-2 rounded-lg bg-muted",children:e.jsx(p,{className:"w-5 h-5"})}),!a&&e.jsx("span",{className:"font-medium",children:"Editar Perfil"})]}),e.jsxs(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:C,className:`w-full flex items-center gap-3 px-3 py-3 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 text-muted-foreground hover:text-red-600 transition-all ${a?"justify-center":""}`,children:[e.jsx("div",{className:"p-2 rounded-lg bg-muted",children:e.jsx(R,{className:"w-5 h-5"})}),!a&&e.jsx("span",{className:"font-medium",children:"Sair"})]})]})]})})},ne=()=>{const[a,h]=c.useState(!1);return e.jsxs("div",{className:"flex h-screen overflow-hidden bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 dark:from-emerald-900/20 dark:via-teal-900/20 dark:to-cyan-900/20",children:[e.jsx(Y,{collapsed:a,setCollapsed:h}),e.jsx(t.main,{animate:{marginLeft:a?0:280},transition:{type:"spring",damping:20},className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"min-h-full p-6",children:e.jsx(z,{})})})]})};export{ne as default};
