import{r as i,u as O,g as R,j as e,o as T,m as r,B as U,p as v,b as w,U as _,k as F,z as p}from"./main-BTTCSkdE.js";import{n as N}from"./roleNavigation-mm4rSh2G.js";import{P as K}from"./PremiumButton-TaG2j_oH.js";import{M}from"./mail-DX5iW6Zx.js";import{L as V}from"./lock-C13edBZz.js";import{A as $}from"./arrow-right-CGp2Yr45.js";import{S as D}from"./sparkles-BFYp_fYs.js";const ee=()=>{const[o,S]=i.useState(""),[n,k]=i.useState(""),[C,h]=i.useState(!1),[l,A]=i.useState({}),[d,g]=i.useState({}),[E,P]=i.useState(!0),{signIn:I,user:m,loading:f}=O(),c=R();if(i.useEffect(()=>{if(m){const s=m.user_metadata?.role||"student";N(c,s)}else f||P(!1)},[m,f,c]),E)return e.jsx(T,{message:"Verificando autenticação..."});const x=(s,a)=>{const t={...l};switch(s){case"email":a?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?delete t.email:t.email="Por favor, insira um e-mail válido":t.email="O e-mail é obrigatório";break;case"password":a?a.length<6?t.password="A senha deve ter pelo menos 6 caracteres":delete t.password:t.password="A senha é obrigatória";break}return A(t),t},y=s=>{g(a=>({...a,[s]:!0})),x(s,s==="email"?o:n)},L=async s=>{s.preventDefault(),g({email:!0,password:!0});const a=x("email",o),t=x("password",n),q={...a,...t};if(Object.keys(q).length>0){p.error("Por favor, corrija os erros no formulário");return}h(!0);try{const u=await I(o,n);p.success("Login realizado com sucesso!");const j=sessionStorage.getItem("pendingClassCode");if(j){sessionStorage.removeItem("pendingClassCode"),c(`/join-class/${j}`);return}const b=new URLSearchParams(window.location.search).get("redirect");if(b){c(b);return}const B=u?.user?.user_metadata?.role||m?.user_metadata?.role||"student";N(c,B)}catch(u){console.error("Login error:",u),p.error(u.message||"Erro ao fazer login. Verifique suas credenciais.")}finally{h(!1)}},z=[{icon:D,title:"IA Avançada",description:"Chatbot inteligente para suas turmas"},{icon:_,title:"Gestão Fácil",description:"Organize alunos e professores"},{icon:F,title:"Analytics",description:"Acompanhe o progresso em tempo real"}];return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-background",children:e.jsxs(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"w-full max-w-md",children:[e.jsxs(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"flex items-center justify-center mb-8",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-primary rounded-2xl flex items-center justify-center shadow-themed-lg",children:e.jsx(U,{className:"w-7 h-7 text-white"})}),e.jsx("h1",{className:"ml-3 text-3xl font-bold text-gradient-primary",children:"TamanduAI"})]}),e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Bem-vindo de volta!"}),e.jsx("p",{className:"text-muted-foreground",children:"Entre para continuar gerenciando suas turmas"})]}),e.jsxs(r.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onSubmit:L,className:"space-y-6",children:[e.jsx(v,{label:"E-mail",type:"email",value:o,onChange:s=>S(s.target.value),onBlur:()=>y("email"),leftIcon:M,error:d.email&&l.email,success:d.email&&!l.email&&o,clearable:!0,required:!0,placeholder:"seu@email.com",autoComplete:"email"}),e.jsx(v,{label:"Senha",type:"password",value:n,onChange:s=>k(s.target.value),onBlur:()=>y("password"),leftIcon:V,error:d.password&&l.password,success:d.password&&!l.password&&n,required:!0,placeholder:"••••••••",autoComplete:"current-password"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-border text-primary focus:ring-2 focus:ring-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Lembrar-me"})]}),e.jsx(w,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Esqueceu a senha?"})]}),e.jsx(K,{type:"submit",variant:"gradient",size:"lg",fullWidth:!0,loading:C,rightIcon:$,children:"Entrar"})]}),e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"my-8 flex items-center gap-4",children:[e.jsx("div",{className:"flex-1 h-px bg-border"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"ou"}),e.jsx("div",{className:"flex-1 h-px bg-border"})]}),e.jsxs(r.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-center text-muted-foreground",children:["Não tem uma conta?"," ",e.jsx(w,{to:"/register",className:"text-primary font-semibold hover:underline",children:"Cadastre-se grátis"})]})]})}),e.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-primary relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),e.jsx("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:e.jsxs(r.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:[e.jsxs("h2",{className:"text-4xl font-bold mb-6",children:["A plataforma educacional",e.jsx("br",{}),"que professores adoram"]}),e.jsxs("p",{className:"text-xl text-white/90 mb-12",children:["Reduza 70% do tempo em tarefas administrativas e",e.jsx("br",{}),"foque no que realmente importa: ensinar."]}),e.jsx("div",{className:"space-y-6",children:z.map((s,a)=>e.jsxs(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+a*.1},className:"flex items-start gap-4 p-4 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center flex-shrink-0",children:e.jsx(s.icon,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:s.title}),e.jsx("p",{className:"text-white/80 text-sm",children:s.description})]})]},s.title))}),e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"mt-12 grid grid-cols-3 gap-6",children:[{value:"10K+",label:"Professores"},{value:"50K+",label:"Alunos"},{value:"99%",label:"Satisfação"}].map((s,a)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:s.value}),e.jsx("div",{className:"text-sm text-white/70",children:s.label})]},a))})]})})]})]})};export{ee as default};
